"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_panels_MiddlePanel_tsx";
exports.ids = ["_ssr_components_panels_MiddlePanel_tsx"];
exports.modules = {

/***/ "(ssr)/./components/panels/MiddlePanel.tsx":
/*!*******************************************!*\
  !*** ./components/panels/MiddlePanel.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MiddlePanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/index-8afac004.esm.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/PerspectiveCamera.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/Environment.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/ContactShadows.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/Grid.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n// Optimized flame component for rocket engine\nfunction RocketFlame({ isLaunched, throttle = 0, preLaunchFire = false, countdownStage = 0 }) {\n    const flameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const flameVariation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        scaleY: 0,\n        scaleX: 0,\n        scaleZ: 0\n    });\n    const launchTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((state)=>{\n        if (!flameRef.current || !isLaunched && !preLaunchFire) return;\n        const time = state.clock.getElapsedTime();\n        // Track when launch begins\n        if (isLaunched && launchTime.current === null) {\n            launchTime.current = time;\n        } else if (!isLaunched) {\n            launchTime.current = null;\n        }\n        // Determine effective throttle - enhanced for more dramatic effect during launch\n        let effectiveThrottle;\n        if (isLaunched) {\n            if (launchTime.current !== null) {\n                const timeSinceLaunch = time - launchTime.current;\n                // Ground fire phase (0-2 seconds): intense pulsing effect\n                if (timeSinceLaunch < 2.0) {\n                    // More dramatic pulsing during ground phase\n                    effectiveThrottle = 1.4 + Math.sin(timeSinceLaunch * 6) * 0.4 + Math.sin(timeSinceLaunch * 20) * 0.2;\n                } else if (timeSinceLaunch < 2.5) {\n                    // Crescendo before liftoff (final buildup)\n                    effectiveThrottle = 1.8 + Math.sin(timeSinceLaunch * 30) * 0.5;\n                } else {\n                    // Sustained strong flame after liftoff\n                    effectiveThrottle = throttle * 1.6 + Math.sin(time * 15) * 0.15;\n                }\n            } else {\n                effectiveThrottle = throttle * 1.4;\n            }\n        } else {\n            // Pre-launch more subdued flame\n            effectiveThrottle = 0.8; // Slightly increased from 0.7\n        }\n        // Calculate smooth variations using sine waves - more dramatic for launch\n        const flameFrequency = isLaunched ? 15 : 10;\n        // Smooth interpolation of previous values for less jitter\n        flameVariation.current.scaleY = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleY, 0.8 + Math.sin(time * flameFrequency) * 0.3 + Math.sin(time * 17) * 0.1, isLaunched ? 0.3 : 0.2);\n        // Apply flame scale with smooth modulation - larger for actual launch\n        const baseScaleMultiplier = isLaunched ? 2.0 : 1.8;\n        flameRef.current.scale.y = flameVariation.current.scaleY * (0.5 + effectiveThrottle * baseScaleMultiplier);\n        // Smooth X/Z scale variation - more dramatic during launch\n        const xzVariation = isLaunched ? 0.15 : 0.1;\n        const newScaleX = 0.7 + Math.sin(time * 12) * xzVariation + Math.sin(time * 23) * (xzVariation / 2);\n        const newScaleZ = 0.7 + Math.cos(time * 14) * xzVariation + Math.cos(time * 19) * (xzVariation / 2);\n        flameVariation.current.scaleX = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleX, newScaleX, 0.15);\n        flameVariation.current.scaleZ = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleZ, newScaleZ, 0.15);\n        flameRef.current.scale.x = flameVariation.current.scaleX;\n        flameRef.current.scale.z = flameVariation.current.scaleZ;\n    });\n    if (!isLaunched && !preLaunchFire) return null;\n    // Adjusted flame position to align with the rocket engine\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: flameRef,\n        position: [\n            0,\n            -3,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.5,\n                            2.3,\n                            24\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FF4400\",\n                        transparent: true,\n                        opacity: 0.85\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 95,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.1,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.38,\n                            1.9,\n                            20\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FF7700\",\n                        transparent: true,\n                        opacity: 0.9\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 100,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.2,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.28,\n                            1.5,\n                            16\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FFCC00\",\n                        transparent: true,\n                        opacity: 0.95\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 105,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                color: \"#FF5500\",\n                intensity: isLaunched ? 9 * throttle : 7 * throttle,\n                distance: 7\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 110,\n                columnNumber: 7\n            }, this),\n            \" \",\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                color: \"#FFAA00\",\n                intensity: isLaunched ? 6 * throttle : 5 * throttle,\n                distance: 4\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 111,\n                columnNumber: 7\n            }, this),\n            \" \"\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 93,\n        columnNumber: 5\n    }, this);\n}\n// Optimized rocket model component\nfunction RocketModel({ selected, isLaunched, throttle, highlightedPart, preLaunchFire = false, countdownStage = 0 }) {\n    const rocketRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const bodyRadius = 0.5;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((_, delta)=>{\n        // Only rotate for display when neither selected nor launched\n        if (rocketRef.current && !selected && !isLaunched && !preLaunchFire) {\n            rocketRef.current.rotation.y += delta * 0.1;\n        } else if (rocketRef.current && preLaunchFire) {\n            // Ensure rocket is facing straight up during pre-launch\n            rocketRef.current.rotation.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(rocketRef.current.rotation.x, 0, 0.1);\n            rocketRef.current.rotation.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(rocketRef.current.rotation.z, 0, 0.1);\n        }\n    });\n    const highlightEmissive = \"#00AAFF\";\n    const highlightIntensity = 0.5;\n    const getEmissive = (part)=>highlightedPart === part ? highlightEmissive : selected ? \"#FFFFFF\" : \"#000000\";\n    const getEmissiveIntensity = (part)=>highlightedPart === part ? highlightIntensity : selected ? 0.1 : 0;\n    // Adjust the entire rocket to sit properly on the grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: rocketRef,\n        position: [\n            0,\n            0.8,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    1.2,\n                    0\n                ],\n                name: \"upper-airframe\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            bodyRadius,\n                            bodyRadius,\n                            1.6,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 157,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#8C8D91\",\n                        metalness: 0.6,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"airframe\"),\n                        emissiveIntensity: getEmissiveIntensity(\"airframe\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 158,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 156,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.8,\n                    0\n                ],\n                name: \"lower-airframe\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            bodyRadius,\n                            bodyRadius,\n                            2.4,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#8C8D91\",\n                        metalness: 0.6,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"airframe\"),\n                        emissiveIntensity: getEmissiveIntensity(\"airframe\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 170,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 168,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    2,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"torusGeometry\", {\n                        args: [\n                            bodyRadius,\n                            0.03,\n                            16,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 181,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#FFFFFF\"\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 182,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 180,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    2.75,\n                    0\n                ],\n                name: \"nosecone\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            bodyRadius,\n                            1.5,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#A0A7B8\",\n                        metalness: 0.7,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"nosecone\"),\n                        emissiveIntensity: getEmissiveIntensity(\"nosecone\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 188,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 186,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n                position: [\n                    0,\n                    0.4,\n                    0\n                ],\n                name: \"electronics\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    bodyRadius + 0.01,\n                                    bodyRadius + 0.01,\n                                    0.4,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 200,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#222222\",\n                                metalness: 0.35,\n                                roughness: 0.7,\n                                emissive: getEmissive(\"electronics\"),\n                                emissiveIntensity: getEmissiveIntensity(\"electronics\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 201,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 199,\n                        columnNumber: 9\n                    }, this),\n                    [\n                        0.2,\n                        -0.2\n                    ].map((y, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                            position: [\n                                0,\n                                y,\n                                0\n                            ],\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"torusGeometry\", {\n                                    args: [\n                                        bodyRadius + 0.01,\n                                        0.02,\n                                        16,\n                                        32\n                                    ]\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 213,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                    color: \"#888888\",\n                                    metalness: 0.8,\n                                    roughness: 0.2\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 214,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, i, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 212,\n                            columnNumber: 11\n                        }, this)),\n                    [\n                        0,\n                        1,\n                        2,\n                        3\n                    ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                            position: [\n                                Math.sin(i * Math.PI / 2) * (bodyRadius - 0.05),\n                                0,\n                                Math.cos(i * Math.PI / 2) * (bodyRadius - 0.05)\n                            ],\n                            rotation: [\n                                0,\n                                i * Math.PI / 2,\n                                Math.PI / 2\n                            ],\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                    args: [\n                                        0.04,\n                                        0.04,\n                                        0.1,\n                                        8\n                                    ]\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 229,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                    color: \"#444444\",\n                                    metalness: 0.7,\n                                    roughness: 0.3\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 230,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, i, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 220,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 198,\n                columnNumber: 7\n            }, this),\n            [\n                0,\n                1,\n                2,\n                3\n            ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                    position: [\n                        Math.sin(i * Math.PI / 2) * 0.6,\n                        -1.5,\n                        Math.cos(i * Math.PI / 2) * 0.6\n                    ],\n                    rotation: [\n                        0,\n                        i * Math.PI / 2,\n                        0\n                    ],\n                    name: \"fins\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"boxGeometry\", {\n                            args: [\n                                0.1,\n                                1,\n                                0.8\n                            ]\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 247,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                            color: \"#A0A7B8\",\n                            metalness: 0.3,\n                            roughness: 0.3,\n                            emissive: getEmissive(\"fins\"),\n                            emissiveIntensity: getEmissiveIntensity(\"fins\")\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 248,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, i, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 237,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n                position: [\n                    0,\n                    -2.2,\n                    0\n                ],\n                name: \"engine\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    0.35,\n                                    0.4,\n                                    0.5,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#303030\",\n                                metalness: 0.7,\n                                roughness: 0.3,\n                                emissive: getEmissive(\"engine\"),\n                                emissiveIntensity: getEmissiveIntensity(\"engine\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 262,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        position: [\n                            0,\n                            -0.3,\n                            0\n                        ],\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                                args: [\n                                    0.4,\n                                    0.4,\n                                    32,\n                                    1,\n                                    true\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 272,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#404040\",\n                                metalness: 0.7,\n                                roughness: 0.2,\n                                emissive: getEmissive(\"engine\"),\n                                emissiveIntensity: getEmissiveIntensity(\"engine\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 273,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 271,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        position: [\n                            0,\n                            -0.5,\n                            0\n                        ],\n                        rotation: [\n                            Math.PI,\n                            0,\n                            0\n                        ],\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    0.28,\n                                    0.32,\n                                    0.3,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#111111\",\n                                metalness: 0.5,\n                                roughness: 0.8\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 284,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 282,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 259,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    1.5,\n                    0\n                ],\n                name: \"parachute\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            0.2,\n                            0.2,\n                            0.3,\n                            16\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 290,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#DD2222\",\n                        metalness: 0.2,\n                        roughness: 0.5,\n                        emissive: getEmissive(\"parachute\"),\n                        emissiveIntensity: getEmissiveIntensity(\"parachute\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 289,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketFlame, {\n                isLaunched: isLaunched,\n                throttle: throttle,\n                preLaunchFire: preLaunchFire || highlightedPart === \"engine\",\n                countdownStage: preLaunchFire ? countdownStage : highlightedPart === \"engine\" ? 3 : 0\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 301,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 154,\n        columnNumber: 5\n    }, this);\n}\n// Optimized dynamic camera that follows the rocket\nfunction DynamicCamera({ isLaunched, target, view }) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Camera positions are now more dramatically different for each view\n    const initialPositions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 15, 0),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(15, 0, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(10, 10, 10) // Isometric view\n    });\n    // Camera up vectors for each view to properly orient the camera\n    const camerasUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n    });\n    const initialCameraPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const staticGroundY = -2.8; // Updated to match the grid position\n    const lastRocketY = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(staticGroundY);\n    const cameraLag = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const prevViewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(view);\n    // Set initial position and orientation when view changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (ref.current) {\n            console.log(`DynamicCamera: View changed to ${view}`);\n            // Define positions for each view\n            const positions = {\n                top: [\n                    0,\n                    15,\n                    0\n                ],\n                side: [\n                    15,\n                    0,\n                    0\n                ],\n                perspective: [\n                    10,\n                    10,\n                    10\n                ] // Isometric view\n            };\n            const position = positions[view];\n            const positionVector = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n            initialPositions.current[view] = positionVector.clone();\n            // Set camera position\n            ref.current.position.copy(positionVector);\n            // Set camera up vector based on view\n            ref.current.up.copy(camerasUp.current[view]);\n            // Look at target\n            ref.current.lookAt(0, staticGroundY, 0);\n            // Update previous view reference\n            prevViewRef.current = view;\n        }\n    }, [\n        view\n    ]);\n    // Track rocket launch\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isLaunched && ref.current) {\n            // Store initial camera position on launch\n            initialCameraPosition.current = ref.current.position.clone();\n            lastRocketY.current = staticGroundY;\n            cameraLag.current = 0;\n        } else {\n            // Reset when not launched\n            initialCameraPosition.current = null;\n            lastRocketY.current = staticGroundY;\n            cameraLag.current = 0;\n        }\n    }, [\n        isLaunched\n    ]);\n    // Main frame update\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((_, delta)=>{\n        if (!ref.current) return;\n        if (isLaunched) {\n            // Direct camera tracking for rocket\n            const rocketX = target[0] || 0;\n            const rocketY = target[1] || staticGroundY;\n            const rocketZ = target[2] || 0;\n            // Calculate rocket velocity to determine how quickly camera should follow\n            const rocketVelocityY = (rocketY - lastRocketY.current) / Math.max(delta, 0.016);\n            lastRocketY.current = rocketY;\n            // Calculate altitude\n            const altitude = rocketY - staticGroundY;\n            // Update camera lag based on rocket velocity\n            cameraLag.current = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(cameraLag.current, Math.max(0, Math.min(5, rocketVelocityY * 0.05)), 0.05);\n            const initialPos = initialCameraPosition.current || initialPositions.current[view];\n            if (view === \"perspective\") {\n                // Calculate horizontal distance and angle from initial position\n                const horizDist = Math.sqrt(initialPos.x * initialPos.x + initialPos.z * initialPos.z);\n                const angle = Math.atan2(initialPos.z, initialPos.x);\n                // Calculate scaling factor based on altitude to zoom out as rocket goes higher\n                const distanceScale = 1 + altitude * 0.02; // Scale distance as rocket ascends\n                // Apply distance scaling with minimum distance\n                const scaledHorizDist = Math.max(horizDist, horizDist * distanceScale);\n                // More responsive positioning - increase follow speed as rocket goes higher\n                // Apply some deliberate lag for dramatic effect\n                const targetY = initialPos.y + (rocketY - staticGroundY - cameraLag.current);\n                // Update positions with appropriate scale and smoothing\n                ref.current.position.x = Math.cos(angle) * scaledHorizDist;\n                ref.current.position.z = Math.sin(angle) * scaledHorizDist;\n                // Smooth camera Y movement - faster follow for higher velocities\n                const followSpeed = Math.min(1, 0.1 + Math.abs(rocketVelocityY) * 0.001);\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, targetY, followSpeed);\n            } else if (view === \"top\") {\n                // Top view - stay directly above rocket with increasing height\n                const heightScale = 1 + altitude * 0.05; // Scale height based on altitude\n                const topHeight = rocketY + 15 * heightScale; // Scale viewing height\n                // Smoother transitions for position\n                ref.current.position.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.x, rocketX, 0.1);\n                ref.current.position.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.z, rocketZ, 0.1);\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, topHeight, 0.05);\n            } else if (view === \"side\") {\n                // Side view - maintain X distance but track height directly with some lag\n                const targetY = rocketY - cameraLag.current * 0.5; // Reduced lag for side view\n                const followSpeed = Math.min(1, 0.15 + Math.abs(rocketVelocityY) * 0.001);\n                // Smooth tracking\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, targetY, followSpeed);\n                ref.current.position.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.z, rocketZ, 0.1);\n                // Zoom out slightly based on altitude\n                const sideDistance = initialPos.x * (1 + altitude * 0.01);\n                ref.current.position.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.x, sideDistance, 0.05);\n            }\n            // Always look directly at the rocket, maintaining the view orientation\n            ref.current.lookAt(rocketX, rocketY, rocketZ);\n            // Ensure we maintain proper up vector during flight for each view type\n            ref.current.up.copy(camerasUp.current[view]);\n            // Adjust FOV for better visibility - more dynamic FOV change\n            const targetFOV = Math.min(70, 50 + altitude * 0.15);\n            if (ref.current.fov !== targetFOV) {\n                ref.current.fov = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.fov, targetFOV, 0.05);\n                ref.current.updateProjectionMatrix();\n            }\n        }\n    // Don't force the camera to look at a specific point when not launched\n    // This allows OrbitControls to take over completely\n    });\n    // Camera positions by view type\n    const cameraPositions = {\n        top: [\n            0,\n            15,\n            0\n        ],\n        side: [\n            15,\n            0,\n            0\n        ],\n        perspective: [\n            10,\n            10,\n            10\n        ]\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_4__.PerspectiveCamera, {\n        ref: ref,\n        makeDefault: true,\n        position: cameraPositions[view],\n        fov: 50\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 489,\n        columnNumber: 10\n    }, this);\n}\n// Global tracking of rocket position for debugging - emergency backup\nlet globalRocketY = -2.8; // Updated global reference\nfunction RocketSimulation({ selected, isLaunched, throttle, resetTrigger, setFlightData, highlightedPart }) {\n    console.log(`ROCKET SIMULATION RENDER - isLaunched: ${isLaunched}, throttle: ${throttle}`);\n    // Track mount/unmount for debugging\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"RocketSimulation mounted\");\n        return ()=>console.log(\"RocketSimulation unmounted\");\n    }, []);\n    // Emit launch events for better component coordination \n    const emitLaunchEvent = (type, data)=>{\n        if (false) {}\n    };\n    // Fixed ground position - standardized to match grid\n    const GROUND_Y = -2.8; // Standardized ground position to match grid\n    // Make GROUND_POSITION an object to be re-created each time to avoid reference issues\n    const GROUND_POSITION = [\n        0,\n        GROUND_Y,\n        0\n    ];\n    // State for rocket physics - with precise ground position\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(GROUND_POSITION);\n    const [velocity, setVelocity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    const [rotation, setRotation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    // Use refs to track the actual latest values to prevent stale closures\n    const positionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(GROUND_POSITION);\n    const velocityRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([\n        0,\n        0,\n        0\n    ]);\n    const isLaunchedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Update refs when state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        positionRef.current = position;\n        velocityRef.current = velocity;\n        isLaunchedRef.current = isLaunched;\n    }, [\n        position,\n        velocity,\n        isLaunched\n    ]);\n    // Simplify to a single showFire state for pre-launch\n    const [showFire, setShowFire] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const launchTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const startMovingTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const lastUpdateTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Prevent unwanted transitions\n    const isTransitioning = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Basic physics constants - dramatically increased for guaranteed movement\n    const gravity = -9.8;\n    const maxThrust = 150 * throttle; // Increased from 100 to 150 for faster movement\n    const baseDrag = 0.01; // Further reduced drag for even faster ascent\n    // Simple turbulence effect\n    const turbulenceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        z: 0,\n        rotX: 0,\n        rotZ: 0\n    });\n    // Update parent with flight data - ensure it properly reflects actual movement\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Calculate actual speed from velocity\n        const currentSpeed = Math.sqrt(velocity[0] * velocity[0] + velocity[1] * velocity[1] + velocity[2] * velocity[2]);\n        // Calculate altitude as distance from ground level\n        const currentAltitude = Math.max(0, position[1] - GROUND_Y);\n        // If rocket has crossed the threshold to start moving, ensure we send non-zero values\n        if (isLaunchedRef.current && startMovingTime.current > 0) {\n            const now = Date.now() / 1000;\n            if (now < startMovingTime.current) {\n                // During pre-launch fire, pass position but with zero velocity\n                setFlightData(position, [\n                    0,\n                    0,\n                    0\n                ]);\n                console.log(\"Pre-launch fire phase - showing zero speed\");\n            } else {\n                // We're in actual flight phase - always ensure minimum values if launched\n                // This guarantees that when movement starts, UI updates immediately\n                const minVelocity = position[1] > GROUND_Y ? Math.max(0.1, currentSpeed) : 0;\n                const minAltitude = position[1] > GROUND_Y ? Math.max(0.1, currentAltitude) : 0;\n                // Create position and velocity that guarantee visible dashboard values\n                const effectivePosition = [\n                    position[0],\n                    // Ensure altitude is at least slightly above ground\n                    position[1] > GROUND_Y ? Math.max(position[1], GROUND_Y + 0.1) : position[1],\n                    position[2]\n                ];\n                const effectiveVelocity = [\n                    velocity[0],\n                    // Ensure vertical velocity is at least slightly positive\n                    velocity[1] > 0 ? Math.max(velocity[1], 0.1) : velocity[1],\n                    velocity[2]\n                ];\n                // Send these guaranteed values to update UI\n                setFlightData(effectivePosition, effectiveVelocity);\n                console.log(`Flight data updated: Alt=${minAltitude.toFixed(2)}, Speed=${minVelocity.toFixed(2)}`);\n            }\n        } else {\n            // Not launched or reset state\n            setFlightData(position, velocity);\n        }\n    }, [\n        position,\n        velocity,\n        setFlightData,\n        isLaunchedRef\n    ]);\n    // Reset position when requested - ensure absolute consistency\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (resetTrigger) {\n            // Lock transitions to prevent visual jumps\n            isTransitioning.current = true;\n            // Force an immediate position update to ground position\n            requestAnimationFrame(()=>{\n                // Immediately stop any movement\n                setVelocity([\n                    0,\n                    0,\n                    0\n                ]);\n                velocityRef.current = [\n                    0,\n                    0,\n                    0\n                ];\n                // Ensure we're exactly at ground position\n                setPosition(GROUND_POSITION);\n                positionRef.current = GROUND_POSITION;\n                // Reset rotation smoothly\n                setRotation([\n                    0,\n                    0,\n                    0\n                ]);\n                // Turn off fire\n                setShowFire(false);\n                // Reset all time references\n                launchTime.current = 0;\n                startMovingTime.current = 0;\n                lastUpdateTime.current = 0;\n                // Notify other components about reset\n                emitLaunchEvent(\"rocketReset\", {\n                    position: GROUND_POSITION\n                });\n                // Keep locked for long enough to ensure smooth transition\n                setTimeout(()=>{\n                    // Second position update to ensure consistency\n                    setPosition(GROUND_POSITION);\n                    positionRef.current = GROUND_POSITION;\n                    // Release transition lock after stable position is confirmed\n                    setTimeout(()=>{\n                        isTransitioning.current = false;\n                    }, 50);\n                }, 50);\n            });\n        }\n    }, [\n        resetTrigger\n    ]);\n    // Handle launch state changes - with careful state management\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Lock transitions briefly during state change\n        isTransitioning.current = true;\n        if (isLaunched) {\n            // Ensure we're exactly at ground position to start\n            setPosition(GROUND_POSITION);\n            positionRef.current = GROUND_POSITION;\n            // Start with zero velocity (speedometer will show 0 until real movement starts)\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            velocityRef.current = [\n                0,\n                0,\n                0\n            ];\n            // Show fire immediately\n            setShowFire(true);\n            // Set current time as launch time\n            const now = Date.now() / 1000;\n            launchTime.current = now;\n            // Schedule the rocket to start moving after 2 seconds (increased from 300ms for clearer ground fire effect)\n            startMovingTime.current = now + 2.0;\n            lastUpdateTime.current = now;\n            // Emit event for camera to follow rocket\n            emitLaunchEvent(\"rocketLaunched\", {\n                position: GROUND_POSITION\n            });\n        } else {\n            // Reset the fire when not launched\n            setShowFire(false);\n            launchTime.current = 0;\n            startMovingTime.current = 0;\n            lastUpdateTime.current = 0;\n            // Ensure we're exactly at ground level when not launched\n            setPosition(GROUND_POSITION);\n            positionRef.current = GROUND_POSITION;\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            velocityRef.current = [\n                0,\n                0,\n                0\n            ];\n        }\n        // Release transition lock after a brief delay\n        setTimeout(()=>{\n            isTransitioning.current = false;\n        }, 50);\n    }, [\n        isLaunched\n    ]);\n    // Simple physics simulation - runs every frame with protections against visual jumps\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((state, delta)=>{\n        // Skip frames during transitions to prevent visual jumps\n        if (isTransitioning.current) return;\n        const currentTime = state.clock.elapsedTime;\n        // If not launched, do not forcibly reset position; allow free movement\n        if (!isLaunchedRef.current) {\n            // No forced position reset here\n            return;\n        }\n        // Cap delta to prevent physics glitches\n        const cappedDelta = Math.min(delta, 0.1);\n        // Ensure consistent timing even with frame drops\n        const timeSinceLastUpdate = lastUpdateTime.current > 0 ? currentTime - lastUpdateTime.current : cappedDelta;\n        lastUpdateTime.current = currentTime;\n        // Check if we should start moving (after showing fire for a bit)\n        // Force immediate movement tracking even if visually we wait\n        const shouldMove = startMovingTime.current > 0 && currentTime >= startMovingTime.current;\n        // Log movement state for debugging\n        const w = window; // Type assertion for custom property\n        if (shouldMove && !w.hasLoggedMovementStart) {\n            console.log(\"ROCKET MOVEMENT STARTING NOW\");\n            w.hasLoggedMovementStart = true;\n        }\n        // Only apply upward movement physics after the delay\n        if (shouldMove) {\n            // Calculate time since actual movement started for smooth acceleration\n            const timeSinceMoving = currentTime - startMovingTime.current;\n            // Guaranteed movement acceleration curve for visible liftoff\n            let thrustFactor;\n            // Immediate full power for guaranteed movement\n            thrustFactor = 1.0;\n            // Extreme thrust multiplier for guaranteed visible ascent\n            const currentThrust = maxThrust * 4.0; // Fixed at maximum power\n            // Virtually no drag for first 5 seconds to ensure visible movement\n            const timeSinceLiftoff = timeSinceMoving;\n            const currentDrag = timeSinceLiftoff < 5.0 ? 0.01 : baseDrag * 0.2 * Math.abs(velocityRef.current[1]);\n            // Calculate acceleration - guaranteed upward force\n            const netAcceleration = currentThrust + gravity - currentDrag;\n            // Force a minimum acceleration to guarantee upward movement\n            const guaranteedAcceleration = Math.max(netAcceleration, 20.0);\n            // Update velocity with guaranteed minimum upward velocity\n            const newVelocity = [\n                velocityRef.current[0] * 0.98,\n                Math.max(velocityRef.current[1] + guaranteedAcceleration * timeSinceLastUpdate, 5.0),\n                velocityRef.current[2] * 0.98 // Dampen horizontal drift\n            ];\n            // Very minor turbulence for visual interest (reduced amplitude)\n            turbulenceRef.current = {\n                x: Math.sin(currentTime * 4) * 0.002,\n                z: Math.cos(currentTime * 3) * 0.002,\n                rotX: Math.sin(currentTime * 2) * 0.001,\n                rotZ: Math.cos(currentTime * 2.5) * 0.001\n            };\n            // Get current position from ref to ensure latest value\n            const currPos = positionRef.current;\n            // Update position with FORCED upward movement - dramatically increase the delta\n            const positionDelta = newVelocity[1] * timeSinceLastUpdate;\n            // Force an EXTREMELY LARGE minimum position change for much faster movement\n            const guaranteedDelta = Math.max(positionDelta, 5.0 * timeSinceLastUpdate);\n            // Create a new position array to ensure reference is broken\n            const newPosition = [\n                currPos[0] + newVelocity[0] * timeSinceLastUpdate + turbulenceRef.current.x,\n                currPos[1] + guaranteedDelta,\n                currPos[2] + newVelocity[2] * timeSinceLastUpdate + turbulenceRef.current.z\n            ];\n            // Ensure velocity actually reflects the movement speed\n            // This fixes the speedometer to match actual movement\n            const actualVelocity = [\n                newVelocity[0],\n                // Calculate actual velocity based on position change\n                (newPosition[1] - currPos[1]) / timeSinceLastUpdate,\n                newVelocity[2]\n            ];\n            // Update global tracking variable for emergency backup\n            globalRocketY = Math.max(globalRocketY, newPosition[1]);\n            // Log forced position change for debugging\n            console.log(`FORCING position change: delta=${guaranteedDelta.toFixed(2)}, new y=${newPosition[1].toFixed(2)}, global=${globalRocketY.toFixed(2)}`);\n            // Ground collision prevention - ensure we never go below ground\n            if (newPosition[1] < GROUND_Y) {\n                newPosition[1] = GROUND_Y;\n                newVelocity[1] = 0;\n            }\n            // Get current rotation from state\n            const currRot = rotation;\n            // Very slight rotation based on movement (minimal, reduced amplitude)\n            const newRotation = [\n                three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(currRot[0], turbulenceRef.current.rotX, 0.02),\n                currRot[1],\n                three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(currRot[2], turbulenceRef.current.rotZ, 0.02)\n            ];\n            // Always update position to ensure movement - use actualVelocity for speedometer\n            velocityRef.current = actualVelocity; // Use the calculated actual velocity\n            positionRef.current = newPosition;\n            // Ensure we're updating state to reflect changes in UI\n            setVelocity(actualVelocity); // Use actual velocity for accurate speedometer\n            setPosition(newPosition);\n            setRotation(newRotation);\n            // Log position for debugging\n            if (timeSinceMoving % 1 < 0.1) {\n                console.log(`Rocket position: ${newPosition[1].toFixed(2)}, velocity: ${newVelocity[1].toFixed(2)}`);\n            }\n        } else if (showFire) {\n            // No shaking at all during pre-launch to ensure visual stability\n            if (positionRef.current[1] !== GROUND_Y || Math.abs(positionRef.current[0]) > 0.0001 || Math.abs(positionRef.current[2]) > 0.0001) {\n                setPosition(GROUND_POSITION);\n                positionRef.current = GROUND_POSITION;\n            }\n        }\n    });\n    // Debug log the position values\n    console.log(`RENDER - Rocket position: y=${positionRef.current[1].toFixed(2)}, thrust=${maxThrust}, drag=${baseDrag}`);\n    // Always use the positionRef.current for rendering to avoid state lag\n    const renderPosition = [\n        positionRef.current[0],\n        positionRef.current[1],\n        positionRef.current[2]\n    ]; // Explicit typed array to avoid TypeScript errors\n    // For explicit debugging - add a y offset if we're in flight to ENSURE movement\n    if (isLaunched && startMovingTime.current > 0) {\n        // IMPORTANT CHANGE: We calculate values even during pre-launch stage\n        // This ensures dashboard updates, but visual position only changes after startMovingTime\n        const now = Date.now() / 1000;\n        const timeUntilMovement = Math.max(0, startMovingTime.current - now);\n        const shouldShowMovement = now >= startMovingTime.current;\n        // Add time-based calculations even during pre-launch\n        // This ensures dashboard registers changes immediately\n        let timeBasedValue = 0;\n        if (shouldShowMovement) {\n            // Actual movement phase - after startMovingTime\n            const timeInFlight = now - startMovingTime.current;\n            // Absolutely force position to increase with time no matter what\n            timeBasedValue = timeInFlight * 2;\n        } else {\n            // Still in pre-launch phase - calculate a small value proportional to the countdown\n            // This won't be used for visual rendering but will be used for dashboard\n            timeBasedValue = 0.1 * (1 - timeUntilMovement / 2.0); // Grows from 0 to 0.1 during the 2-second countdown\n        }\n        // Store actual timeBasedPosition for physics/UI calculation\n        const timeBasedPosition = GROUND_Y + timeBasedValue;\n        // For visual rendering, only apply position change after startMovingTime\n        if (shouldShowMovement) {\n            renderPosition[1] = Math.max(renderPosition[1], timeBasedPosition, globalRocketY, GROUND_Y + timeBasedValue // Minimum guaranteed position\n            );\n            console.log(`OVERRIDE: Flight time=${(now - startMovingTime.current).toFixed(1)}s, y=${renderPosition[1].toFixed(2)}, global=${globalRocketY.toFixed(2)}`);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        position: renderPosition,\n        rotation: rotation,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketModel, {\n            selected: selected,\n            isLaunched: isLaunched,\n            throttle: throttle,\n            highlightedPart: highlightedPart,\n            preLaunchFire: showFire,\n            countdownStage: 3\n        }, void 0, false, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 899,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 898,\n        columnNumber: 5\n    }, this);\n}\n// ViewportControls component for repositioning camera to default view\nfunction ViewportControls({ view, setView, isMobile }) {\n    // Add state to track the rotation of the compass needle\n    const [compassRotation, setCompassRotation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Listen for camera/rocket rotation changes to update compass\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Function to handle rotation updates\n        const handleRocketRotation = (e)=>{\n            if (e.detail && typeof e.detail.rotation === \"number\") {\n                setCompassRotation(e.detail.rotation);\n            }\n        };\n        // Listen for custom rocket rotation events\n        window.addEventListener(\"rocketRotation\", handleRocketRotation);\n        return ()=>{\n            window.removeEventListener(\"rocketRotation\", handleRocketRotation);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute top-8 right-10 z-50 flex flex-col items-center pointer-events-auto\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.button, {\n            onClick: ()=>{\n                console.log(`Setting view to perspective (current: ${view})`);\n                setView(\"perspective\");\n                // Reset compass rotation when setting to perspective view\n                setCompassRotation(0);\n                if (false) {}\n            },\n            className: \"rounded-full transition-all mx-2\",\n            \"aria-label\": \"Reset Camera to Default View\",\n            whileHover: {\n                scale: 1.1,\n                y: -2,\n                filter: \"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))\"\n            },\n            whileTap: {\n                scale: 0.95\n            },\n            transition: {\n                type: \"spring\",\n                stiffness: 400,\n                damping: 15\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                width: \"48\",\n                height: \"48\",\n                viewBox: \"0 0 48 48\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"filter\", {\n                                id: \"pinkShadow\",\n                                x: \"-20%\",\n                                y: \"-20%\",\n                                width: \"140%\",\n                                height: \"140%\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feOffset\", {\n                                        dy: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 971,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feGaussianBlur\", {\n                                        stdDeviation: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 972,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feColorMatrix\", {\n                                        type: \"matrix\",\n                                        values: \"0 0 0 0 0.95 0 0 0 0 0.2 0 0 0 0 0.65 0 0 0 0.6 0\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 973,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 970,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"linearGradient\", {\n                                id: \"metallicGradient\",\n                                x1: \"0%\",\n                                y1: \"0%\",\n                                x2: \"100%\",\n                                y2: \"100%\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"0%\",\n                                        stopColor: \"#7D7D7D\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 977,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"50%\",\n                                        stopColor: \"#A5A5A5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 978,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"100%\",\n                                        stopColor: \"#5A5A5A\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 979,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 976,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 969,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                        transform: `rotate(-${compassRotation} 24 24)`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"#EC4899\",\n                                opacity: \"0.7\",\n                                filter: \"url(#pinkShadow)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 985,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"none\",\n                                stroke: \"black\",\n                                strokeWidth: \"1.5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 992,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"url(#metallicGradient)\",\n                                strokeWidth: \"0.75\",\n                                stroke: \"rgba(0,0,0,0.5)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 999,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L30.5 22L24 6Z\",\n                                fill: \"white\",\n                                opacity: \"0.2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1006,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 983,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 967,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 943,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 942,\n        columnNumber: 5\n    }, this);\n}\n// Custom OrbitControls wrapper component that handles rocket roll rotation\nfunction CustomOrbitControls({ position, view }) {\n    const orbitRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { camera, gl, scene } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.A)();\n    const prevViewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(view);\n    // Create state for tracking interaction\n    const [isDraggingRocket, setIsDraggingRocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRocketHovered, setIsRocketHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // Track if rocket is being hovered\n    ;\n    const isDraggingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const startDragPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        y: 0\n    });\n    const startDragTimestamp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0) // Track time for speed calculation\n    ;\n    const cameraRoll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Create a raycaster for detecting rocket interactions\n    const raycaster = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_3__.Raycaster());\n    const mouse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_3__.Vector2());\n    const isInteracting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false) // Track both mouse and touch interactions\n    ;\n    // Set up camera up vectors for different views\n    const camerasUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n    });\n    // Listen for reset events to completely reset the camera\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResetCamera = ()=>{\n            // Reset camera roll\n            cameraRoll.current = 0;\n            // Reset camera up vector based on view type\n            camera.up.copy(camerasUp.current[view]);\n            // Reset orbit controls position\n            if (orbitRef.current) {\n                // Set target back to the rocket position\n                orbitRef.current.target.set(position[0], position[1], position[2]);\n                // Reset the position based on the view\n                const positions = {\n                    top: [\n                        0,\n                        15,\n                        0\n                    ],\n                    side: [\n                        15,\n                        0,\n                        0\n                    ],\n                    perspective: [\n                        10,\n                        10,\n                        10\n                    ] // Isometric view\n                };\n                const pos = positions[view];\n                camera.position.set(pos[0], pos[1], pos[2]);\n                // Update the controls\n                orbitRef.current.update();\n            }\n        };\n        window.addEventListener(\"resetCameraView\", handleResetCamera);\n        return ()=>{\n            window.removeEventListener(\"resetCameraView\", handleResetCamera);\n        };\n    }, [\n        camera,\n        view,\n        position\n    ]);\n    // On component mount, set up event listeners\n    // Add cursor change when hovering over rocket\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isRocketHovered || isDraggingRocket) {\n            document.body.style.cursor = \"move\" // Change cursor to indicate rotatable object\n            ;\n        } else {\n            document.body.style.cursor = \"auto\" // Reset cursor\n            ;\n        }\n        return ()=>{\n            document.body.style.cursor = \"auto\" // Ensure cursor is reset on unmount\n            ;\n        };\n    }, [\n        isRocketHovered,\n        isDraggingRocket\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const domElement = gl.domElement;\n        // Common function for raycasting to detect rocket\n        const checkRocketIntersection = (clientX, clientY)=>{\n            // Get normalized coordinates\n            const rect = domElement.getBoundingClientRect();\n            mouse.current.x = (clientX - rect.left) / rect.width * 2 - 1;\n            mouse.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n            // Set up raycaster\n            raycaster.current.setFromCamera(mouse.current, camera);\n            // Check if the ray intersects with the rocket\n            const intersects = raycaster.current.intersectObjects(scene.children, true);\n            // Check for nose cone specifically for special handling\n            const noseConeIntersection = intersects.find((intersect)=>intersect.object && intersect.object.name.includes(\"nosecone\"));\n            // If nose cone is clicked, reset camera to perspective view pointing up\n            if (noseConeIntersection) {\n                // Dispatch an event to notify that nose cone was clicked\n                if (false) {}\n            }\n            // Filter out non-mesh objects and check if any intersections have rocket parts\n            return intersects.some((intersect)=>{\n                if (!intersect.object) return false;\n                // Check if the object is part of the rocket (by name or hierarchy)\n                return intersect.object.name.includes(\"airframe\") || intersect.object.name.includes(\"nosecone\") || intersect.object.name.includes(\"engine\") || intersect.object.name.includes(\"fins\") || intersect.object.name.includes(\"parachute\") || intersect.object.name.includes(\"electronics\");\n            });\n        };\n        // Calculate roll factor based on drag speed for adaptive sensitivity\n        const calculateRollFactor = (deltaX, deltaTime)=>{\n            // Calculate drag speed (pixels per millisecond)\n            const dragSpeed = Math.abs(deltaX) / Math.max(deltaTime, 1);\n            // Base sensitivity - adjusted lower for a more subtle rotation\n            const baseSensitivity = 0.003; // Reduced from 0.01\n            const minSensitivity = 0.0015; // Reduced from 0.005 - More precision for slow drags\n            const maxSensitivity = 0.006; // Reduced from 0.02 - Faster rotation for quick drags\n            // Exponential scaling based on drag speed\n            // This provides fine control for slow drags and quicker rotation for fast drags\n            let sensitivity;\n            if (dragSpeed < 0.05) {\n                // Slow drag - fine control\n                sensitivity = minSensitivity + (baseSensitivity - minSensitivity) * (dragSpeed / 0.05);\n            } else if (dragSpeed > 0.2) {\n                // Fast drag - quick rotation\n                sensitivity = baseSensitivity + (maxSensitivity - baseSensitivity) * Math.min(1, (dragSpeed - 0.2) / 0.3);\n            } else {\n                // Medium speed - normal sensitivity\n                sensitivity = baseSensitivity;\n            }\n            // Apply the calculated sensitivity to the delta\n            // IMPORTANT: Invert the sign to fix rotation direction (negative becomes positive and vice versa)\n            return -deltaX * sensitivity;\n        };\n        // Mouse event handlers\n        const onMouseDown = (event)=>{\n            if (!orbitRef.current) return;\n            // Check if clicking on rocket\n            const isRocket = checkRocketIntersection(event.clientX, event.clientY);\n            // If clicking on rocket, start rocket-specific dragging\n            if (isRocket) {\n                setIsDraggingRocket(true);\n                isDraggingRef.current = true;\n                // Store initial drag position and timestamp for calculating deltas and speed\n                startDragPosition.current = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                startDragTimestamp.current = performance.now();\n                // Temporarily disable OrbitControls to handle our own rotation\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = false;\n                }\n            }\n            isInteracting.current = true;\n        };\n        const onMouseMove = (event)=>{\n            if (!isInteracting.current || !isDraggingRef.current) return;\n            if (isDraggingRef.current) {\n                // Calculate time elapsed for speed calculation\n                const currentTime = performance.now();\n                const deltaTime = currentTime - startDragTimestamp.current;\n                // Get raw delta for speed calculation\n                const rawDeltaX = event.clientX - startDragPosition.current.x;\n                // Calculate adaptive roll factor based on drag speed\n                const deltaX = calculateRollFactor(rawDeltaX, deltaTime);\n                // Apply roll rotation to the camera\n                // This rotates the camera around the line from the camera to the target\n                const target = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n                const cameraPosition = camera.position.clone();\n                const direction = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3().subVectors(target, cameraPosition).normalize();\n                // Create a rotation matrix for rolling around the view direction\n                const rollMatrix = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix4().makeRotationAxis(direction, deltaX);\n                // Apply the rotation to the camera position\n                const up = camera.up.clone();\n                up.applyMatrix4(rollMatrix);\n                camera.up.copy(up);\n                // Update the orbit controls to maintain consistency\n                if (orbitRef.current) {\n                    orbitRef.current.update();\n                }\n                // Update start position and timestamp for next frame\n                startDragPosition.current = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                startDragTimestamp.current = currentTime;\n                // Track total roll amount\n                cameraRoll.current += deltaX;\n                // Emit an event with the current camera rotation to update the compass\n                if (false) {}\n            }\n        };\n        const onMouseUp = ()=>{\n            if (isDraggingRef.current) {\n                // Re-enable orbit controls\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = true;\n                }\n                // Reset drag state\n                setIsDraggingRocket(false);\n                isDraggingRef.current = false;\n            }\n            isInteracting.current = false;\n        };\n        // Touch event handlers for mobile\n        const onTouchStart = (event)=>{\n            if (!orbitRef.current || event.touches.length === 0) return;\n            // Use the first touch\n            const touch = event.touches[0];\n            // Check if touching rocket\n            const isRocket = checkRocketIntersection(touch.clientX, touch.clientY);\n            // If touching on rocket, start rocket-specific dragging\n            if (isRocket) {\n                setIsDraggingRocket(true);\n                isDraggingRef.current = true;\n                // Store initial drag position and timestamp for calculating deltas and speed\n                startDragPosition.current = {\n                    x: touch.clientX,\n                    y: touch.clientY\n                };\n                startDragTimestamp.current = performance.now();\n                // Temporarily disable OrbitControls to handle our own rotation\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = false;\n                }\n            }\n            isInteracting.current = true;\n        };\n        const onTouchMove = (event)=>{\n            if (!isInteracting.current || !isDraggingRef.current || event.touches.length === 0) return;\n            // Use the first touch\n            const touch = event.touches[0];\n            // Calculate time elapsed for speed calculation\n            const currentTime = performance.now();\n            const deltaTime = currentTime - startDragTimestamp.current;\n            // Get raw delta for speed calculation\n            const rawDeltaX = touch.clientX - startDragPosition.current.x;\n            // Calculate adaptive roll factor based on drag speed\n            const deltaX = calculateRollFactor(rawDeltaX, deltaTime);\n            // Apply roll rotation to the camera\n            // This rotates the camera around the line from the camera to the target\n            const target = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n            const cameraPosition = camera.position.clone();\n            const direction = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3().subVectors(target, cameraPosition).normalize();\n            // Create a rotation matrix for rolling around the view direction\n            const rollMatrix = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix4().makeRotationAxis(direction, deltaX);\n            // Apply the rotation to the camera position\n            const up = camera.up.clone();\n            up.applyMatrix4(rollMatrix);\n            camera.up.copy(up);\n            // Update the orbit controls to maintain consistency\n            if (orbitRef.current) {\n                orbitRef.current.update();\n            }\n            // Update start position and timestamp for next frame\n            startDragPosition.current = {\n                x: touch.clientX,\n                y: touch.clientY\n            };\n            startDragTimestamp.current = currentTime;\n            // Track total roll amount\n            cameraRoll.current += deltaX;\n            // Emit an event with the current camera rotation to update the compass\n            if (false) {}\n        };\n        const onTouchEnd = ()=>{\n            if (isDraggingRef.current) {\n                // Re-enable orbit controls\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = true;\n                }\n                // Reset drag state\n                setIsDraggingRocket(false);\n                isDraggingRef.current = false;\n            }\n            isInteracting.current = false;\n        };\n        // Mouse hover detection for cursor change\n        const onMouseHover = (event)=>{\n            if (isDraggingRef.current) return; // Skip hover detection during drag\n            // Get mouse position\n            const rect = domElement.getBoundingClientRect();\n            mouse.current.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n            mouse.current.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n            // Cast ray to check for rocket\n            raycaster.current.setFromCamera(mouse.current, camera);\n            const intersects = raycaster.current.intersectObjects(scene.children, true);\n            // Check if hovering over rocket\n            const isRocket = intersects.some((intersect)=>{\n                if (!intersect.object) return false;\n                return intersect.object.name.includes(\"airframe\") || intersect.object.name.includes(\"nosecone\") || intersect.object.name.includes(\"engine\") || intersect.object.name.includes(\"fins\") || intersect.object.name.includes(\"parachute\") || intersect.object.name.includes(\"electronics\");\n            });\n            // Update hover state\n            setIsRocketHovered(isRocket);\n        };\n        // Add event listeners\n        // Mouse events\n        domElement.addEventListener(\"mousedown\", onMouseDown);\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"mouseup\", onMouseUp);\n        domElement.addEventListener(\"mousemove\", onMouseHover) // Add hover detection\n        ;\n        // Touch events\n        domElement.addEventListener(\"touchstart\", onTouchStart);\n        window.addEventListener(\"touchmove\", onTouchMove);\n        window.addEventListener(\"touchend\", onTouchEnd);\n        // Clean up event listeners on unmount\n        return ()=>{\n            // Mouse events\n            domElement.removeEventListener(\"mousedown\", onMouseDown);\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n            domElement.removeEventListener(\"mousemove\", onMouseHover) // Remove hover detection\n            ;\n            // Touch events\n            domElement.removeEventListener(\"touchstart\", onTouchStart);\n            window.removeEventListener(\"touchmove\", onTouchMove);\n            window.removeEventListener(\"touchend\", onTouchEnd);\n        };\n    }, [\n        camera,\n        gl,\n        scene,\n        position\n    ]);\n    // Reset controls when view changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (orbitRef.current && prevViewRef.current !== view) {\n            // Set up vectors for different views\n            const upVectors = {\n                top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n                side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n                perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n            };\n            // Update camera's up vector\n            camera.up.copy(upVectors[view]);\n            // Reset and update orbit controls\n            orbitRef.current.target.set(position[0], position[1], position[2]);\n            orbitRef.current.update();\n            // Update previous view\n            prevViewRef.current = view;\n        }\n    }, [\n        view,\n        camera,\n        position\n    ]);\n    // Make sure OrbitControls target stays updated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (orbitRef.current) {\n            orbitRef.current.target.set(position[0], position[1], position[2]);\n            orbitRef.current.update();\n        }\n    }, [\n        position\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_6__.OrbitControls, {\n        ref: orbitRef,\n        enableDamping: true,\n        dampingFactor: 0.2,\n        minDistance: 2,\n        maxDistance: 100,\n        rotateSpeed: 0.8,\n        enabled: true,\n        enableZoom: true,\n        enableRotate: true,\n        enablePan: true,\n        panSpeed: 1.0,\n        screenSpacePanning: true,\n        target: [\n            position[0],\n            position[1],\n            position[2]\n        ],\n        touches: {\n            ONE: three__WEBPACK_IMPORTED_MODULE_3__.TOUCH.ROTATE,\n            TWO: three__WEBPACK_IMPORTED_MODULE_3__.TOUCH.DOLLY_PAN\n        },\n        mouseButtons: {\n            LEFT: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.ROTATE,\n            MIDDLE: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.DOLLY,\n            RIGHT: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.PAN\n        }\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1448,\n        columnNumber: 5\n    }, this);\n}\n// Optimized launch data display\nfunction LaunchData({ isLaunched, setIsLaunched, throttle, setThrottle, resetRocket, launchRocket, speed, altitude, maxSpeed, maxAltitude, isMobile }) {\n    // Prevent multiple clicks\n    const isTransitioning = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const launchTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [forcedSpeed, setForcedSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [forcedAltitude, setForcedAltitude] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isSafari, setIsSafari] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isChrome, setIsChrome] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isIOS, setIsIOS] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMacOS, setIsMacOS] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Enhanced browser/device detection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    // COMPLETELY NEW APPROACH: Generate synthetic display values\n    // This runs independently of the physics engine\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Start the animation when launched\n        if (isLaunched && !launchTimeRef.current) {\n            launchTimeRef.current = Date.now() / 1000;\n            // Start an animation frame loop to update values\n            const updateDisplayValues = ()=>{\n                if (!isLaunched) {\n                    launchTimeRef.current = null;\n                    setForcedSpeed(0);\n                    setForcedAltitude(0);\n                    return;\n                }\n                const now = Date.now() / 1000;\n                const elapsed = now - (launchTimeRef.current || now);\n                // Guaranteed increasing values based on elapsed time\n                // Speed stays at exactly 0.0 during pre-launch, then starts increasing\n                let newSpeed = elapsed < 2 ? 0.0 // Stay exactly at zero during pre-launch\n                 : (elapsed - 2) * 10; // Start from zero at ignition, then accelerate\n                // Altitude starts at 0 then increases with acceleration\n                let newAltitude = elapsed < 2 ? 0 // Stay at 0 during pre-launch\n                 : Math.pow(elapsed - 2, 2) * 2; // Quadratic increase after\n                // Cap at reasonable values\n                newSpeed = Math.min(newSpeed, 1000);\n                newAltitude = Math.min(newAltitude, 5000);\n                setForcedSpeed(newSpeed);\n                setForcedAltitude(newAltitude);\n                // Continue animation\n                requestAnimationFrame(updateDisplayValues);\n            };\n            // Start the animation loop\n            requestAnimationFrame(updateDisplayValues);\n        } else if (!isLaunched) {\n            // Reset on launch end\n            launchTimeRef.current = null;\n            setForcedSpeed(0);\n            setForcedAltitude(0);\n        }\n    }, [\n        isLaunched\n    ]);\n    // Use our forced values during flight, fall back to physics values if needed\n    const displaySpeed = isLaunched ? forcedSpeed > 0 ? forcedSpeed : speed : maxSpeed;\n    const displayAltitude = isLaunched ? forcedAltitude > 0 ? forcedAltitude : altitude : maxAltitude;\n    // Format display values to prevent NaN\n    const getDisplayValue = (value)=>{\n        if (isNaN(value)) return \"0.0\";\n        return value.toFixed(1);\n    };\n    // Handle button click with debounce\n    const handleButtonClick = (e)=>{\n        // Prevent any UI repositioning\n        e.preventDefault();\n        e.stopPropagation();\n        // Prevent rapid clicks\n        if (isTransitioning.current) return;\n        // Lock during transition - longer for reset transitions\n        isTransitioning.current = true;\n        if (isLaunched) {\n            // Signal animation to stop immediately\n            launchTimeRef.current = null;\n            setForcedSpeed(0);\n            setForcedAltitude(0);\n            // For reset, need a longer transition lock\n            resetRocket();\n            // Set a longer timeout for reset transitions\n            setTimeout(()=>{\n                isTransitioning.current = false;\n            }, 500);\n        } else {\n            // Launch transitions are faster\n            launchRocket();\n            setTimeout(()=>{\n                isTransitioning.current = false;\n            }, 300);\n        }\n    };\n    // Refined dashboard position based on device and browser specifics\n    const getDashboardPosition = ()=>{\n        if (isMobile) {\n            // Mobile device detection\n            if (isIOS && isSafari) {\n                return \"bottom-[12%]\"; // Mobile iOS Safari needs extra space for bottom bar\n            } else if (isChrome) {\n                return \"bottom-[18%]\"; // Mobile Chrome\n            } else {\n                return \"bottom-[15%]\"; // Other mobile browsers\n            }\n        } else {\n            // Desktop handling\n            if (isMacOS && isSafari) {\n                return \"bottom-4\"; // Desktop Safari on MacOS - no need for extra margin\n            } else if (isSafari) {\n                return \"bottom-5\"; // Other Safari instances\n            } else {\n                return \"bottom-4\"; // Desktop Chrome and others\n            }\n        }\n    };\n    const dashboardPosition = getDashboardPosition();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `absolute left-0 right-0 mx-auto z-20 flex flex-col items-center \n      ${isMobile ? `w-full ${dashboardPosition}` : `w-[320px] ${dashboardPosition}`}`,\n        style: {\n            height: \"110px\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-xs bg-black/30 backdrop-blur-xl rounded-3xl p-3 shadow-md\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full justify-between items-center px-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-2xl font-mono tracking-wider text-white/90\",\n                                    children: [\n                                        getDisplayValue(displaySpeed),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs ml-1 text-white/60\",\n                                            children: \"m/s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                            lineNumber: 1658,\n                                            columnNumber: 110\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1658,\n                                    columnNumber: 13\n                                }, this),\n                                !isLaunched && maxSpeed > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-white/60\",\n                                    children: \"max\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1659,\n                                    columnNumber: 45\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1657,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.button, {\n                            className: `relative flex items-center justify-center w-14 h-14 rounded-full bg-black/40 shadow-md transition-all duration-200`,\n                            onClick: handleButtonClick,\n                            \"aria-label\": isLaunched ? \"Reset Rocket\" : \"Launch Rocket\",\n                            whileHover: {\n                                scale: 1.05,\n                                boxShadow: \"0 0 15px rgba(255,255,255,0.3)\"\n                            },\n                            whileTap: {\n                                scale: 0.95\n                            },\n                            transition: {\n                                type: \"spring\",\n                                stiffness: 500,\n                                damping: 15\n                            },\n                            style: {\n                                transform: \"translateX(2px)\"\n                            },\n                            children: isLaunched ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: \"24\",\n                                height: \"24\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4.01 7.58 4.01 12C4.01 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z\",\n                                    fill: \"white\",\n                                    fillOpacity: \"0.9\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1672,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1671,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: \"28\",\n                                height: \"28\",\n                                viewBox: \"0 0 28 28\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M14 3L17 15.5H11L14 3Z\",\n                                        fill: \"#FFFFFF\",\n                                        fillOpacity: \"0.9\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1676,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                        cx: \"14\",\n                                        cy: \"21\",\n                                        r: \"3\",\n                                        fill: \"#FFFFFF\",\n                                        fillOpacity: \"0.9\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1677,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1675,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1661,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-2xl font-mono tracking-wider text-white/90\",\n                                    children: [\n                                        getDisplayValue(displayAltitude),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs ml-1 text-white/60\",\n                                            children: \"m\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                            lineNumber: 1682,\n                                            columnNumber: 113\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1682,\n                                    columnNumber: 13\n                                }, this),\n                                !isLaunched && maxAltitude > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-white/60\",\n                                    children: \"max\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1683,\n                                    columnNumber: 48\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1681,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1656,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-3/4 mt-2 flex items-center mx-auto h-6\",\n                    style: {\n                        minHeight: \"24px\"\n                    },\n                    children: !isLaunched && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative w-full h-6 flex items-center px-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0\",\n                                        max: \"1\",\n                                        step: \"0.01\",\n                                        value: throttle,\n                                        onChange: (e)=>setThrottle(parseFloat(e.target.value)),\n                                        className: \"absolute w-full appearance-none bg-transparent cursor-pointer z-10\",\n                                        style: {\n                                            WebkitAppearance: \"none\",\n                                            appearance: \"none\",\n                                            height: \"1.5rem\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1690,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute top-1/2 transform -translate-y-1/2 left-1 right-1 flex justify-between\",\n                                        children: [\n                                            0,\n                                            0.25,\n                                            0.5,\n                                            0.75,\n                                            1\n                                        ].map((mark)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-0.5 h-1.5 bg-white/30\"\n                                            }, mark, false, {\n                                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                                lineNumber: 1706,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1704,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1689,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-white/70 ml-2 w-8\",\n                                children: [\n                                    Math.round(throttle * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1710,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1686,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 1655,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1651,\n        columnNumber: 5\n    }, this);\n}\nfunction MiddlePanel({ isMobile = false, isSmallDesktop = false }) {\n    // State management\n    const [view, setView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"perspective\");\n    const [selectedPart, setSelectedPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLaunched, setIsLaunched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [throttle, setThrottle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.8);\n    const [resetTrigger, setResetTrigger] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Fixed ground position that places rocket on top of grid\n    const GROUND_Y = -2.8; // Updated to match the grid position\n    const GROUND_POSITION = [\n        0,\n        GROUND_Y,\n        0\n    ];\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(GROUND_POSITION);\n    const [velocity, setVelocity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    const [maxAltitude, setMaxAltitude] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [maxSpeed, setMaxSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Update flight data from simulation\n    const updateFlightData = (pos, vel)=>{\n        // Ensure we're not getting NaN values\n        if (pos.some(isNaN) || vel.some(isNaN)) return;\n        // Log every position update\n        console.log(`PARENT update: pos=${pos[1].toFixed(2)}, vel=${vel[1].toFixed(2)}`);\n        // Clone the arrays to ensure we break references\n        const newPos = [\n            ...pos\n        ];\n        const newVel = [\n            ...vel\n        ];\n        // Set the new position and velocity immediately - removed requestAnimationFrame\n        setPosition(newPos);\n        setVelocity(newVel);\n    };\n    // Reset rocket function - ensures grid stays in place\n    const resetRocket = ()=>{\n        // Set a flag to prevent UI updates during transition\n        window.dispatchEvent(new CustomEvent(\"rocketResetPrepare\", {\n            detail: {\n                transitioning: true\n            }\n        }));\n        // Important: Use requestAnimationFrame to sync with render cycle\n        requestAnimationFrame(()=>{\n            // First stop launch state (this must happen before position changes)\n            setIsLaunched(false);\n            // Then in the next frame (after React has processed the state change)\n            requestAnimationFrame(()=>{\n                // Set position exactly at ground level\n                setPosition(GROUND_POSITION);\n                setVelocity([\n                    0,\n                    0,\n                    0\n                ]);\n                // Trigger reset animation in rocket\n                setResetTrigger(true);\n                // Wait for reset to complete\n                setTimeout(()=>{\n                    setResetTrigger(false);\n                    // Double-check position after reset\n                    setPosition(GROUND_POSITION);\n                    setVelocity([\n                        0,\n                        0,\n                        0\n                    ]);\n                    // Notify that transition has completed\n                    window.dispatchEvent(new CustomEvent(\"rocketResetComplete\", {\n                        detail: {\n                            position: GROUND_POSITION\n                        }\n                    }));\n                }, 50);\n            });\n        });\n    };\n    // Launch rocket with immediate response\n    const launchRocket = ()=>{\n        // If already launched, reset first to prevent any visual jumps\n        if (isLaunched) {\n            resetRocket();\n            // Wait for a few frames to ensure smooth visual transition\n            setTimeout(()=>{\n                initiateActualLaunch();\n            }, 50);\n        } else {\n            // Not launched, so we can start directly\n            initiateActualLaunch();\n        }\n    };\n    // Helper function to handle actual launch sequence\n    const initiateActualLaunch = ()=>{\n        // Important: Use requestAnimationFrame to sync with render cycle\n        requestAnimationFrame(()=>{\n            // First ensure exact ground position\n            setPosition(GROUND_POSITION);\n            // Start with zero velocity\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            // Then set launch state\n            setIsLaunched(true);\n            // Trigger an immediate dashboard update for user feedback\n            // This will make the dashboard respond right away\n            const initialSpeedDisplay = [\n                0,\n                0.01,\n                0\n            ];\n            updateFlightData(GROUND_POSITION, initialSpeedDisplay);\n            // Notify any components that need to respond to launch\n            window.dispatchEvent(new CustomEvent(\"rocketLaunchInitiated\", {\n                detail: {\n                    position: GROUND_POSITION,\n                    throttle\n                }\n            }));\n        });\n    };\n    // Listen for component highlight events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleHighlight = (e)=>setSelectedPart(e.detail);\n        window.addEventListener(\"highlightComponent\", handleHighlight);\n        return ()=>window.removeEventListener(\"highlightComponent\", handleHighlight);\n    }, []);\n    // Listen for nose cone click events to reset camera view\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResetCameraView = ()=>{\n            console.log(\"Handling reset camera view event\");\n            setView(\"perspective\");\n            // Reset compass when camera view is reset\n            handleViewReset();\n        };\n        // Also reset compass when reset button is clicked\n        const handleViewReset = ()=>{\n            if (false) {}\n        };\n        window.addEventListener(\"resetCameraView\", handleResetCameraView);\n        return ()=>{\n            window.removeEventListener(\"resetCameraView\", handleResetCameraView);\n        };\n    }, []);\n    // Calculate speed and altitude\n    // Updated altitude calculation to use standardized GROUND_Y\n    const altitude = Math.max(0, position[1] - GROUND_Y);\n    const speed = Math.sqrt(velocity[0] * velocity[0] + velocity[1] * velocity[1] + velocity[2] * velocity[2]);\n    // Update max values during flight\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isLaunched && !isNaN(speed) && !isNaN(altitude)) {\n            if (speed > maxSpeed) setMaxSpeed(speed);\n            if (altitude > maxAltitude) setMaxAltitude(altitude);\n        } else if (resetTrigger) {\n            setMaxSpeed(0);\n            setMaxAltitude(0);\n        }\n    }, [\n        speed,\n        altitude,\n        isLaunched,\n        resetTrigger,\n        maxSpeed,\n        maxAltitude\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 w-full h-full overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_fiber__WEBPACK_IMPORTED_MODULE_7__.Canvas, {\n                    shadows: true,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCamera, {\n                            isLaunched: isLaunched,\n                            target: position,\n                            view: view\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1883,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomOrbitControls, {\n                            position: position,\n                            view: view\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1890,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ambientLight\", {\n                            intensity: 0.25\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1893,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"directionalLight\", {\n                            position: [\n                                8,\n                                10,\n                                5\n                            ],\n                            intensity: 0.7,\n                            castShadow: true,\n                            \"shadow-mapSize\": [\n                                1024,\n                                1024\n                            ],\n                            \"shadow-camera-far\": 50,\n                            \"shadow-camera-left\": -10,\n                            \"shadow-camera-right\": 10,\n                            \"shadow-camera-top\": 10,\n                            \"shadow-camera-bottom\": -10\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1894,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"directionalLight\", {\n                            position: [\n                                -6,\n                                3,\n                                -5\n                            ],\n                            intensity: 0.25\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1905,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"spotLight\", {\n                            position: [\n                                0,\n                                -2,\n                                10\n                            ],\n                            intensity: 0.4,\n                            angle: 0.6,\n                            penumbra: 0.5,\n                            distance: 20,\n                            color: \"#5eead4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1906,\n                            columnNumber: 11\n                        }, this),\n                        isLaunched && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                            position: [\n                                0,\n                                GROUND_Y,\n                                0\n                            ],\n                            intensity: 2,\n                            distance: 15,\n                            color: \"#ff8866\",\n                            decay: 2\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1917,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_8__.Environment, {\n                            preset: \"night\"\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1926,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.ContactShadows, {\n                            position: [\n                                0,\n                                GROUND_Y + 0.01,\n                                0\n                            ],\n                            opacity: 0.4,\n                            scale: 15,\n                            blur: 2.5,\n                            far: 5,\n                            resolution: 512,\n                            color: \"#001133\",\n                            frames: 1\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1928,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_10__.Grid, {\n                            infiniteGrid: true,\n                            cellSize: 0.5,\n                            cellThickness: 0.5,\n                            sectionSize: 2,\n                            sectionThickness: 1,\n                            fadeDistance: 30,\n                            fadeStrength: 1.5,\n                            cellColor: \"#00eaff\",\n                            sectionColor: \"#ec4899\",\n                            position: [\n                                0,\n                                GROUND_Y,\n                                0\n                            ]\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1940,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                            fallback: null,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketSimulation, {\n                                selected: selectedPart !== null,\n                                isLaunched: isLaunched,\n                                throttle: throttle,\n                                resetTrigger: resetTrigger,\n                                setFlightData: updateFlightData,\n                                highlightedPart: selectedPart\n                            }, `rocket-${isLaunched ? \"launched\" : \"idle\"}-${resetTrigger ? \"reset\" : \"normal\"}`, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1954,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1952,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1882,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 1881,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ViewportControls, {\n                view: view,\n                setView: setView,\n                isMobile: isMobile\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 1968,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LaunchData, {\n                isLaunched: isLaunched,\n                setIsLaunched: setIsLaunched,\n                throttle: throttle,\n                setThrottle: setThrottle,\n                resetRocket: resetRocket,\n                launchRocket: launchRocket,\n                speed: isNaN(speed) ? 0 : speed,\n                altitude: isNaN(altitude) ? 0 : altitude,\n                maxSpeed: isNaN(maxSpeed) ? 0 : maxSpeed,\n                maxAltitude: isNaN(maxAltitude) ? 0 : maxAltitude,\n                isMobile: isMobile\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 1970,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1879,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQ2tQLFVBQVVnQyxNQUFNaEMsWUFBWSxJQUFJQTtnQkFDaENDLGFBQWErQixNQUFNL0IsZUFBZSxJQUFJQTtnQkFDdEN2SixVQUFVQTs7Ozs7Ozs7Ozs7O0FBSWxCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9ja2V0c2ltLy4vY29tcG9uZW50cy9wYW5lbHMvTWlkZGxlUGFuZWwudHN4P2U5MzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgU3VzcGVuc2UsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ2FudmFzLCB1c2VGcmFtZSwgdXNlVGhyZWUgfSBmcm9tICdAcmVhY3QtdGhyZWUvZmliZXInXG5pbXBvcnQgeyBcbiAgT3JiaXRDb250cm9scywgXG4gIFBlcnNwZWN0aXZlQ2FtZXJhLCBcbiAgR3JpZCwgXG4gIEVudmlyb25tZW50LCBcbiAgQ29udGFjdFNoYWRvd3MgXG59IGZyb20gJ0ByZWFjdC10aHJlZS9kcmVpJ1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJ1xuXG4vLyBPcHRpbWl6ZWQgZmxhbWUgY29tcG9uZW50IGZvciByb2NrZXQgZW5naW5lXG5mdW5jdGlvbiBSb2NrZXRGbGFtZSh7IGlzTGF1bmNoZWQsIHRocm90dGxlID0gMCwgcHJlTGF1bmNoRmlyZSA9IGZhbHNlLCBjb3VudGRvd25TdGFnZSA9IDAgfTogeyBcbiAgaXNMYXVuY2hlZDogYm9vbGVhbiwgXG4gIHRocm90dGxlOiBudW1iZXIsIFxuICBwcmVMYXVuY2hGaXJlPzogYm9vbGVhbixcbiAgY291bnRkb3duU3RhZ2U/OiBudW1iZXJcbn0pIHtcbiAgY29uc3QgZmxhbWVSZWYgPSB1c2VSZWY8VEhSRUUuR3JvdXA+KG51bGwpO1xuICBjb25zdCBmbGFtZVZhcmlhdGlvbiA9IHVzZVJlZih7IHNjYWxlWTogMCwgc2NhbGVYOiAwLCBzY2FsZVo6IDAgfSk7XG4gIGNvbnN0IGxhdW5jaFRpbWUgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIFxuICB1c2VGcmFtZSgoc3RhdGUpID0+IHtcbiAgICBpZiAoIWZsYW1lUmVmLmN1cnJlbnQgfHwgKCFpc0xhdW5jaGVkICYmICFwcmVMYXVuY2hGaXJlKSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHRpbWUgPSBzdGF0ZS5jbG9jay5nZXRFbGFwc2VkVGltZSgpO1xuICAgIFxuICAgIC8vIFRyYWNrIHdoZW4gbGF1bmNoIGJlZ2luc1xuICAgIGlmIChpc0xhdW5jaGVkICYmIGxhdW5jaFRpbWUuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgbGF1bmNoVGltZS5jdXJyZW50ID0gdGltZTtcbiAgICB9IGVsc2UgaWYgKCFpc0xhdW5jaGVkKSB7XG4gICAgICBsYXVuY2hUaW1lLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgZWZmZWN0aXZlIHRocm90dGxlIC0gZW5oYW5jZWQgZm9yIG1vcmUgZHJhbWF0aWMgZWZmZWN0IGR1cmluZyBsYXVuY2hcbiAgICBsZXQgZWZmZWN0aXZlVGhyb3R0bGU7XG4gICAgICBpZiAoaXNMYXVuY2hlZCkge1xuICAgICAgaWYgKGxhdW5jaFRpbWUuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXVuY2ggPSB0aW1lIC0gbGF1bmNoVGltZS5jdXJyZW50O1xuICAgICAgICBcbiAgICAgICAgLy8gR3JvdW5kIGZpcmUgcGhhc2UgKDAtMiBzZWNvbmRzKTogaW50ZW5zZSBwdWxzaW5nIGVmZmVjdFxuICAgICAgICBpZiAodGltZVNpbmNlTGF1bmNoIDwgMi4wKSB7XG4gICAgICAgICAgLy8gTW9yZSBkcmFtYXRpYyBwdWxzaW5nIGR1cmluZyBncm91bmQgcGhhc2VcbiAgICAgICAgICBlZmZlY3RpdmVUaHJvdHRsZSA9IDEuNCArIE1hdGguc2luKHRpbWVTaW5jZUxhdW5jaCAqIDYpICogMC40ICsgTWF0aC5zaW4odGltZVNpbmNlTGF1bmNoICogMjApICogMC4yO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWVTaW5jZUxhdW5jaCA8IDIuNSkge1xuICAgICAgICAgIC8vIENyZXNjZW5kbyBiZWZvcmUgbGlmdG9mZiAoZmluYWwgYnVpbGR1cClcbiAgICAgICAgICBlZmZlY3RpdmVUaHJvdHRsZSA9IDEuOCArIE1hdGguc2luKHRpbWVTaW5jZUxhdW5jaCAqIDMwKSAqIDAuNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBTdXN0YWluZWQgc3Ryb25nIGZsYW1lIGFmdGVyIGxpZnRvZmZcbiAgICAgICAgICBlZmZlY3RpdmVUaHJvdHRsZSA9IHRocm90dGxlICogMS42ICsgTWF0aC5zaW4odGltZSAqIDE1KSAqIDAuMTU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVmZmVjdGl2ZVRocm90dGxlID0gdGhyb3R0bGUgKiAxLjQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByZS1sYXVuY2ggbW9yZSBzdWJkdWVkIGZsYW1lXG4gICAgICBlZmZlY3RpdmVUaHJvdHRsZSA9IDAuODsgLy8gU2xpZ2h0bHkgaW5jcmVhc2VkIGZyb20gMC43XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBzbW9vdGggdmFyaWF0aW9ucyB1c2luZyBzaW5lIHdhdmVzIC0gbW9yZSBkcmFtYXRpYyBmb3IgbGF1bmNoXG4gICAgY29uc3QgZmxhbWVGcmVxdWVuY3kgPSBpc0xhdW5jaGVkID8gMTUgOiAxMDtcbiAgICBcbiAgICAvLyBTbW9vdGggaW50ZXJwb2xhdGlvbiBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGxlc3Mgaml0dGVyXG4gICAgZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVkgPSBUSFJFRS5NYXRoVXRpbHMubGVycChcbiAgICAgIGZsYW1lVmFyaWF0aW9uLmN1cnJlbnQuc2NhbGVZLFxuICAgICAgMC44ICsgTWF0aC5zaW4odGltZSAqIGZsYW1lRnJlcXVlbmN5KSAqIDAuMyArIE1hdGguc2luKHRpbWUgKiAxNykgKiAwLjEsXG4gICAgICBpc0xhdW5jaGVkID8gMC4zIDogMC4yXG4gICAgKTtcbiAgICBcbiAgICAvLyBBcHBseSBmbGFtZSBzY2FsZSB3aXRoIHNtb290aCBtb2R1bGF0aW9uIC0gbGFyZ2VyIGZvciBhY3R1YWwgbGF1bmNoXG4gICAgY29uc3QgYmFzZVNjYWxlTXVsdGlwbGllciA9IGlzTGF1bmNoZWQgPyAyLjAgOiAxLjg7XG4gICAgZmxhbWVSZWYuY3VycmVudC5zY2FsZS55ID0gZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVkgKiAoMC41ICsgZWZmZWN0aXZlVGhyb3R0bGUgKiBiYXNlU2NhbGVNdWx0aXBsaWVyKTtcbiAgICBcbiAgICAvLyBTbW9vdGggWC9aIHNjYWxlIHZhcmlhdGlvbiAtIG1vcmUgZHJhbWF0aWMgZHVyaW5nIGxhdW5jaFxuICAgIGNvbnN0IHh6VmFyaWF0aW9uID0gaXNMYXVuY2hlZCA/IDAuMTUgOiAwLjE7XG4gICAgY29uc3QgbmV3U2NhbGVYID0gMC43ICsgTWF0aC5zaW4odGltZSAqIDEyKSAqIHh6VmFyaWF0aW9uICsgTWF0aC5zaW4odGltZSAqIDIzKSAqICh4elZhcmlhdGlvbi8yKTtcbiAgICBjb25zdCBuZXdTY2FsZVogPSAwLjcgKyBNYXRoLmNvcyh0aW1lICogMTQpICogeHpWYXJpYXRpb24gKyBNYXRoLmNvcyh0aW1lICogMTkpICogKHh6VmFyaWF0aW9uLzIpO1xuICAgIFxuICAgIGZsYW1lVmFyaWF0aW9uLmN1cnJlbnQuc2NhbGVYID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAoZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVgsIG5ld1NjYWxlWCwgMC4xNSk7XG4gICAgZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVogPSBUSFJFRS5NYXRoVXRpbHMubGVycChmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWiwgbmV3U2NhbGVaLCAwLjE1KTtcbiAgICBcbiAgICBmbGFtZVJlZi5jdXJyZW50LnNjYWxlLnggPSBmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWDtcbiAgICBmbGFtZVJlZi5jdXJyZW50LnNjYWxlLnogPSBmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWjtcbiAgfSk7XG5cbiAgaWYgKCFpc0xhdW5jaGVkICYmICFwcmVMYXVuY2hGaXJlKSByZXR1cm4gbnVsbDtcbiAgXG4gIC8vIEFkanVzdGVkIGZsYW1lIHBvc2l0aW9uIHRvIGFsaWduIHdpdGggdGhlIHJvY2tldCBlbmdpbmVcbiAgcmV0dXJuIChcbiAgICA8Z3JvdXAgcmVmPXtmbGFtZVJlZn0gcG9zaXRpb249e1swLCAtMywgMF19PlxuICAgICAgey8qIE1haW4gb3V0ZXIgZmxhbWUgLSBicmlnaHRlciBhbmQgbW9yZSBpbnRlbnNlICovfVxuICAgICAgPG1lc2g+XG4gICAgICAgIDxjb25lR2VvbWV0cnkgYXJncz17WzAuNSwgMi4zLCAyNF19IC8+IHsvKiBTbGlnaHRseSBsYXJnZXIgZmxhbWUgY29uZSAqL31cbiAgICAgICAgPG1lc2hCYXNpY01hdGVyaWFsIGNvbG9yPVwiI0ZGNDQwMFwiIHRyYW5zcGFyZW50IG9wYWNpdHk9ezAuODV9IC8+XG4gICAgICA8L21lc2g+XG4gICAgICB7LyogTWlkZGxlIGZsYW1lIGxheWVyICovfVxuICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAtMC4xLCAwXX0+XG4gICAgICAgIDxjb25lR2VvbWV0cnkgYXJncz17WzAuMzgsIDEuOSwgMjBdfSAvPiB7LyogU2xpZ2h0bHkgbGFyZ2VyIGZsYW1lIGNvbmUgKi99XG4gICAgICAgIDxtZXNoQmFzaWNNYXRlcmlhbCBjb2xvcj1cIiNGRjc3MDBcIiB0cmFuc3BhcmVudCBvcGFjaXR5PXswLjl9IC8+XG4gICAgICA8L21lc2g+XG4gICAgICB7LyogSG90IGlubmVyIGZsYW1lICovfVxuICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAtMC4yLCAwXX0+XG4gICAgICAgIDxjb25lR2VvbWV0cnkgYXJncz17WzAuMjgsIDEuNSwgMTZdfSAvPiB7LyogU2xpZ2h0bHkgbGFyZ2VyIGZsYW1lIGNvbmUgKi99XG4gICAgICAgIDxtZXNoQmFzaWNNYXRlcmlhbCBjb2xvcj1cIiNGRkNDMDBcIiB0cmFuc3BhcmVudCBvcGFjaXR5PXswLjk1fSAvPlxuICAgICAgPC9tZXNoPlxuICAgICAgey8qIFN0cm9uZ2VyIGxpZ2h0cyBmb3IgYmV0dGVyIHZpc3VhbCBpbXBhY3QgKi99XG4gICAgICA8cG9pbnRMaWdodCBjb2xvcj1cIiNGRjU1MDBcIiBpbnRlbnNpdHk9e2lzTGF1bmNoZWQgPyA5ICogdGhyb3R0bGUgOiA3ICogdGhyb3R0bGV9IGRpc3RhbmNlPXs3fSAvPiB7LyogSW5jcmVhc2VkIGludGVuc2l0eSBhbmQgZGlzdGFuY2UgKi99XG4gICAgICA8cG9pbnRMaWdodCBjb2xvcj1cIiNGRkFBMDBcIiBpbnRlbnNpdHk9e2lzTGF1bmNoZWQgPyA2ICogdGhyb3R0bGUgOiA1ICogdGhyb3R0bGV9IGRpc3RhbmNlPXs0fSAvPiB7LyogSW5jcmVhc2VkIGludGVuc2l0eSBhbmQgZGlzdGFuY2UgKi99XG4gICAgPC9ncm91cD5cbiAgKTtcbn1cblxuLy8gT3B0aW1pemVkIHJvY2tldCBtb2RlbCBjb21wb25lbnRcbmZ1bmN0aW9uIFJvY2tldE1vZGVsKHsgXG4gIHNlbGVjdGVkLCBcbiAgaXNMYXVuY2hlZCwgXG4gIHRocm90dGxlLFxuICBoaWdobGlnaHRlZFBhcnQsXG4gIHByZUxhdW5jaEZpcmUgPSBmYWxzZSxcbiAgY291bnRkb3duU3RhZ2UgPSAwXG59OiB7IFxuICBzZWxlY3RlZDogYm9vbGVhbiwgXG4gIGlzTGF1bmNoZWQ6IGJvb2xlYW4sXG4gIHRocm90dGxlOiBudW1iZXIsXG4gIGhpZ2hsaWdodGVkUGFydDogc3RyaW5nIHwgbnVsbCxcbiAgcHJlTGF1bmNoRmlyZT86IGJvb2xlYW4sXG4gIGNvdW50ZG93blN0YWdlPzogbnVtYmVyXG59KSB7XG4gIGNvbnN0IHJvY2tldFJlZiA9IHVzZVJlZjxUSFJFRS5Hcm91cD4obnVsbClcbiAgY29uc3QgYm9keVJhZGl1cyA9IDAuNVxuICBcbiAgdXNlRnJhbWUoKF8sIGRlbHRhKSA9PiB7XG4gICAgLy8gT25seSByb3RhdGUgZm9yIGRpc3BsYXkgd2hlbiBuZWl0aGVyIHNlbGVjdGVkIG5vciBsYXVuY2hlZFxuICAgIGlmIChyb2NrZXRSZWYuY3VycmVudCAmJiAhc2VsZWN0ZWQgJiYgIWlzTGF1bmNoZWQgJiYgIXByZUxhdW5jaEZpcmUpIHtcbiAgICAgIHJvY2tldFJlZi5jdXJyZW50LnJvdGF0aW9uLnkgKz0gZGVsdGEgKiAwLjFcbiAgICB9IGVsc2UgaWYgKHJvY2tldFJlZi5jdXJyZW50ICYmIHByZUxhdW5jaEZpcmUpIHtcbiAgICAgIC8vIEVuc3VyZSByb2NrZXQgaXMgZmFjaW5nIHN0cmFpZ2h0IHVwIGR1cmluZyBwcmUtbGF1bmNoXG4gICAgICByb2NrZXRSZWYuY3VycmVudC5yb3RhdGlvbi54ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocm9ja2V0UmVmLmN1cnJlbnQucm90YXRpb24ueCwgMCwgMC4xKTtcbiAgICAgIHJvY2tldFJlZi5jdXJyZW50LnJvdGF0aW9uLnogPSBUSFJFRS5NYXRoVXRpbHMubGVycChyb2NrZXRSZWYuY3VycmVudC5yb3RhdGlvbi56LCAwLCAwLjEpO1xuICAgIH1cbiAgfSlcblxuICBjb25zdCBoaWdobGlnaHRFbWlzc2l2ZSA9IFwiIzAwQUFGRlwiXG4gIGNvbnN0IGhpZ2hsaWdodEludGVuc2l0eSA9IDAuNVxuXG4gIGNvbnN0IGdldEVtaXNzaXZlID0gKHBhcnQ6IHN0cmluZykgPT4gaGlnaGxpZ2h0ZWRQYXJ0ID09PSBwYXJ0ID8gaGlnaGxpZ2h0RW1pc3NpdmUgOiAoc2VsZWN0ZWQgPyBcIiNGRkZGRkZcIiA6IFwiIzAwMDAwMFwiKVxuICBjb25zdCBnZXRFbWlzc2l2ZUludGVuc2l0eSA9IChwYXJ0OiBzdHJpbmcpID0+IGhpZ2hsaWdodGVkUGFydCA9PT0gcGFydCA/IGhpZ2hsaWdodEludGVuc2l0eSA6IChzZWxlY3RlZCA/IDAuMSA6IDApXG5cbiAgLy8gQWRqdXN0IHRoZSBlbnRpcmUgcm9ja2V0IHRvIHNpdCBwcm9wZXJseSBvbiB0aGUgZ3JpZFxuICByZXR1cm4gKFxuICAgIDxncm91cCByZWY9e3JvY2tldFJlZn0gcG9zaXRpb249e1swLCAwLjgsIDBdfT5cbiAgICAgIHsvKiBVcHBlciBib2R5ICovfVxuICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAxLjIsIDBdfSBuYW1lPVwidXBwZXItYWlyZnJhbWVcIj5cbiAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17W2JvZHlSYWRpdXMsIGJvZHlSYWRpdXMsIDEuNiwgMzJdfSAvPlxuICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgXG4gICAgICAgICAgY29sb3I9XCIjOEM4RDkxXCIgXG4gICAgICAgICAgbWV0YWxuZXNzPXswLjZ9IFxuICAgICAgICAgIHJvdWdobmVzcz17MC4yfSBcbiAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ2FpcmZyYW1lJyl9XG4gICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk9e2dldEVtaXNzaXZlSW50ZW5zaXR5KCdhaXJmcmFtZScpfVxuICAgICAgICAvPlxuICAgICAgPC9tZXNoPlxuICAgICAgXG4gICAgICB7LyogTG93ZXIgYm9keSAqL31cbiAgICAgIDxtZXNoIHBvc2l0aW9uPXtbMCwgLTAuOCwgMF19IG5hbWU9XCJsb3dlci1haXJmcmFtZVwiPlxuICAgICAgICA8Y3lsaW5kZXJHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cywgYm9keVJhZGl1cywgMi40LCAzMl19IC8+XG4gICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICBjb2xvcj1cIiM4QzhEOTFcIiBcbiAgICAgICAgICBtZXRhbG5lc3M9ezAuNn0gXG4gICAgICAgICAgcm91Z2huZXNzPXswLjJ9IFxuICAgICAgICAgIGVtaXNzaXZlPXtnZXRFbWlzc2l2ZSgnYWlyZnJhbWUnKX1cbiAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eT17Z2V0RW1pc3NpdmVJbnRlbnNpdHkoJ2FpcmZyYW1lJyl9XG4gICAgICAgIC8+XG4gICAgICA8L21lc2g+XG4gICAgICBcbiAgICAgIHsvKiBUb3AgcmluZyAqL31cbiAgICAgIDxtZXNoIHBvc2l0aW9uPXtbMCwgMiwgMF19PlxuICAgICAgICA8dG9ydXNHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cywgMC4wMywgMTYsIDMyXX0gLz5cbiAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIGNvbG9yPVwiI0ZGRkZGRlwiIC8+XG4gICAgICA8L21lc2g+XG4gICAgICBcbiAgICAgIHsvKiBOb3NlIGNvbmUgKi99XG4gICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIDIuNzUsIDBdfSBuYW1lPVwibm9zZWNvbmVcIj5cbiAgICAgICAgPGNvbmVHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cywgMS41LCAzMl19IC8+XG4gICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICBjb2xvcj1cIiNBMEE3QjhcIiBcbiAgICAgICAgICBtZXRhbG5lc3M9ezAuN30gXG4gICAgICAgICAgcm91Z2huZXNzPXswLjJ9IFxuICAgICAgICAgIGVtaXNzaXZlPXtnZXRFbWlzc2l2ZSgnbm9zZWNvbmUnKX1cbiAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eT17Z2V0RW1pc3NpdmVJbnRlbnNpdHkoJ25vc2Vjb25lJyl9XG4gICAgICAgIC8+XG4gICAgICA8L21lc2g+XG4gICAgICBcbiAgICAgIHsvKiBFbGVjdHJvbmljcyBiYXkgKi99XG4gICAgICA8Z3JvdXAgcG9zaXRpb249e1swLCAwLjQsIDBdfSBuYW1lPVwiZWxlY3Ryb25pY3NcIj5cbiAgICAgICAgPG1lc2g+XG4gICAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17W2JvZHlSYWRpdXMgKyAwLjAxLCBib2R5UmFkaXVzICsgMC4wMSwgMC40LCAzMl19IC8+XG4gICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgICAgY29sb3I9XCIjMjIyMjIyXCJcbiAgICAgICAgICAgIG1ldGFsbmVzcz17MC4zNX1cbiAgICAgICAgICAgIHJvdWdobmVzcz17MC43fVxuICAgICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdlbGVjdHJvbmljcycpfVxuICAgICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk9e2dldEVtaXNzaXZlSW50ZW5zaXR5KCdlbGVjdHJvbmljcycpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbWVzaD5cbiAgICAgICAgXG4gICAgICAgIHsvKiBSaW5ncyAqL31cbiAgICAgICAge1swLjIsIC0wLjJdLm1hcCgoeSwgaSkgPT4gKFxuICAgICAgICAgIDxtZXNoIGtleT17aX0gcG9zaXRpb249e1swLCB5LCAwXX0+XG4gICAgICAgICAgPHRvcnVzR2VvbWV0cnkgYXJncz17W2JvZHlSYWRpdXMgKyAwLjAxLCAwLjAyLCAxNiwgMzJdfSAvPlxuICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBjb2xvcj1cIiM4ODg4ODhcIiBtZXRhbG5lc3M9ezAuOH0gcm91Z2huZXNzPXswLjJ9IC8+XG4gICAgICAgIDwvbWVzaD5cbiAgICAgICAgKSl9XG4gICAgICAgIFxuICAgICAgICB7LyogRGV0YWlscyAqL31cbiAgICAgICAge1swLCAxLCAyLCAzXS5tYXAoKGkpID0+IChcbiAgICAgICAgICA8bWVzaCBcbiAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgIHBvc2l0aW9uPXtbXG4gICAgICAgICAgICAgIE1hdGguc2luKGkgKiBNYXRoLlBJIC8gMikgKiAoYm9keVJhZGl1cyAtIDAuMDUpLFxuICAgICAgICAgICAgICAwLCBcbiAgICAgICAgICAgICAgTWF0aC5jb3MoaSAqIE1hdGguUEkgLyAyKSAqIChib2R5UmFkaXVzIC0gMC4wNSlcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICByb3RhdGlvbj17WzAsIGkgKiBNYXRoLlBJIC8gMiwgTWF0aC5QSSAvIDJdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxjeWxpbmRlckdlb21ldHJ5IGFyZ3M9e1swLjA0LCAwLjA0LCAwLjEsIDhdfSAvPlxuICAgICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIGNvbG9yPVwiIzQ0NDQ0NFwiIG1ldGFsbmVzcz17MC43fSByb3VnaG5lc3M9ezAuM30gLz5cbiAgICAgICAgICA8L21lc2g+XG4gICAgICAgICkpfVxuICAgICAgPC9ncm91cD5cbiAgICAgIFxuICAgICAgey8qIEZpbnMgKi99XG4gICAgICB7WzAsIDEsIDIsIDNdLm1hcCgoaSkgPT4gKFxuICAgICAgICA8bWVzaCBcbiAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgcG9zaXRpb249e1tcbiAgICAgICAgICAgIE1hdGguc2luKGkgKiBNYXRoLlBJIC8gMikgKiAwLjYsXG4gICAgICAgICAgICAtMS41LFxuICAgICAgICAgICAgTWF0aC5jb3MoaSAqIE1hdGguUEkgLyAyKSAqIDAuNlxuICAgICAgICAgIF19XG4gICAgICAgICAgcm90YXRpb249e1swLCBpICogTWF0aC5QSSAvIDIsIDBdfVxuICAgICAgICAgIG5hbWU9XCJmaW5zXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxib3hHZW9tZXRyeSBhcmdzPXtbMC4xLCAxLCAwLjhdfSAvPlxuICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICAgIGNvbG9yPVwiI0EwQTdCOFwiIFxuICAgICAgICAgICAgbWV0YWxuZXNzPXswLjN9IFxuICAgICAgICAgICAgcm91Z2huZXNzPXswLjN9IFxuICAgICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdmaW5zJyl9XG4gICAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eT17Z2V0RW1pc3NpdmVJbnRlbnNpdHkoJ2ZpbnMnKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L21lc2g+XG4gICAgICApKX1cbiAgICAgIFxuICAgICAgey8qIEVuZ2luZSAqL31cbiAgICAgIDxncm91cCBwb3NpdGlvbj17WzAsIC0yLjIsIDBdfSBuYW1lPVwiZW5naW5lXCI+XG4gICAgICAgIDxtZXNoPlxuICAgICAgICAgIDxjeWxpbmRlckdlb21ldHJ5IGFyZ3M9e1swLjM1LCAwLjQsIDAuNSwgMzJdfSAvPlxuICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICAgIGNvbG9yPVwiIzMwMzAzMFwiIFxuICAgICAgICAgICAgbWV0YWxuZXNzPXswLjd9IFxuICAgICAgICAgICAgcm91Z2huZXNzPXswLjN9IFxuICAgICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdlbmdpbmUnKX1cbiAgICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgnZW5naW5lJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9tZXNoPlxuICAgICAgICBcbiAgICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAtMC4zLCAwXX0+XG4gICAgICAgICAgPGNvbmVHZW9tZXRyeSBhcmdzPXtbMC40LCAwLjQsIDMyLCAxLCB0cnVlXX0gLz5cbiAgICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgXG4gICAgICAgICAgICBjb2xvcj1cIiM0MDQwNDBcIiBcbiAgICAgICAgICAgIG1ldGFsbmVzcz17MC43fSBcbiAgICAgICAgICAgIHJvdWdobmVzcz17MC4yfVxuICAgICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdlbmdpbmUnKX1cbiAgICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgnZW5naW5lJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9tZXNoPlxuICAgICAgICBcbiAgICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAtMC41LCAwXX0gcm90YXRpb249e1tNYXRoLlBJLCAwLCAwXX0+XG4gICAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17WzAuMjgsIDAuMzIsIDAuMywgMzJdfSAvPlxuICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBjb2xvcj1cIiMxMTExMTFcIiBtZXRhbG5lc3M9ezAuNX0gcm91Z2huZXNzPXswLjh9IC8+XG4gICAgICAgIDwvbWVzaD5cbiAgICAgIDwvZ3JvdXA+XG5cbiAgICAgIHsvKiBQYXJhY2h1dGUgKi99XG4gICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIDEuNSwgMF19IG5hbWU9XCJwYXJhY2h1dGVcIj5cbiAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17WzAuMiwgMC4yLCAwLjMsIDE2XX0gLz5cbiAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgIGNvbG9yPVwiI0REMjIyMlwiIFxuICAgICAgICAgIG1ldGFsbmVzcz17MC4yfSBcbiAgICAgICAgICByb3VnaG5lc3M9ezAuNX1cbiAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ3BhcmFjaHV0ZScpfVxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgncGFyYWNodXRlJyl9XG4gICAgICAgIC8+XG4gICAgICA8L21lc2g+XG5cbiAgICAgIHsvKiBGbGFtZSAqL31cbiAgICAgIDxSb2NrZXRGbGFtZSBcbiAgICAgICAgaXNMYXVuY2hlZD17aXNMYXVuY2hlZH0gXG4gICAgICAgIHRocm90dGxlPXt0aHJvdHRsZX0gXG4gICAgICAgIHByZUxhdW5jaEZpcmU9e3ByZUxhdW5jaEZpcmUgfHwgaGlnaGxpZ2h0ZWRQYXJ0ID09PSAnZW5naW5lJ31cbiAgICAgICAgY291bnRkb3duU3RhZ2U9e3ByZUxhdW5jaEZpcmUgPyBjb3VudGRvd25TdGFnZSA6IChoaWdobGlnaHRlZFBhcnQgPT09ICdlbmdpbmUnID8gMyA6IDApfVxuICAgICAgLz5cbiAgICA8L2dyb3VwPlxuICApXG59XG5cbi8vIE9wdGltaXplZCBkeW5hbWljIGNhbWVyYSB0aGF0IGZvbGxvd3MgdGhlIHJvY2tldFxuZnVuY3Rpb24gRHluYW1pY0NhbWVyYSh7IFxuICBpc0xhdW5jaGVkLCBcbiAgdGFyZ2V0LFxuICB2aWV3XG59OiB7IFxuICBpc0xhdW5jaGVkOiBib29sZWFuLFxuICB0YXJnZXQ6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgdmlldzogJ3RvcCcgfCAnc2lkZScgfCAncGVyc3BlY3RpdmUnXG59KSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYT4obnVsbCk7XG4gIFxuICAvLyBDYW1lcmEgcG9zaXRpb25zIGFyZSBub3cgbW9yZSBkcmFtYXRpY2FsbHkgZGlmZmVyZW50IGZvciBlYWNoIHZpZXdcbiAgY29uc3QgaW5pdGlhbFBvc2l0aW9ucyA9IHVzZVJlZjx7W2tleTogc3RyaW5nXTogVEhSRUUuVmVjdG9yM30+KHtcbiAgICB0b3A6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDE1LCAwKSwgICAgICAvLyBEaXJlY3RseSBhYm92ZVxuICAgIHNpZGU6IG5ldyBUSFJFRS5WZWN0b3IzKDE1LCAwLCAwKSwgICAgIC8vIFB1cmUgc2lkZSB2aWV3XG4gICAgcGVyc3BlY3RpdmU6IG5ldyBUSFJFRS5WZWN0b3IzKDEwLCAxMCwgMTApICAvLyBJc29tZXRyaWMgdmlld1xuICB9KTtcbiAgXG4gIC8vIENhbWVyYSB1cCB2ZWN0b3JzIGZvciBlYWNoIHZpZXcgdG8gcHJvcGVybHkgb3JpZW50IHRoZSBjYW1lcmFcbiAgY29uc3QgY2FtZXJhc1VwID0gdXNlUmVmPHtba2V5OiBzdHJpbmddOiBUSFJFRS5WZWN0b3IzfT4oe1xuICAgIHRvcDogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpLCAgICAgLy8gTG9va2luZyBkb3duLCBcInVwXCIgaXMgLVpcbiAgICBzaWRlOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSwgICAgIC8vIExvb2tpbmcgZnJvbSBzaWRlLCBcInVwXCIgaXMgWVxuICAgIHBlcnNwZWN0aXZlOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSAvLyBTdGFuZGFyZCBcInVwXCIgaXMgWVxuICB9KTtcbiAgXG4gIGNvbnN0IGluaXRpYWxDYW1lcmFQb3NpdGlvbiA9IHVzZVJlZjxUSFJFRS5WZWN0b3IzIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHN0YXRpY0dyb3VuZFkgPSAtMi44OyAvLyBVcGRhdGVkIHRvIG1hdGNoIHRoZSBncmlkIHBvc2l0aW9uXG4gIGNvbnN0IGxhc3RSb2NrZXRZID0gdXNlUmVmPG51bWJlcj4oc3RhdGljR3JvdW5kWSk7XG4gIGNvbnN0IGNhbWVyYUxhZyA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCBwcmV2Vmlld1JlZiA9IHVzZVJlZih2aWV3KTtcblxuICAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gd2hlbiB2aWV3IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBEeW5hbWljQ2FtZXJhOiBWaWV3IGNoYW5nZWQgdG8gJHt2aWV3fWApO1xuICAgICAgXG4gICAgICAvLyBEZWZpbmUgcG9zaXRpb25zIGZvciBlYWNoIHZpZXdcbiAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHtcbiAgICAgICAgdG9wOiBbMCwgMTUsIDBdLCAgICAgICAgICAvLyBEaXJlY3RseSBhYm92ZVxuICAgICAgICBzaWRlOiBbMTUsIDAsIDBdLCAgICAgICAgIC8vIFB1cmUgc2lkZSB2aWV3XG4gICAgICAgIHBlcnNwZWN0aXZlOiBbMTAsIDEwLCAxMF0gIC8vIElzb21ldHJpYyB2aWV3XG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uc1t2aWV3XTtcbiAgICAgIGNvbnN0IHBvc2l0aW9uVmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7XG4gICAgICBpbml0aWFsUG9zaXRpb25zLmN1cnJlbnRbdmlld10gPSBwb3NpdGlvblZlY3Rvci5jbG9uZSgpO1xuICAgICAgXG4gICAgICAvLyBTZXQgY2FtZXJhIHBvc2l0aW9uXG4gICAgICByZWYuY3VycmVudC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uVmVjdG9yKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGNhbWVyYSB1cCB2ZWN0b3IgYmFzZWQgb24gdmlld1xuICAgICAgcmVmLmN1cnJlbnQudXAuY29weShjYW1lcmFzVXAuY3VycmVudFt2aWV3XSk7XG4gICAgICBcbiAgICAgIC8vIExvb2sgYXQgdGFyZ2V0XG4gICAgICByZWYuY3VycmVudC5sb29rQXQoMCwgc3RhdGljR3JvdW5kWSwgMCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBwcmV2aW91cyB2aWV3IHJlZmVyZW5jZVxuICAgICAgcHJldlZpZXdSZWYuY3VycmVudCA9IHZpZXc7XG4gICAgfVxuICB9LCBbdmlld10pO1xuXG4gIC8vIFRyYWNrIHJvY2tldCBsYXVuY2hcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMYXVuY2hlZCAmJiByZWYuY3VycmVudCkge1xuICAgICAgLy8gU3RvcmUgaW5pdGlhbCBjYW1lcmEgcG9zaXRpb24gb24gbGF1bmNoXG4gICAgICBpbml0aWFsQ2FtZXJhUG9zaXRpb24uY3VycmVudCA9IHJlZi5jdXJyZW50LnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICBsYXN0Um9ja2V0WS5jdXJyZW50ID0gc3RhdGljR3JvdW5kWTtcbiAgICAgIGNhbWVyYUxhZy5jdXJyZW50ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgd2hlbiBub3QgbGF1bmNoZWRcbiAgICAgIGluaXRpYWxDYW1lcmFQb3NpdGlvbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGxhc3RSb2NrZXRZLmN1cnJlbnQgPSBzdGF0aWNHcm91bmRZO1xuICAgICAgY2FtZXJhTGFnLmN1cnJlbnQgPSAwO1xuICAgIH1cbiAgfSwgW2lzTGF1bmNoZWRdKTtcblxuICAvLyBNYWluIGZyYW1lIHVwZGF0ZVxuICB1c2VGcmFtZSgoXywgZGVsdGEpID0+IHtcbiAgICBpZiAoIXJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgaWYgKGlzTGF1bmNoZWQpIHtcbiAgICAgIC8vIERpcmVjdCBjYW1lcmEgdHJhY2tpbmcgZm9yIHJvY2tldFxuICAgICAgY29uc3Qgcm9ja2V0WCA9IHRhcmdldFswXSB8fCAwO1xuICAgICAgY29uc3Qgcm9ja2V0WSA9IHRhcmdldFsxXSB8fCBzdGF0aWNHcm91bmRZO1xuICAgICAgY29uc3Qgcm9ja2V0WiA9IHRhcmdldFsyXSB8fCAwO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgcm9ja2V0IHZlbG9jaXR5IHRvIGRldGVybWluZSBob3cgcXVpY2tseSBjYW1lcmEgc2hvdWxkIGZvbGxvd1xuICAgICAgY29uc3Qgcm9ja2V0VmVsb2NpdHlZID0gKHJvY2tldFkgLSBsYXN0Um9ja2V0WS5jdXJyZW50KSAvIE1hdGgubWF4KGRlbHRhLCAwLjAxNik7XG4gICAgICBsYXN0Um9ja2V0WS5jdXJyZW50ID0gcm9ja2V0WTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGFsdGl0dWRlXG4gICAgICBjb25zdCBhbHRpdHVkZSA9IHJvY2tldFkgLSBzdGF0aWNHcm91bmRZO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgY2FtZXJhIGxhZyBiYXNlZCBvbiByb2NrZXQgdmVsb2NpdHlcbiAgICAgIGNhbWVyYUxhZy5jdXJyZW50ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAoXG4gICAgICAgIGNhbWVyYUxhZy5jdXJyZW50LFxuICAgICAgICBNYXRoLm1heCgwLCBNYXRoLm1pbig1LCByb2NrZXRWZWxvY2l0eVkgKiAwLjA1KSksIC8vIENhcCBsYWcgYmV0d2VlbiAwLTVcbiAgICAgICAgMC4wNVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5pdGlhbFBvcyA9IGluaXRpYWxDYW1lcmFQb3NpdGlvbi5jdXJyZW50IHx8IGluaXRpYWxQb3NpdGlvbnMuY3VycmVudFt2aWV3XTtcbiAgICAgICAgICAgIFxuICAgICAgaWYgKHZpZXcgPT09ICdwZXJzcGVjdGl2ZScpIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGhvcml6b250YWwgZGlzdGFuY2UgYW5kIGFuZ2xlIGZyb20gaW5pdGlhbCBwb3NpdGlvblxuICAgICAgICBjb25zdCBob3JpekRpc3QgPSBNYXRoLnNxcnQoaW5pdGlhbFBvcy54ICogaW5pdGlhbFBvcy54ICsgaW5pdGlhbFBvcy56ICogaW5pdGlhbFBvcy56KTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGluaXRpYWxQb3MueiwgaW5pdGlhbFBvcy54KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBzY2FsaW5nIGZhY3RvciBiYXNlZCBvbiBhbHRpdHVkZSB0byB6b29tIG91dCBhcyByb2NrZXQgZ29lcyBoaWdoZXJcbiAgICAgICAgY29uc3QgZGlzdGFuY2VTY2FsZSA9IDEgKyBhbHRpdHVkZSAqIDAuMDI7IC8vIFNjYWxlIGRpc3RhbmNlIGFzIHJvY2tldCBhc2NlbmRzXG4gICAgICAgIFxuICAgICAgICAvLyBBcHBseSBkaXN0YW5jZSBzY2FsaW5nIHdpdGggbWluaW11bSBkaXN0YW5jZVxuICAgICAgICBjb25zdCBzY2FsZWRIb3JpekRpc3QgPSBNYXRoLm1heChob3JpekRpc3QsIGhvcml6RGlzdCAqIGRpc3RhbmNlU2NhbGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gTW9yZSByZXNwb25zaXZlIHBvc2l0aW9uaW5nIC0gaW5jcmVhc2UgZm9sbG93IHNwZWVkIGFzIHJvY2tldCBnb2VzIGhpZ2hlclxuICAgICAgICAvLyBBcHBseSBzb21lIGRlbGliZXJhdGUgbGFnIGZvciBkcmFtYXRpYyBlZmZlY3RcbiAgICAgICAgY29uc3QgdGFyZ2V0WSA9IGluaXRpYWxQb3MueSArIChyb2NrZXRZIC0gc3RhdGljR3JvdW5kWSAtIGNhbWVyYUxhZy5jdXJyZW50KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbnMgd2l0aCBhcHByb3ByaWF0ZSBzY2FsZSBhbmQgc21vb3RoaW5nXG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnggPSBNYXRoLmNvcyhhbmdsZSkgKiBzY2FsZWRIb3JpekRpc3Q7XG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnogPSBNYXRoLnNpbihhbmdsZSkgKiBzY2FsZWRIb3JpekRpc3Q7XG4gICAgICAgIFxuICAgICAgICAvLyBTbW9vdGggY2FtZXJhIFkgbW92ZW1lbnQgLSBmYXN0ZXIgZm9sbG93IGZvciBoaWdoZXIgdmVsb2NpdGllc1xuICAgICAgICBjb25zdCBmb2xsb3dTcGVlZCA9IE1hdGgubWluKDEsIDAuMSArIE1hdGguYWJzKHJvY2tldFZlbG9jaXR5WSkgKiAwLjAwMSk7XG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnkgPSBUSFJFRS5NYXRoVXRpbHMubGVycChcbiAgICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi55LFxuICAgICAgICAgIHRhcmdldFksXG4gICAgICAgICAgZm9sbG93U3BlZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZpZXcgPT09ICd0b3AnKSB7XG4gICAgICAgIC8vIFRvcCB2aWV3IC0gc3RheSBkaXJlY3RseSBhYm92ZSByb2NrZXQgd2l0aCBpbmNyZWFzaW5nIGhlaWdodFxuICAgICAgICBjb25zdCBoZWlnaHRTY2FsZSA9IDEgKyBhbHRpdHVkZSAqIDAuMDU7IC8vIFNjYWxlIGhlaWdodCBiYXNlZCBvbiBhbHRpdHVkZVxuICAgICAgICBjb25zdCB0b3BIZWlnaHQgPSByb2NrZXRZICsgMTUgKiBoZWlnaHRTY2FsZTsgLy8gU2NhbGUgdmlld2luZyBoZWlnaHRcbiAgICAgICAgXG4gICAgICAgIC8vIFNtb290aGVyIHRyYW5zaXRpb25zIGZvciBwb3NpdGlvblxuICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi54ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocmVmLmN1cnJlbnQucG9zaXRpb24ueCwgcm9ja2V0WCwgMC4xKTtcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueiA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKHJlZi5jdXJyZW50LnBvc2l0aW9uLnosIHJvY2tldFosIDAuMSk7XG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnkgPSBUSFJFRS5NYXRoVXRpbHMubGVycChyZWYuY3VycmVudC5wb3NpdGlvbi55LCB0b3BIZWlnaHQsIDAuMDUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmlldyA9PT0gJ3NpZGUnKSB7XG4gICAgICAgIC8vIFNpZGUgdmlldyAtIG1haW50YWluIFggZGlzdGFuY2UgYnV0IHRyYWNrIGhlaWdodCBkaXJlY3RseSB3aXRoIHNvbWUgbGFnXG4gICAgICAgIGNvbnN0IHRhcmdldFkgPSByb2NrZXRZIC0gY2FtZXJhTGFnLmN1cnJlbnQgKiAwLjU7IC8vIFJlZHVjZWQgbGFnIGZvciBzaWRlIHZpZXdcbiAgICAgICAgY29uc3QgZm9sbG93U3BlZWQgPSBNYXRoLm1pbigxLCAwLjE1ICsgTWF0aC5hYnMocm9ja2V0VmVsb2NpdHlZKSAqIDAuMDAxKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNtb290aCB0cmFja2luZ1xuICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi55ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocmVmLmN1cnJlbnQucG9zaXRpb24ueSwgdGFyZ2V0WSwgZm9sbG93U3BlZWQpO1xuICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi56ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocmVmLmN1cnJlbnQucG9zaXRpb24ueiwgcm9ja2V0WiwgMC4xKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFpvb20gb3V0IHNsaWdodGx5IGJhc2VkIG9uIGFsdGl0dWRlXG4gICAgICAgIGNvbnN0IHNpZGVEaXN0YW5jZSA9IGluaXRpYWxQb3MueCAqICgxICsgYWx0aXR1ZGUgKiAwLjAxKTtcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueCA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKHJlZi5jdXJyZW50LnBvc2l0aW9uLngsIHNpZGVEaXN0YW5jZSwgMC4wNSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsd2F5cyBsb29rIGRpcmVjdGx5IGF0IHRoZSByb2NrZXQsIG1haW50YWluaW5nIHRoZSB2aWV3IG9yaWVudGF0aW9uXG4gICAgICByZWYuY3VycmVudC5sb29rQXQocm9ja2V0WCwgcm9ja2V0WSwgcm9ja2V0Wik7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB3ZSBtYWludGFpbiBwcm9wZXIgdXAgdmVjdG9yIGR1cmluZyBmbGlnaHQgZm9yIGVhY2ggdmlldyB0eXBlXG4gICAgICByZWYuY3VycmVudC51cC5jb3B5KGNhbWVyYXNVcC5jdXJyZW50W3ZpZXddKTtcbiAgICAgIFxuICAgICAgLy8gQWRqdXN0IEZPViBmb3IgYmV0dGVyIHZpc2liaWxpdHkgLSBtb3JlIGR5bmFtaWMgRk9WIGNoYW5nZVxuICAgICAgY29uc3QgdGFyZ2V0Rk9WID0gTWF0aC5taW4oNzAsIDUwICsgYWx0aXR1ZGUgKiAwLjE1KTtcbiAgICAgIGlmIChyZWYuY3VycmVudC5mb3YgIT09IHRhcmdldEZPVikge1xuICAgICAgICByZWYuY3VycmVudC5mb3YgPSBUSFJFRS5NYXRoVXRpbHMubGVycChyZWYuY3VycmVudC5mb3YsIHRhcmdldEZPViwgMC4wNSk7XG4gICAgICAgIHJlZi5jdXJyZW50LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRG9uJ3QgZm9yY2UgdGhlIGNhbWVyYSB0byBsb29rIGF0IGEgc3BlY2lmaWMgcG9pbnQgd2hlbiBub3QgbGF1bmNoZWRcbiAgICAvLyBUaGlzIGFsbG93cyBPcmJpdENvbnRyb2xzIHRvIHRha2Ugb3ZlciBjb21wbGV0ZWx5XG4gIH0pO1xuICBcbiAgLy8gQ2FtZXJhIHBvc2l0aW9ucyBieSB2aWV3IHR5cGVcbiAgY29uc3QgY2FtZXJhUG9zaXRpb25zID0ge1xuICAgIHRvcDogWzAsIDE1LCAwXSxcbiAgICBzaWRlOiBbMTUsIDAsIDBdLFxuICAgIHBlcnNwZWN0aXZlOiBbMTAsIDEwLCAxMF0sXG4gIH0gYXMgY29uc3Q7XG4gIFxuICByZXR1cm4gPFBlcnNwZWN0aXZlQ2FtZXJhIHJlZj17cmVmfSBtYWtlRGVmYXVsdCBwb3NpdGlvbj17Y2FtZXJhUG9zaXRpb25zW3ZpZXddfSBmb3Y9ezUwfSAvPjtcbn1cblxuLy8gR2xvYmFsIHRyYWNraW5nIG9mIHJvY2tldCBwb3NpdGlvbiBmb3IgZGVidWdnaW5nIC0gZW1lcmdlbmN5IGJhY2t1cFxubGV0IGdsb2JhbFJvY2tldFkgPSAtMi44OyAvLyBVcGRhdGVkIGdsb2JhbCByZWZlcmVuY2VcblxuZnVuY3Rpb24gUm9ja2V0U2ltdWxhdGlvbih7XG4gIHNlbGVjdGVkLFxuICBpc0xhdW5jaGVkLCBcbiAgdGhyb3R0bGUsIFxuICByZXNldFRyaWdnZXIsXG4gIHNldEZsaWdodERhdGEsXG4gIGhpZ2hsaWdodGVkUGFydFxufToge1xuICBzZWxlY3RlZDogYm9vbGVhbixcbiAgaXNMYXVuY2hlZDogYm9vbGVhbixcbiAgdGhyb3R0bGU6IG51bWJlcixcbiAgcmVzZXRUcmlnZ2VyOiBib29sZWFuLFxuICBzZXRGbGlnaHREYXRhOiAocG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgdmVsb2NpdHk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSkgPT4gdm9pZCxcbiAgaGlnaGxpZ2h0ZWRQYXJ0OiBzdHJpbmcgfCBudWxsXG59KSB7XG4gIGNvbnNvbGUubG9nKGBST0NLRVQgU0lNVUxBVElPTiBSRU5ERVIgLSBpc0xhdW5jaGVkOiAke2lzTGF1bmNoZWR9LCB0aHJvdHRsZTogJHt0aHJvdHRsZX1gKTtcbiAgXG4gIC8vIFRyYWNrIG1vdW50L3VubW91bnQgZm9yIGRlYnVnZ2luZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUm9ja2V0U2ltdWxhdGlvbiBtb3VudGVkXCIpO1xuICAgIHJldHVybiAoKSA9PiBjb25zb2xlLmxvZyhcIlJvY2tldFNpbXVsYXRpb24gdW5tb3VudGVkXCIpO1xuICB9LCBbXSk7XG4gIC8vIEVtaXQgbGF1bmNoIGV2ZW50cyBmb3IgYmV0dGVyIGNvbXBvbmVudCBjb29yZGluYXRpb24gXG4gIGNvbnN0IGVtaXRMYXVuY2hFdmVudCA9ICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsOiBkYXRhIH0pKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBGaXhlZCBncm91bmQgcG9zaXRpb24gLSBzdGFuZGFyZGl6ZWQgdG8gbWF0Y2ggZ3JpZFxuICBjb25zdCBHUk9VTkRfWSA9IC0yLjg7IC8vIFN0YW5kYXJkaXplZCBncm91bmQgcG9zaXRpb24gdG8gbWF0Y2ggZ3JpZFxuICAvLyBNYWtlIEdST1VORF9QT1NJVElPTiBhbiBvYmplY3QgdG8gYmUgcmUtY3JlYXRlZCBlYWNoIHRpbWUgdG8gYXZvaWQgcmVmZXJlbmNlIGlzc3Vlc1xuICBjb25zdCBHUk9VTkRfUE9TSVRJT046IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFswLCBHUk9VTkRfWSwgMF07XG4gIFxuICAvLyBTdGF0ZSBmb3Igcm9ja2V0IHBoeXNpY3MgLSB3aXRoIHByZWNpc2UgZ3JvdW5kIHBvc2l0aW9uXG4gIGNvbnN0IFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdPihHUk9VTkRfUE9TSVRJT04pO1xuICBjb25zdCBbdmVsb2NpdHksIHNldFZlbG9jaXR5XSA9IHVzZVN0YXRlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oWzAsIDAsIDBdKTtcbiAgY29uc3QgW3JvdGF0aW9uLCBzZXRSb3RhdGlvbl0gPSB1c2VTdGF0ZTxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+KFswLCAwLCAwXSk7XG4gIFxuICAvLyBVc2UgcmVmcyB0byB0cmFjayB0aGUgYWN0dWFsIGxhdGVzdCB2YWx1ZXMgdG8gcHJldmVudCBzdGFsZSBjbG9zdXJlc1xuICBjb25zdCBwb3NpdGlvblJlZiA9IHVzZVJlZjxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+KEdST1VORF9QT1NJVElPTik7XG4gIGNvbnN0IHZlbG9jaXR5UmVmID0gdXNlUmVmPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oWzAsIDAsIDBdKTtcbiAgY29uc3QgaXNMYXVuY2hlZFJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIFxuICAvLyBVcGRhdGUgcmVmcyB3aGVuIHN0YXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gcG9zaXRpb247XG4gICAgdmVsb2NpdHlSZWYuY3VycmVudCA9IHZlbG9jaXR5O1xuICAgIGlzTGF1bmNoZWRSZWYuY3VycmVudCA9IGlzTGF1bmNoZWQ7XG4gIH0sIFtwb3NpdGlvbiwgdmVsb2NpdHksIGlzTGF1bmNoZWRdKTtcbiAgXG4gIC8vIFNpbXBsaWZ5IHRvIGEgc2luZ2xlIHNob3dGaXJlIHN0YXRlIGZvciBwcmUtbGF1bmNoXG4gIGNvbnN0IFtzaG93RmlyZSwgc2V0U2hvd0ZpcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBsYXVuY2hUaW1lID0gdXNlUmVmPG51bWJlcj4oMCk7XG4gIGNvbnN0IHN0YXJ0TW92aW5nVGltZSA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCBsYXN0VXBkYXRlVGltZSA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBcbiAgLy8gUHJldmVudCB1bndhbnRlZCB0cmFuc2l0aW9uc1xuICBjb25zdCBpc1RyYW5zaXRpb25pbmcgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBcbiAgLy8gQmFzaWMgcGh5c2ljcyBjb25zdGFudHMgLSBkcmFtYXRpY2FsbHkgaW5jcmVhc2VkIGZvciBndWFyYW50ZWVkIG1vdmVtZW50XG4gIGNvbnN0IGdyYXZpdHkgPSAtOS44O1xuICBjb25zdCBtYXhUaHJ1c3QgPSAxNTAgKiB0aHJvdHRsZTsgLy8gSW5jcmVhc2VkIGZyb20gMTAwIHRvIDE1MCBmb3IgZmFzdGVyIG1vdmVtZW50XG4gIGNvbnN0IGJhc2VEcmFnID0gMC4wMTsgLy8gRnVydGhlciByZWR1Y2VkIGRyYWcgZm9yIGV2ZW4gZmFzdGVyIGFzY2VudFxuICBcbiAgLy8gU2ltcGxlIHR1cmJ1bGVuY2UgZWZmZWN0XG4gIGNvbnN0IHR1cmJ1bGVuY2VSZWYgPSB1c2VSZWYoeyB4OiAwLCB6OiAwLCByb3RYOiAwLCByb3RaOiAwIH0pO1xuICBcbiAgLy8gVXBkYXRlIHBhcmVudCB3aXRoIGZsaWdodCBkYXRhIC0gZW5zdXJlIGl0IHByb3Blcmx5IHJlZmxlY3RzIGFjdHVhbCBtb3ZlbWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENhbGN1bGF0ZSBhY3R1YWwgc3BlZWQgZnJvbSB2ZWxvY2l0eVxuICAgIGNvbnN0IGN1cnJlbnRTcGVlZCA9IE1hdGguc3FydChcbiAgICAgIHZlbG9jaXR5WzBdICogdmVsb2NpdHlbMF0gKyB2ZWxvY2l0eVsxXSAqIHZlbG9jaXR5WzFdICsgdmVsb2NpdHlbMl0gKiB2ZWxvY2l0eVsyXVxuICAgICk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGFsdGl0dWRlIGFzIGRpc3RhbmNlIGZyb20gZ3JvdW5kIGxldmVsXG4gICAgY29uc3QgY3VycmVudEFsdGl0dWRlID0gTWF0aC5tYXgoMCwgcG9zaXRpb25bMV0gLSBHUk9VTkRfWSk7XG4gICAgXG4gICAgLy8gSWYgcm9ja2V0IGhhcyBjcm9zc2VkIHRoZSB0aHJlc2hvbGQgdG8gc3RhcnQgbW92aW5nLCBlbnN1cmUgd2Ugc2VuZCBub24temVybyB2YWx1ZXNcbiAgICBpZiAoaXNMYXVuY2hlZFJlZi5jdXJyZW50ICYmIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50ID4gMCkge1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKS8xMDAwO1xuICAgICAgXG4gICAgICBpZiAobm93IDwgc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gRHVyaW5nIHByZS1sYXVuY2ggZmlyZSwgcGFzcyBwb3NpdGlvbiBidXQgd2l0aCB6ZXJvIHZlbG9jaXR5XG4gICAgICAgIHNldEZsaWdodERhdGEocG9zaXRpb24sIFswLCAwLCAwXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUHJlLWxhdW5jaCBmaXJlIHBoYXNlIC0gc2hvd2luZyB6ZXJvIHNwZWVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UncmUgaW4gYWN0dWFsIGZsaWdodCBwaGFzZSAtIGFsd2F5cyBlbnN1cmUgbWluaW11bSB2YWx1ZXMgaWYgbGF1bmNoZWRcbiAgICAgICAgLy8gVGhpcyBndWFyYW50ZWVzIHRoYXQgd2hlbiBtb3ZlbWVudCBzdGFydHMsIFVJIHVwZGF0ZXMgaW1tZWRpYXRlbHlcbiAgICAgICAgY29uc3QgbWluVmVsb2NpdHkgPSAocG9zaXRpb25bMV0gPiBHUk9VTkRfWSkgPyBNYXRoLm1heCgwLjEsIGN1cnJlbnRTcGVlZCkgOiAwO1xuICAgICAgICBjb25zdCBtaW5BbHRpdHVkZSA9IChwb3NpdGlvblsxXSA+IEdST1VORF9ZKSA/IE1hdGgubWF4KDAuMSwgY3VycmVudEFsdGl0dWRlKSA6IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgcG9zaXRpb24gYW5kIHZlbG9jaXR5IHRoYXQgZ3VhcmFudGVlIHZpc2libGUgZGFzaGJvYXJkIHZhbHVlc1xuICAgICAgICBjb25zdCBlZmZlY3RpdmVQb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgICAgICAgIHBvc2l0aW9uWzBdLFxuICAgICAgICAgIC8vIEVuc3VyZSBhbHRpdHVkZSBpcyBhdCBsZWFzdCBzbGlnaHRseSBhYm92ZSBncm91bmRcbiAgICAgICAgICBwb3NpdGlvblsxXSA+IEdST1VORF9ZID8gTWF0aC5tYXgocG9zaXRpb25bMV0sIEdST1VORF9ZICsgMC4xKSA6IHBvc2l0aW9uWzFdLFxuICAgICAgICAgIHBvc2l0aW9uWzJdXG4gICAgICAgIF07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlZmZlY3RpdmVWZWxvY2l0eTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgICAgICAgIHZlbG9jaXR5WzBdLFxuICAgICAgICAgIC8vIEVuc3VyZSB2ZXJ0aWNhbCB2ZWxvY2l0eSBpcyBhdCBsZWFzdCBzbGlnaHRseSBwb3NpdGl2ZVxuICAgICAgICAgIHZlbG9jaXR5WzFdID4gMCA/IE1hdGgubWF4KHZlbG9jaXR5WzFdLCAwLjEpIDogdmVsb2NpdHlbMV0sXG4gICAgICAgICAgdmVsb2NpdHlbMl1cbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNlbmQgdGhlc2UgZ3VhcmFudGVlZCB2YWx1ZXMgdG8gdXBkYXRlIFVJXG4gICAgICAgIHNldEZsaWdodERhdGEoZWZmZWN0aXZlUG9zaXRpb24sIGVmZmVjdGl2ZVZlbG9jaXR5KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBGbGlnaHQgZGF0YSB1cGRhdGVkOiBBbHQ9JHttaW5BbHRpdHVkZS50b0ZpeGVkKDIpfSwgU3BlZWQ9JHttaW5WZWxvY2l0eS50b0ZpeGVkKDIpfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3QgbGF1bmNoZWQgb3IgcmVzZXQgc3RhdGVcbiAgICAgIHNldEZsaWdodERhdGEocG9zaXRpb24sIHZlbG9jaXR5KTtcbiAgICB9XG4gIH0sIFtwb3NpdGlvbiwgdmVsb2NpdHksIHNldEZsaWdodERhdGEsIGlzTGF1bmNoZWRSZWZdKTtcbiAgXG4gIC8vIFJlc2V0IHBvc2l0aW9uIHdoZW4gcmVxdWVzdGVkIC0gZW5zdXJlIGFic29sdXRlIGNvbnNpc3RlbmN5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlc2V0VHJpZ2dlcikge1xuICAgICAgLy8gTG9jayB0cmFuc2l0aW9ucyB0byBwcmV2ZW50IHZpc3VhbCBqdW1wc1xuICAgICAgaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBhbiBpbW1lZGlhdGUgcG9zaXRpb24gdXBkYXRlIHRvIGdyb3VuZCBwb3NpdGlvblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgLy8gSW1tZWRpYXRlbHkgc3RvcCBhbnkgbW92ZW1lbnRcbiAgICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgICAgdmVsb2NpdHlSZWYuY3VycmVudCA9IFswLCAwLCAwXTtcbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSB3ZSdyZSBleGFjdGx5IGF0IGdyb3VuZCBwb3NpdGlvblxuICAgICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gR1JPVU5EX1BPU0lUSU9OO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgcm90YXRpb24gc21vb3RobHlcbiAgICAgICAgc2V0Um90YXRpb24oWzAsIDAsIDBdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFR1cm4gb2ZmIGZpcmVcbiAgICAgICAgc2V0U2hvd0ZpcmUoZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgYWxsIHRpbWUgcmVmZXJlbmNlc1xuICAgICAgICBsYXVuY2hUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgICBzdGFydE1vdmluZ1RpbWUuY3VycmVudCA9IDA7XG4gICAgICAgIGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gTm90aWZ5IG90aGVyIGNvbXBvbmVudHMgYWJvdXQgcmVzZXRcbiAgICAgICAgZW1pdExhdW5jaEV2ZW50KCdyb2NrZXRSZXNldCcsIHsgcG9zaXRpb246IEdST1VORF9QT1NJVElPTiB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEtlZXAgbG9ja2VkIGZvciBsb25nIGVub3VnaCB0byBlbnN1cmUgc21vb3RoIHRyYW5zaXRpb25cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gU2Vjb25kIHBvc2l0aW9uIHVwZGF0ZSB0byBlbnN1cmUgY29uc2lzdGVuY3lcbiAgICAgICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgICAgIHBvc2l0aW9uUmVmLmN1cnJlbnQgPSBHUk9VTkRfUE9TSVRJT047XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVsZWFzZSB0cmFuc2l0aW9uIGxvY2sgYWZ0ZXIgc3RhYmxlIHBvc2l0aW9uIGlzIGNvbmZpcm1lZFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3Jlc2V0VHJpZ2dlcl0pO1xuICBcbiAgLy8gSGFuZGxlIGxhdW5jaCBzdGF0ZSBjaGFuZ2VzIC0gd2l0aCBjYXJlZnVsIHN0YXRlIG1hbmFnZW1lbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBMb2NrIHRyYW5zaXRpb25zIGJyaWVmbHkgZHVyaW5nIHN0YXRlIGNoYW5nZVxuICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBcbiAgICBpZiAoaXNMYXVuY2hlZCkge1xuICAgICAgLy8gRW5zdXJlIHdlJ3JlIGV4YWN0bHkgYXQgZ3JvdW5kIHBvc2l0aW9uIHRvIHN0YXJ0XG4gICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgcG9zaXRpb25SZWYuY3VycmVudCA9IEdST1VORF9QT1NJVElPTjtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgd2l0aCB6ZXJvIHZlbG9jaXR5IChzcGVlZG9tZXRlciB3aWxsIHNob3cgMCB1bnRpbCByZWFsIG1vdmVtZW50IHN0YXJ0cylcbiAgICAgIHNldFZlbG9jaXR5KFswLCAwLCAwXSk7XG4gICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0gWzAsIDAsIDBdO1xuICAgICAgXG4gICAgICAvLyBTaG93IGZpcmUgaW1tZWRpYXRlbHlcbiAgICAgIHNldFNob3dGaXJlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBTZXQgY3VycmVudCB0aW1lIGFzIGxhdW5jaCB0aW1lXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpIC8gMTAwMDtcbiAgICAgIGxhdW5jaFRpbWUuY3VycmVudCA9IG5vdztcbiAgICAgIFxuICAgICAgLy8gU2NoZWR1bGUgdGhlIHJvY2tldCB0byBzdGFydCBtb3ZpbmcgYWZ0ZXIgMiBzZWNvbmRzIChpbmNyZWFzZWQgZnJvbSAzMDBtcyBmb3IgY2xlYXJlciBncm91bmQgZmlyZSBlZmZlY3QpXG4gICAgICBzdGFydE1vdmluZ1RpbWUuY3VycmVudCA9IG5vdyArIDIuMDtcbiAgICAgIGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgPSBub3c7XG4gICAgICBcbiAgICAgIC8vIEVtaXQgZXZlbnQgZm9yIGNhbWVyYSB0byBmb2xsb3cgcm9ja2V0XG4gICAgICBlbWl0TGF1bmNoRXZlbnQoJ3JvY2tldExhdW5jaGVkJywgeyBwb3NpdGlvbjogR1JPVU5EX1BPU0lUSU9OIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCB0aGUgZmlyZSB3aGVuIG5vdCBsYXVuY2hlZFxuICAgICAgc2V0U2hvd0ZpcmUoZmFsc2UpO1xuICAgICAgbGF1bmNoVGltZS5jdXJyZW50ID0gMDtcbiAgICAgIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50ID0gMDtcbiAgICAgIGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgd2UncmUgZXhhY3RseSBhdCBncm91bmQgbGV2ZWwgd2hlbiBub3QgbGF1bmNoZWRcbiAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gR1JPVU5EX1BPU0lUSU9OO1xuICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSBbMCwgMCwgMF07XG4gICAgfVxuICAgIFxuICAgIC8vIFJlbGVhc2UgdHJhbnNpdGlvbiBsb2NrIGFmdGVyIGEgYnJpZWYgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSwgNTApO1xuICB9LCBbaXNMYXVuY2hlZF0pO1xuICBcbiAgLy8gU2ltcGxlIHBoeXNpY3Mgc2ltdWxhdGlvbiAtIHJ1bnMgZXZlcnkgZnJhbWUgd2l0aCBwcm90ZWN0aW9ucyBhZ2FpbnN0IHZpc3VhbCBqdW1wc1xuICB1c2VGcmFtZSgoc3RhdGUsIGRlbHRhKSA9PiB7XG4gICAgLy8gU2tpcCBmcmFtZXMgZHVyaW5nIHRyYW5zaXRpb25zIHRvIHByZXZlbnQgdmlzdWFsIGp1bXBzXG4gICAgaWYgKGlzVHJhbnNpdGlvbmluZy5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBzdGF0ZS5jbG9jay5lbGFwc2VkVGltZTtcbiAgICBcbiAgICAvLyBJZiBub3QgbGF1bmNoZWQsIGRvIG5vdCBmb3JjaWJseSByZXNldCBwb3NpdGlvbjsgYWxsb3cgZnJlZSBtb3ZlbWVudFxuICAgIGlmICghaXNMYXVuY2hlZFJlZi5jdXJyZW50KSB7XG4gICAgICAvLyBObyBmb3JjZWQgcG9zaXRpb24gcmVzZXQgaGVyZVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDYXAgZGVsdGEgdG8gcHJldmVudCBwaHlzaWNzIGdsaXRjaGVzXG4gICAgY29uc3QgY2FwcGVkRGVsdGEgPSBNYXRoLm1pbihkZWx0YSwgMC4xKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgY29uc2lzdGVudCB0aW1pbmcgZXZlbiB3aXRoIGZyYW1lIGRyb3BzXG4gICAgY29uc3QgdGltZVNpbmNlTGFzdFVwZGF0ZSA9IGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgPiAwID8gXG4gICAgICBjdXJyZW50VGltZSAtIGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgOiBjYXBwZWREZWx0YTtcbiAgICBsYXN0VXBkYXRlVGltZS5jdXJyZW50ID0gY3VycmVudFRpbWU7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHN0YXJ0IG1vdmluZyAoYWZ0ZXIgc2hvd2luZyBmaXJlIGZvciBhIGJpdClcbiAgICAvLyBGb3JjZSBpbW1lZGlhdGUgbW92ZW1lbnQgdHJhY2tpbmcgZXZlbiBpZiB2aXN1YWxseSB3ZSB3YWl0XG4gICAgY29uc3Qgc2hvdWxkTW92ZSA9IHN0YXJ0TW92aW5nVGltZS5jdXJyZW50ID4gMCAmJiBjdXJyZW50VGltZSA+PSBzdGFydE1vdmluZ1RpbWUuY3VycmVudDtcbiAgICBcbiAgICAvLyBMb2cgbW92ZW1lbnQgc3RhdGUgZm9yIGRlYnVnZ2luZ1xuICAgIGNvbnN0IHcgPSB3aW5kb3cgYXMgYW55OyAvLyBUeXBlIGFzc2VydGlvbiBmb3IgY3VzdG9tIHByb3BlcnR5XG4gICAgaWYgKHNob3VsZE1vdmUgJiYgIXcuaGFzTG9nZ2VkTW92ZW1lbnRTdGFydCkge1xuICAgICAgY29uc29sZS5sb2coXCJST0NLRVQgTU9WRU1FTlQgU1RBUlRJTkcgTk9XXCIpO1xuICAgICAgdy5oYXNMb2dnZWRNb3ZlbWVudFN0YXJ0ID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gT25seSBhcHBseSB1cHdhcmQgbW92ZW1lbnQgcGh5c2ljcyBhZnRlciB0aGUgZGVsYXlcbiAgICBpZiAoc2hvdWxkTW92ZSkge1xuICAgICAgLy8gQ2FsY3VsYXRlIHRpbWUgc2luY2UgYWN0dWFsIG1vdmVtZW50IHN0YXJ0ZWQgZm9yIHNtb290aCBhY2NlbGVyYXRpb25cbiAgICAgIGNvbnN0IHRpbWVTaW5jZU1vdmluZyA9IGN1cnJlbnRUaW1lIC0gc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQ7XG4gICAgICBcbiAgICAgIC8vIEd1YXJhbnRlZWQgbW92ZW1lbnQgYWNjZWxlcmF0aW9uIGN1cnZlIGZvciB2aXNpYmxlIGxpZnRvZmZcbiAgICAgIGxldCB0aHJ1c3RGYWN0b3I7XG4gICAgICAvLyBJbW1lZGlhdGUgZnVsbCBwb3dlciBmb3IgZ3VhcmFudGVlZCBtb3ZlbWVudFxuICAgICAgdGhydXN0RmFjdG9yID0gMS4wO1xuICAgICAgXG4gICAgICAvLyBFeHRyZW1lIHRocnVzdCBtdWx0aXBsaWVyIGZvciBndWFyYW50ZWVkIHZpc2libGUgYXNjZW50XG4gICAgICBjb25zdCBjdXJyZW50VGhydXN0ID0gbWF4VGhydXN0ICogNC4wOyAvLyBGaXhlZCBhdCBtYXhpbXVtIHBvd2VyXG4gICAgICBcbiAgICAgIC8vIFZpcnR1YWxseSBubyBkcmFnIGZvciBmaXJzdCA1IHNlY29uZHMgdG8gZW5zdXJlIHZpc2libGUgbW92ZW1lbnRcbiAgICAgIGNvbnN0IHRpbWVTaW5jZUxpZnRvZmYgPSB0aW1lU2luY2VNb3Zpbmc7XG4gICAgICBjb25zdCBjdXJyZW50RHJhZyA9IHRpbWVTaW5jZUxpZnRvZmYgPCA1LjAgPyAwLjAxIDogYmFzZURyYWcgKiAwLjIgKiBNYXRoLmFicyh2ZWxvY2l0eVJlZi5jdXJyZW50WzFdKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGFjY2VsZXJhdGlvbiAtIGd1YXJhbnRlZWQgdXB3YXJkIGZvcmNlXG4gICAgICBjb25zdCBuZXRBY2NlbGVyYXRpb24gPSBjdXJyZW50VGhydXN0ICsgZ3Jhdml0eSAtIGN1cnJlbnREcmFnO1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBhIG1pbmltdW0gYWNjZWxlcmF0aW9uIHRvIGd1YXJhbnRlZSB1cHdhcmQgbW92ZW1lbnRcbiAgICAgIGNvbnN0IGd1YXJhbnRlZWRBY2NlbGVyYXRpb24gPSBNYXRoLm1heChuZXRBY2NlbGVyYXRpb24sIDIwLjApOyBcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHZlbG9jaXR5IHdpdGggZ3VhcmFudGVlZCBtaW5pbXVtIHVwd2FyZCB2ZWxvY2l0eVxuICAgICAgY29uc3QgbmV3VmVsb2NpdHk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFtcbiAgICAgICAgdmVsb2NpdHlSZWYuY3VycmVudFswXSAqIDAuOTgsIC8vIERhbXBlbiBob3Jpem9udGFsIGRyaWZ0XG4gICAgICAgIE1hdGgubWF4KHZlbG9jaXR5UmVmLmN1cnJlbnRbMV0gKyBndWFyYW50ZWVkQWNjZWxlcmF0aW9uICogdGltZVNpbmNlTGFzdFVwZGF0ZSwgNS4wKSwgLy8gR3VhcmFudGVlIG1pbmltdW0gdmVsb2NpdHlcbiAgICAgICAgdmVsb2NpdHlSZWYuY3VycmVudFsyXSAqIDAuOTggIC8vIERhbXBlbiBob3Jpem9udGFsIGRyaWZ0XG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBWZXJ5IG1pbm9yIHR1cmJ1bGVuY2UgZm9yIHZpc3VhbCBpbnRlcmVzdCAocmVkdWNlZCBhbXBsaXR1ZGUpXG4gICAgICAgIHR1cmJ1bGVuY2VSZWYuY3VycmVudCA9IHtcbiAgICAgICAgeDogTWF0aC5zaW4oY3VycmVudFRpbWUgKiA0KSAqIDAuMDAyLFxuICAgICAgICB6OiBNYXRoLmNvcyhjdXJyZW50VGltZSAqIDMpICogMC4wMDIsXG4gICAgICAgIHJvdFg6IE1hdGguc2luKGN1cnJlbnRUaW1lICogMikgKiAwLjAwMSxcbiAgICAgICAgcm90WjogTWF0aC5jb3MoY3VycmVudFRpbWUgKiAyLjUpICogMC4wMDFcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEdldCBjdXJyZW50IHBvc2l0aW9uIGZyb20gcmVmIHRvIGVuc3VyZSBsYXRlc3QgdmFsdWVcbiAgICAgIGNvbnN0IGN1cnJQb3MgPSBwb3NpdGlvblJlZi5jdXJyZW50O1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgcG9zaXRpb24gd2l0aCBGT1JDRUQgdXB3YXJkIG1vdmVtZW50IC0gZHJhbWF0aWNhbGx5IGluY3JlYXNlIHRoZSBkZWx0YVxuICAgICAgY29uc3QgcG9zaXRpb25EZWx0YSA9IG5ld1ZlbG9jaXR5WzFdICogdGltZVNpbmNlTGFzdFVwZGF0ZTtcbiAgICAgIFxuICAgICAgLy8gRm9yY2UgYW4gRVhUUkVNRUxZIExBUkdFIG1pbmltdW0gcG9zaXRpb24gY2hhbmdlIGZvciBtdWNoIGZhc3RlciBtb3ZlbWVudFxuICAgICAgY29uc3QgZ3VhcmFudGVlZERlbHRhID0gTWF0aC5tYXgocG9zaXRpb25EZWx0YSwgNS4wICogdGltZVNpbmNlTGFzdFVwZGF0ZSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBwb3NpdGlvbiBhcnJheSB0byBlbnN1cmUgcmVmZXJlbmNlIGlzIGJyb2tlblxuICAgICAgY29uc3QgbmV3UG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFtcbiAgICAgICAgY3VyclBvc1swXSArIG5ld1ZlbG9jaXR5WzBdICogdGltZVNpbmNlTGFzdFVwZGF0ZSArIHR1cmJ1bGVuY2VSZWYuY3VycmVudC54LFxuICAgICAgICBjdXJyUG9zWzFdICsgZ3VhcmFudGVlZERlbHRhLCAvLyBGb3JjZSBtdWNoIGxhcmdlciB1cHdhcmQgbW92ZW1lbnRcbiAgICAgICAgY3VyclBvc1syXSArIG5ld1ZlbG9jaXR5WzJdICogdGltZVNpbmNlTGFzdFVwZGF0ZSArIHR1cmJ1bGVuY2VSZWYuY3VycmVudC56XG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgdmVsb2NpdHkgYWN0dWFsbHkgcmVmbGVjdHMgdGhlIG1vdmVtZW50IHNwZWVkXG4gICAgICAvLyBUaGlzIGZpeGVzIHRoZSBzcGVlZG9tZXRlciB0byBtYXRjaCBhY3R1YWwgbW92ZW1lbnRcbiAgICAgIGNvbnN0IGFjdHVhbFZlbG9jaXR5OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbXG4gICAgICAgIG5ld1ZlbG9jaXR5WzBdLFxuICAgICAgICAvLyBDYWxjdWxhdGUgYWN0dWFsIHZlbG9jaXR5IGJhc2VkIG9uIHBvc2l0aW9uIGNoYW5nZVxuICAgICAgICAobmV3UG9zaXRpb25bMV0gLSBjdXJyUG9zWzFdKSAvIHRpbWVTaW5jZUxhc3RVcGRhdGUsXG4gICAgICAgIG5ld1ZlbG9jaXR5WzJdXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZ2xvYmFsIHRyYWNraW5nIHZhcmlhYmxlIGZvciBlbWVyZ2VuY3kgYmFja3VwXG4gICAgICBnbG9iYWxSb2NrZXRZID0gTWF0aC5tYXgoZ2xvYmFsUm9ja2V0WSwgbmV3UG9zaXRpb25bMV0pO1xuICAgICAgXG4gICAgICAvLyBMb2cgZm9yY2VkIHBvc2l0aW9uIGNoYW5nZSBmb3IgZGVidWdnaW5nXG4gICAgICBjb25zb2xlLmxvZyhgRk9SQ0lORyBwb3NpdGlvbiBjaGFuZ2U6IGRlbHRhPSR7Z3VhcmFudGVlZERlbHRhLnRvRml4ZWQoMil9LCBuZXcgeT0ke25ld1Bvc2l0aW9uWzFdLnRvRml4ZWQoMil9LCBnbG9iYWw9JHtnbG9iYWxSb2NrZXRZLnRvRml4ZWQoMil9YCk7XG4gICAgICBcbiAgICAgIC8vIEdyb3VuZCBjb2xsaXNpb24gcHJldmVudGlvbiAtIGVuc3VyZSB3ZSBuZXZlciBnbyBiZWxvdyBncm91bmRcbiAgICAgIGlmIChuZXdQb3NpdGlvblsxXSA8IEdST1VORF9ZKSB7XG4gICAgICAgIG5ld1Bvc2l0aW9uWzFdID0gR1JPVU5EX1k7XG4gICAgICAgIG5ld1ZlbG9jaXR5WzFdID0gMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IGN1cnJlbnQgcm90YXRpb24gZnJvbSBzdGF0ZVxuICAgICAgY29uc3QgY3VyclJvdCA9IHJvdGF0aW9uO1xuICAgICAgXG4gICAgICAvLyBWZXJ5IHNsaWdodCByb3RhdGlvbiBiYXNlZCBvbiBtb3ZlbWVudCAobWluaW1hbCwgcmVkdWNlZCBhbXBsaXR1ZGUpXG4gICAgY29uc3QgbmV3Um90YXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFtcbiAgICAgICAgVEhSRUUuTWF0aFV0aWxzLmxlcnAoY3VyclJvdFswXSwgdHVyYnVsZW5jZVJlZi5jdXJyZW50LnJvdFgsIDAuMDIpLFxuICAgICAgICBjdXJyUm90WzFdLFxuICAgICAgICBUSFJFRS5NYXRoVXRpbHMubGVycChjdXJyUm90WzJdLCB0dXJidWxlbmNlUmVmLmN1cnJlbnQucm90WiwgMC4wMilcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIEFsd2F5cyB1cGRhdGUgcG9zaXRpb24gdG8gZW5zdXJlIG1vdmVtZW50IC0gdXNlIGFjdHVhbFZlbG9jaXR5IGZvciBzcGVlZG9tZXRlclxuICAgICAgdmVsb2NpdHlSZWYuY3VycmVudCA9IGFjdHVhbFZlbG9jaXR5OyAvLyBVc2UgdGhlIGNhbGN1bGF0ZWQgYWN0dWFsIHZlbG9jaXR5XG4gICAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gbmV3UG9zaXRpb247XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB3ZSdyZSB1cGRhdGluZyBzdGF0ZSB0byByZWZsZWN0IGNoYW5nZXMgaW4gVUlcbiAgICAgIHNldFZlbG9jaXR5KGFjdHVhbFZlbG9jaXR5KTsgLy8gVXNlIGFjdHVhbCB2ZWxvY2l0eSBmb3IgYWNjdXJhdGUgc3BlZWRvbWV0ZXJcbiAgICBzZXRQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgc2V0Um90YXRpb24obmV3Um90YXRpb24pO1xuICAgIFxuICAgICAgLy8gTG9nIHBvc2l0aW9uIGZvciBkZWJ1Z2dpbmdcbiAgICAgIGlmICh0aW1lU2luY2VNb3ZpbmcgJSAxIDwgMC4xKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBSb2NrZXQgcG9zaXRpb246ICR7bmV3UG9zaXRpb25bMV0udG9GaXhlZCgyKX0sIHZlbG9jaXR5OiAke25ld1ZlbG9jaXR5WzFdLnRvRml4ZWQoMil9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEJlZm9yZSBhY3R1YWwgbW92ZW1lbnQsIHNob3cgZmlyZSB3aXRoIHJvY2tldCBvbiBncm91bmQgKG1pbmltYWwgc2hha2luZylcbiAgICBlbHNlIGlmIChzaG93RmlyZSkge1xuICAgICAgLy8gTm8gc2hha2luZyBhdCBhbGwgZHVyaW5nIHByZS1sYXVuY2ggdG8gZW5zdXJlIHZpc3VhbCBzdGFiaWxpdHlcbiAgICAgIGlmIChwb3NpdGlvblJlZi5jdXJyZW50WzFdICE9PSBHUk9VTkRfWSB8fCBcbiAgICAgICAgICBNYXRoLmFicyhwb3NpdGlvblJlZi5jdXJyZW50WzBdKSA+IDAuMDAwMSB8fCBcbiAgICAgICAgICBNYXRoLmFicyhwb3NpdGlvblJlZi5jdXJyZW50WzJdKSA+IDAuMDAwMSkge1xuICAgICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gR1JPVU5EX1BPU0lUSU9OO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBEZWJ1ZyBsb2cgdGhlIHBvc2l0aW9uIHZhbHVlc1xuICBjb25zb2xlLmxvZyhgUkVOREVSIC0gUm9ja2V0IHBvc2l0aW9uOiB5PSR7cG9zaXRpb25SZWYuY3VycmVudFsxXS50b0ZpeGVkKDIpfSwgdGhydXN0PSR7bWF4VGhydXN0fSwgZHJhZz0ke2Jhc2VEcmFnfWApO1xuICBcbiAgLy8gQWx3YXlzIHVzZSB0aGUgcG9zaXRpb25SZWYuY3VycmVudCBmb3IgcmVuZGVyaW5nIHRvIGF2b2lkIHN0YXRlIGxhZ1xuICBjb25zdCByZW5kZXJQb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgIHBvc2l0aW9uUmVmLmN1cnJlbnRbMF0sXG4gICAgcG9zaXRpb25SZWYuY3VycmVudFsxXSwgXG4gICAgcG9zaXRpb25SZWYuY3VycmVudFsyXVxuICBdOyAvLyBFeHBsaWNpdCB0eXBlZCBhcnJheSB0byBhdm9pZCBUeXBlU2NyaXB0IGVycm9yc1xuICBcbiAgLy8gRm9yIGV4cGxpY2l0IGRlYnVnZ2luZyAtIGFkZCBhIHkgb2Zmc2V0IGlmIHdlJ3JlIGluIGZsaWdodCB0byBFTlNVUkUgbW92ZW1lbnRcbiAgaWYgKGlzTGF1bmNoZWQgJiYgc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQgPiAwKSB7XG4gICAgLy8gSU1QT1JUQU5UIENIQU5HRTogV2UgY2FsY3VsYXRlIHZhbHVlcyBldmVuIGR1cmluZyBwcmUtbGF1bmNoIHN0YWdlXG4gICAgLy8gVGhpcyBlbnN1cmVzIGRhc2hib2FyZCB1cGRhdGVzLCBidXQgdmlzdWFsIHBvc2l0aW9uIG9ubHkgY2hhbmdlcyBhZnRlciBzdGFydE1vdmluZ1RpbWVcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpLzEwMDA7XG4gICAgY29uc3QgdGltZVVudGlsTW92ZW1lbnQgPSBNYXRoLm1heCgwLCBzdGFydE1vdmluZ1RpbWUuY3VycmVudCAtIG5vdyk7XG4gICAgY29uc3Qgc2hvdWxkU2hvd01vdmVtZW50ID0gbm93ID49IHN0YXJ0TW92aW5nVGltZS5jdXJyZW50O1xuICAgIFxuICAgIC8vIEFkZCB0aW1lLWJhc2VkIGNhbGN1bGF0aW9ucyBldmVuIGR1cmluZyBwcmUtbGF1bmNoXG4gICAgLy8gVGhpcyBlbnN1cmVzIGRhc2hib2FyZCByZWdpc3RlcnMgY2hhbmdlcyBpbW1lZGlhdGVseVxuICAgIGxldCB0aW1lQmFzZWRWYWx1ZSA9IDA7XG4gICAgXG4gICAgaWYgKHNob3VsZFNob3dNb3ZlbWVudCkge1xuICAgICAgLy8gQWN0dWFsIG1vdmVtZW50IHBoYXNlIC0gYWZ0ZXIgc3RhcnRNb3ZpbmdUaW1lXG4gICAgICBjb25zdCB0aW1lSW5GbGlnaHQgPSBub3cgLSBzdGFydE1vdmluZ1RpbWUuY3VycmVudDtcbiAgICAgIC8vIEFic29sdXRlbHkgZm9yY2UgcG9zaXRpb24gdG8gaW5jcmVhc2Ugd2l0aCB0aW1lIG5vIG1hdHRlciB3aGF0XG4gICAgICB0aW1lQmFzZWRWYWx1ZSA9IHRpbWVJbkZsaWdodCAqIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0aWxsIGluIHByZS1sYXVuY2ggcGhhc2UgLSBjYWxjdWxhdGUgYSBzbWFsbCB2YWx1ZSBwcm9wb3J0aW9uYWwgdG8gdGhlIGNvdW50ZG93blxuICAgICAgLy8gVGhpcyB3b24ndCBiZSB1c2VkIGZvciB2aXN1YWwgcmVuZGVyaW5nIGJ1dCB3aWxsIGJlIHVzZWQgZm9yIGRhc2hib2FyZFxuICAgICAgdGltZUJhc2VkVmFsdWUgPSAwLjEgKiAoMSAtIHRpbWVVbnRpbE1vdmVtZW50LzIuMCk7IC8vIEdyb3dzIGZyb20gMCB0byAwLjEgZHVyaW5nIHRoZSAyLXNlY29uZCBjb3VudGRvd25cbiAgICB9XG4gICAgXG4gICAgLy8gU3RvcmUgYWN0dWFsIHRpbWVCYXNlZFBvc2l0aW9uIGZvciBwaHlzaWNzL1VJIGNhbGN1bGF0aW9uXG4gICAgY29uc3QgdGltZUJhc2VkUG9zaXRpb24gPSBHUk9VTkRfWSArIHRpbWVCYXNlZFZhbHVlO1xuICAgIFxuICAgIC8vIEZvciB2aXN1YWwgcmVuZGVyaW5nLCBvbmx5IGFwcGx5IHBvc2l0aW9uIGNoYW5nZSBhZnRlciBzdGFydE1vdmluZ1RpbWVcbiAgICBpZiAoc2hvdWxkU2hvd01vdmVtZW50KSB7XG4gICAgICByZW5kZXJQb3NpdGlvblsxXSA9IE1hdGgubWF4KFxuICAgICAgICByZW5kZXJQb3NpdGlvblsxXSwgICAgICAgICAgIC8vIEN1cnJlbnQgY2FsY3VsYXRlZCBwb3NpdGlvbiBcbiAgICAgICAgdGltZUJhc2VkUG9zaXRpb24sICAgICAgICAgICAvLyBUaW1lLWJhc2VkIHBvc2l0aW9uXG4gICAgICAgIGdsb2JhbFJvY2tldFksICAgICAgICAgICAgICAgLy8gR2xvYmFsIHRyYWNraW5nIHBvc2l0aW9uXG4gICAgICAgIEdST1VORF9ZICsgdGltZUJhc2VkVmFsdWUgICAgLy8gTWluaW11bSBndWFyYW50ZWVkIHBvc2l0aW9uXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgT1ZFUlJJREU6IEZsaWdodCB0aW1lPSR7KG5vdy1zdGFydE1vdmluZ1RpbWUuY3VycmVudCkudG9GaXhlZCgxKX1zLCB5PSR7cmVuZGVyUG9zaXRpb25bMV0udG9GaXhlZCgyKX0sIGdsb2JhbD0ke2dsb2JhbFJvY2tldFkudG9GaXhlZCgyKX1gKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiAoXG4gICAgPGdyb3VwIHBvc2l0aW9uPXtyZW5kZXJQb3NpdGlvbn0gcm90YXRpb249e3JvdGF0aW9ufT5cbiAgICAgIDxSb2NrZXRNb2RlbCBcbiAgICAgICAgc2VsZWN0ZWQ9e3NlbGVjdGVkfVxuICAgICAgICBpc0xhdW5jaGVkPXtpc0xhdW5jaGVkfVxuICAgICAgICB0aHJvdHRsZT17dGhyb3R0bGV9XG4gICAgICAgIGhpZ2hsaWdodGVkUGFydD17aGlnaGxpZ2h0ZWRQYXJ0fVxuICAgICAgICBwcmVMYXVuY2hGaXJlPXtzaG93RmlyZX1cbiAgICAgICAgY291bnRkb3duU3RhZ2U9ezN9IC8vIEFsd2F5cyBtYXggZmxhbWUgaW50ZW5zaXR5XG4gICAgICAvPlxuICAgIDwvZ3JvdXA+XG4gICk7XG59XG5cbi8vIFZpZXdwb3J0Q29udHJvbHMgY29tcG9uZW50IGZvciByZXBvc2l0aW9uaW5nIGNhbWVyYSB0byBkZWZhdWx0IHZpZXdcbmZ1bmN0aW9uIFZpZXdwb3J0Q29udHJvbHMoeyBcbiAgdmlldywgXG4gIHNldFZpZXcsXG4gIGlzTW9iaWxlXG59OiB7IFxuICB2aWV3OiAndG9wJyB8ICdzaWRlJyB8ICdwZXJzcGVjdGl2ZScsIFxuICBzZXRWaWV3OiAodmlldzogJ3RvcCcgfCAnc2lkZScgfCAncGVyc3BlY3RpdmUnKSA9PiB2b2lkLFxuICBpc01vYmlsZTogYm9vbGVhblxufSkge1xuICAvLyBBZGQgc3RhdGUgdG8gdHJhY2sgdGhlIHJvdGF0aW9uIG9mIHRoZSBjb21wYXNzIG5lZWRsZVxuICBjb25zdCBbY29tcGFzc1JvdGF0aW9uLCBzZXRDb21wYXNzUm90YXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBMaXN0ZW4gZm9yIGNhbWVyYS9yb2NrZXQgcm90YXRpb24gY2hhbmdlcyB0byB1cGRhdGUgY29tcGFzc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSByb3RhdGlvbiB1cGRhdGVzXG4gICAgY29uc3QgaGFuZGxlUm9ja2V0Um90YXRpb24gPSAoZTogQ3VzdG9tRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmRldGFpbCAmJiB0eXBlb2YgZS5kZXRhaWwucm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNldENvbXBhc3NSb3RhdGlvbihlLmRldGFpbC5yb3RhdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBMaXN0ZW4gZm9yIGN1c3RvbSByb2NrZXQgcm90YXRpb24gZXZlbnRzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3JvY2tldFJvdGF0aW9uJyBhcyBhbnksIGhhbmRsZVJvY2tldFJvdGF0aW9uKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JvY2tldFJvdGF0aW9uJyBhcyBhbnksIGhhbmRsZVJvY2tldFJvdGF0aW9uKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC04IHJpZ2h0LTEwIHotNTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcG9pbnRlci1ldmVudHMtYXV0b1wiPlxuICAgICAgPG1vdGlvbi5idXR0b24gXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2V0dGluZyB2aWV3IHRvIHBlcnNwZWN0aXZlIChjdXJyZW50OiAke3ZpZXd9KWApO1xuICAgICAgICAgIHNldFZpZXcoJ3BlcnNwZWN0aXZlJyk7XG4gICAgICAgICAgLy8gUmVzZXQgY29tcGFzcyByb3RhdGlvbiB3aGVuIHNldHRpbmcgdG8gcGVyc3BlY3RpdmUgdmlld1xuICAgICAgICAgIHNldENvbXBhc3NSb3RhdGlvbigwKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9ja2V0Um90YXRpb24nLCB7IFxuICAgICAgICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IDAgfSBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHNtb290aGx5IHJlcG9zaXRpb24gdGhlIGNhbWVyYSBhbmQgcm9ja2V0XG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Jlc2V0Q2FtZXJhVmlldycsIHt9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgbXgtMlwiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJSZXNldCBDYW1lcmEgdG8gRGVmYXVsdCBWaWV3XCJcbiAgICAgICAgd2hpbGVIb3Zlcj17eyBcbiAgICAgICAgICBzY2FsZTogMS4xLFxuICAgICAgICAgIHk6IC0yLFxuICAgICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpKVwiXG4gICAgICAgIH19XG4gICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk1IH19XG4gICAgICAgIHRyYW5zaXRpb249e3sgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiA0MDAsIGRhbXBpbmc6IDE1IH19XG4gICAgICA+XG4gICAgICAgIDxzdmcgd2lkdGg9XCI0OFwiIGhlaWdodD1cIjQ4XCIgdmlld0JveD1cIjAgMCA0OCA0OFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgIHsvKiBEZWZpbmUgdGhlIGJsdXIgZmlsdGVyICovfVxuICAgICAgICAgIDxkZWZzPlxuICAgICAgICAgICAgPGZpbHRlciBpZD1cInBpbmtTaGFkb3dcIiB4PVwiLTIwJVwiIHk9XCItMjAlXCIgd2lkdGg9XCIxNDAlXCIgaGVpZ2h0PVwiMTQwJVwiPlxuICAgICAgICAgICAgICA8ZmVPZmZzZXQgZHk9XCIyXCIgLz5cbiAgICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj1cIjNcIiAvPlxuICAgICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB0eXBlPVwibWF0cml4XCIgdmFsdWVzPVwiMCAwIDAgMCAwLjk1IDAgMCAwIDAgMC4yIDAgMCAwIDAgMC42NSAwIDAgMCAwLjYgMFwiIC8+XG4gICAgICAgICAgICA8L2ZpbHRlcj5cbiAgICAgICAgICAgIHsvKiBNZXRhbGxpYyBncmFkaWVudCAqL31cbiAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cIm1ldGFsbGljR3JhZGllbnRcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMTAwJVwiPlxuICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3BDb2xvcj1cIiM3RDdEN0RcIiAvPlxuICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI1MCVcIiBzdG9wQ29sb3I9XCIjQTVBNUE1XCIgLz5cbiAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3BDb2xvcj1cIiM1QTVBNUFcIiAvPlxuICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cbiAgICAgICAgICA8L2RlZnM+XG4gICAgICAgICAgey8qIE5hdmlnYXRpb24gYXJyb3cgLSBmYXR0ZXIgYW5kIGxvbmdlciB3aXRoIHBpbmtpc2ggc2hhZG93ICovfVxuICAgICAgICAgIDxnIHRyYW5zZm9ybT17YHJvdGF0ZSgtJHtjb21wYXNzUm90YXRpb259IDI0IDI0KWB9PlxuICAgICAgICAgICAgey8qIEVuaGFuY2VkIHBpbmtpc2ggc2hhZG93ICovfVxuICAgICAgICAgICAgPHBhdGggXG4gICAgICAgICAgICAgIGQ9XCJNMjQgNkwzNyAzOEwyNCAzMEwxMSAzOEwyNCA2WlwiIFxuICAgICAgICAgICAgICBmaWxsPVwiI0VDNDg5OVwiXG4gICAgICAgICAgICAgIG9wYWNpdHk9XCIwLjdcIlxuICAgICAgICAgICAgICBmaWx0ZXI9XCJ1cmwoI3BpbmtTaGFkb3cpXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7LyogQmxhY2sgb3V0bGluZSB0byBjcmVhdGUgY29udHJhc3Qgd2l0aCB0aGUgc2hhZG93ICovfVxuICAgICAgICAgICAgPHBhdGggXG4gICAgICAgICAgICAgIGQ9XCJNMjQgNkwzNyAzOEwyNCAzMEwxMSAzOEwyNCA2WlwiIFxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cImJsYWNrXCJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIxLjVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsvKiBNYWluIGFycm93IHdpdGggbWV0YWxsaWMgZ3JhZGllbnQgKi99XG4gICAgICAgICAgICA8cGF0aCBcbiAgICAgICAgICAgICAgZD1cIk0yNCA2TDM3IDM4TDI0IDMwTDExIDM4TDI0IDZaXCIgXG4gICAgICAgICAgICAgIGZpbGw9XCJ1cmwoI21ldGFsbGljR3JhZGllbnQpXCJcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIwLjc1XCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwicmdiYSgwLDAsMCwwLjUpXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7LyogU3VidGxlIGhpZ2hsaWdodCBmb3IgbWV0YWxsaWMgZWZmZWN0ICovfVxuICAgICAgICAgICAgPHBhdGggXG4gICAgICAgICAgICAgIGQ9XCJNMjQgNkwzMC41IDIyTDI0IDZaXCIgXG4gICAgICAgICAgICAgIGZpbGw9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgIG9wYWNpdHk9XCIwLjJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBDdXN0b20gT3JiaXRDb250cm9scyB3cmFwcGVyIGNvbXBvbmVudCB0aGF0IGhhbmRsZXMgcm9ja2V0IHJvbGwgcm90YXRpb25cbmZ1bmN0aW9uIEN1c3RvbU9yYml0Q29udHJvbHMoeyBwb3NpdGlvbiwgdmlldyB9OiB7IHBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIHZpZXc6ICd0b3AnIHwgJ3NpZGUnIHwgJ3BlcnNwZWN0aXZlJyB9KSB7XG4gIGNvbnN0IG9yYml0UmVmID0gdXNlUmVmPGFueT4obnVsbClcbiAgY29uc3QgeyBjYW1lcmEsIGdsLCBzY2VuZSB9ID0gdXNlVGhyZWUoKVxuICBjb25zdCBwcmV2Vmlld1JlZiA9IHVzZVJlZih2aWV3KVxuICBcbiAgLy8gQ3JlYXRlIHN0YXRlIGZvciB0cmFja2luZyBpbnRlcmFjdGlvblxuICBjb25zdCBbaXNEcmFnZ2luZ1JvY2tldCwgc2V0SXNEcmFnZ2luZ1JvY2tldF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzUm9ja2V0SG92ZXJlZCwgc2V0SXNSb2NrZXRIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKSAvLyBUcmFjayBpZiByb2NrZXQgaXMgYmVpbmcgaG92ZXJlZFxuICBjb25zdCBpc0RyYWdnaW5nUmVmID0gdXNlUmVmKGZhbHNlKVxuICBjb25zdCBzdGFydERyYWdQb3NpdGlvbiA9IHVzZVJlZih7IHg6IDAsIHk6IDAgfSlcbiAgY29uc3Qgc3RhcnREcmFnVGltZXN0YW1wID0gdXNlUmVmKDApIC8vIFRyYWNrIHRpbWUgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gIGNvbnN0IGNhbWVyYVJvbGwgPSB1c2VSZWYoMClcbiAgXG4gIC8vIENyZWF0ZSBhIHJheWNhc3RlciBmb3IgZGV0ZWN0aW5nIHJvY2tldCBpbnRlcmFjdGlvbnNcbiAgY29uc3QgcmF5Y2FzdGVyID0gdXNlUmVmKG5ldyBUSFJFRS5SYXljYXN0ZXIoKSlcbiAgY29uc3QgbW91c2UgPSB1c2VSZWYobmV3IFRIUkVFLlZlY3RvcjIoKSlcbiAgY29uc3QgaXNJbnRlcmFjdGluZyA9IHVzZVJlZihmYWxzZSkgLy8gVHJhY2sgYm90aCBtb3VzZSBhbmQgdG91Y2ggaW50ZXJhY3Rpb25zXG4gIFxuICAvLyBTZXQgdXAgY2FtZXJhIHVwIHZlY3RvcnMgZm9yIGRpZmZlcmVudCB2aWV3c1xuICBjb25zdCBjYW1lcmFzVXAgPSB1c2VSZWY8e1trZXk6IHN0cmluZ106IFRIUkVFLlZlY3RvcjN9Pih7XG4gICAgdG9wOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSksICAgICAvLyBMb29raW5nIGRvd24sIFwidXBcIiBpcyAtWlxuICAgIHNpZGU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCAgICAgLy8gTG9va2luZyBmcm9tIHNpZGUsIFwidXBcIiBpcyBZXG4gICAgcGVyc3BlY3RpdmU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApIC8vIFN0YW5kYXJkIFwidXBcIiBpcyBZXG4gIH0pO1xuICBcbiAgLy8gTGlzdGVuIGZvciByZXNldCBldmVudHMgdG8gY29tcGxldGVseSByZXNldCB0aGUgY2FtZXJhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVzZXRDYW1lcmEgPSAoKSA9PiB7XG4gICAgICAvLyBSZXNldCBjYW1lcmEgcm9sbFxuICAgICAgY2FtZXJhUm9sbC5jdXJyZW50ID0gMDtcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgY2FtZXJhIHVwIHZlY3RvciBiYXNlZCBvbiB2aWV3IHR5cGVcbiAgICAgIGNhbWVyYS51cC5jb3B5KGNhbWVyYXNVcC5jdXJyZW50W3ZpZXddKTtcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgb3JiaXQgY29udHJvbHMgcG9zaXRpb25cbiAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFNldCB0YXJnZXQgYmFjayB0byB0aGUgcm9ja2V0IHBvc2l0aW9uXG4gICAgICAgIG9yYml0UmVmLmN1cnJlbnQudGFyZ2V0LnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IHRoZSBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgdmlld1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB7XG4gICAgICAgICAgdG9wOiBbMCwgMTUsIDBdLCAgICAgICAgICAvLyBEaXJlY3RseSBhYm92ZVxuICAgICAgICAgIHNpZGU6IFsxNSwgMCwgMF0sICAgICAgICAgLy8gUHVyZSBzaWRlIHZpZXdcbiAgICAgICAgICBwZXJzcGVjdGl2ZTogWzEwLCAxMCwgMTBdICAvLyBJc29tZXRyaWMgdmlld1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb25zW3ZpZXddO1xuICAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KHBvc1swXSwgcG9zWzFdLCBwb3NbMl0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb250cm9sc1xuICAgICAgICBvcmJpdFJlZi5jdXJyZW50LnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0Q2FtZXJhVmlldycsIGhhbmRsZVJlc2V0Q2FtZXJhIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzZXRDYW1lcmFWaWV3JywgaGFuZGxlUmVzZXRDYW1lcmEgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfTtcbiAgfSwgW2NhbWVyYSwgdmlldywgcG9zaXRpb25dKTtcbiAgXG4gIC8vIE9uIGNvbXBvbmVudCBtb3VudCwgc2V0IHVwIGV2ZW50IGxpc3RlbmVyc1xuICAvLyBBZGQgY3Vyc29yIGNoYW5nZSB3aGVuIGhvdmVyaW5nIG92ZXIgcm9ja2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzUm9ja2V0SG92ZXJlZCB8fCBpc0RyYWdnaW5nUm9ja2V0KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdtb3ZlJyAvLyBDaGFuZ2UgY3Vyc29yIHRvIGluZGljYXRlIHJvdGF0YWJsZSBvYmplY3RcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnYXV0bycgLy8gUmVzZXQgY3Vyc29yXG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdhdXRvJyAvLyBFbnN1cmUgY3Vyc29yIGlzIHJlc2V0IG9uIHVubW91bnRcbiAgICB9XG4gIH0sIFtpc1JvY2tldEhvdmVyZWQsIGlzRHJhZ2dpbmdSb2NrZXRdKVxuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkb21FbGVtZW50ID0gZ2wuZG9tRWxlbWVudFxuICAgIFxuICAgIC8vIENvbW1vbiBmdW5jdGlvbiBmb3IgcmF5Y2FzdGluZyB0byBkZXRlY3Qgcm9ja2V0XG4gICAgY29uc3QgY2hlY2tSb2NrZXRJbnRlcnNlY3Rpb24gPSAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpID0+IHtcbiAgICAgIC8vIEdldCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXG4gICAgICBjb25zdCByZWN0ID0gZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgbW91c2UuY3VycmVudC54ID0gKChjbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGgpICogMiAtIDFcbiAgICAgIG1vdXNlLmN1cnJlbnQueSA9IC0oKGNsaWVudFkgLSByZWN0LnRvcCkgLyByZWN0LmhlaWdodCkgKiAyICsgMVxuICAgICAgXG4gICAgICAvLyBTZXQgdXAgcmF5Y2FzdGVyXG4gICAgICByYXljYXN0ZXIuY3VycmVudC5zZXRGcm9tQ2FtZXJhKG1vdXNlLmN1cnJlbnQsIGNhbWVyYSlcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHJheSBpbnRlcnNlY3RzIHdpdGggdGhlIHJvY2tldFxuICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5jdXJyZW50LmludGVyc2VjdE9iamVjdHMoc2NlbmUuY2hpbGRyZW4sIHRydWUpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBub3NlIGNvbmUgc3BlY2lmaWNhbGx5IGZvciBzcGVjaWFsIGhhbmRsaW5nXG4gICAgICBjb25zdCBub3NlQ29uZUludGVyc2VjdGlvbiA9IGludGVyc2VjdHMuZmluZChpbnRlcnNlY3QgPT4gXG4gICAgICAgIGludGVyc2VjdC5vYmplY3QgJiYgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdub3NlY29uZScpXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBJZiBub3NlIGNvbmUgaXMgY2xpY2tlZCwgcmVzZXQgY2FtZXJhIHRvIHBlcnNwZWN0aXZlIHZpZXcgcG9pbnRpbmcgdXBcbiAgICAgIGlmIChub3NlQ29uZUludGVyc2VjdGlvbikge1xuICAgICAgICAvLyBEaXNwYXRjaCBhbiBldmVudCB0byBub3RpZnkgdGhhdCBub3NlIGNvbmUgd2FzIGNsaWNrZWRcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJOb3NlIGNvbmUgY2xpY2tlZCAtIHJlc2V0dGluZyBjYW1lcmEgdmlld1wiKTtcbiAgICAgICAgICAvLyBSZXNldCBjb21wYXNzIGFuZCBjYW1lcmFcbiAgICAgICAgICBjYW1lcmFSb2xsLmN1cnJlbnQgPSAwO1xuICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9ja2V0Um90YXRpb24nLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IDAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Jlc2V0Q2FtZXJhVmlldycsIHt9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmlsdGVyIG91dCBub24tbWVzaCBvYmplY3RzIGFuZCBjaGVjayBpZiBhbnkgaW50ZXJzZWN0aW9ucyBoYXZlIHJvY2tldCBwYXJ0c1xuICAgICAgcmV0dXJuIGludGVyc2VjdHMuc29tZShpbnRlcnNlY3QgPT4ge1xuICAgICAgICBpZiAoIWludGVyc2VjdC5vYmplY3QpIHJldHVybiBmYWxzZVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG9iamVjdCBpcyBwYXJ0IG9mIHRoZSByb2NrZXQgKGJ5IG5hbWUgb3IgaGllcmFyY2h5KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnYWlyZnJhbWUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnbm9zZWNvbmUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnZW5naW5lJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2ZpbnMnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygncGFyYWNodXRlJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2VsZWN0cm9uaWNzJylcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHJvbGwgZmFjdG9yIGJhc2VkIG9uIGRyYWcgc3BlZWQgZm9yIGFkYXB0aXZlIHNlbnNpdGl2aXR5XG4gICAgY29uc3QgY2FsY3VsYXRlUm9sbEZhY3RvciA9IChkZWx0YVg6IG51bWJlciwgZGVsdGFUaW1lOiBudW1iZXIpID0+IHtcbiAgICAgIC8vIENhbGN1bGF0ZSBkcmFnIHNwZWVkIChwaXhlbHMgcGVyIG1pbGxpc2Vjb25kKVxuICAgICAgY29uc3QgZHJhZ1NwZWVkID0gTWF0aC5hYnMoZGVsdGFYKSAvIE1hdGgubWF4KGRlbHRhVGltZSwgMSk7XG4gICAgICBcbiAgICAgIC8vIEJhc2Ugc2Vuc2l0aXZpdHkgLSBhZGp1c3RlZCBsb3dlciBmb3IgYSBtb3JlIHN1YnRsZSByb3RhdGlvblxuICAgICAgY29uc3QgYmFzZVNlbnNpdGl2aXR5ID0gMC4wMDM7ICAvLyBSZWR1Y2VkIGZyb20gMC4wMVxuICAgICAgY29uc3QgbWluU2Vuc2l0aXZpdHkgPSAwLjAwMTU7ICAvLyBSZWR1Y2VkIGZyb20gMC4wMDUgLSBNb3JlIHByZWNpc2lvbiBmb3Igc2xvdyBkcmFnc1xuICAgICAgY29uc3QgbWF4U2Vuc2l0aXZpdHkgPSAwLjAwNjsgICAvLyBSZWR1Y2VkIGZyb20gMC4wMiAtIEZhc3RlciByb3RhdGlvbiBmb3IgcXVpY2sgZHJhZ3NcbiAgICAgIFxuICAgICAgLy8gRXhwb25lbnRpYWwgc2NhbGluZyBiYXNlZCBvbiBkcmFnIHNwZWVkXG4gICAgICAvLyBUaGlzIHByb3ZpZGVzIGZpbmUgY29udHJvbCBmb3Igc2xvdyBkcmFncyBhbmQgcXVpY2tlciByb3RhdGlvbiBmb3IgZmFzdCBkcmFnc1xuICAgICAgbGV0IHNlbnNpdGl2aXR5O1xuICAgICAgaWYgKGRyYWdTcGVlZCA8IDAuMDUpIHtcbiAgICAgICAgLy8gU2xvdyBkcmFnIC0gZmluZSBjb250cm9sXG4gICAgICAgIHNlbnNpdGl2aXR5ID0gbWluU2Vuc2l0aXZpdHkgKyAoYmFzZVNlbnNpdGl2aXR5IC0gbWluU2Vuc2l0aXZpdHkpICogKGRyYWdTcGVlZCAvIDAuMDUpO1xuICAgICAgfSBlbHNlIGlmIChkcmFnU3BlZWQgPiAwLjIpIHtcbiAgICAgICAgLy8gRmFzdCBkcmFnIC0gcXVpY2sgcm90YXRpb25cbiAgICAgICAgc2Vuc2l0aXZpdHkgPSBiYXNlU2Vuc2l0aXZpdHkgKyAobWF4U2Vuc2l0aXZpdHkgLSBiYXNlU2Vuc2l0aXZpdHkpICogTWF0aC5taW4oMSwgKGRyYWdTcGVlZCAtIDAuMikgLyAwLjMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWVkaXVtIHNwZWVkIC0gbm9ybWFsIHNlbnNpdGl2aXR5XG4gICAgICAgIHNlbnNpdGl2aXR5ID0gYmFzZVNlbnNpdGl2aXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBcHBseSB0aGUgY2FsY3VsYXRlZCBzZW5zaXRpdml0eSB0byB0aGUgZGVsdGFcbiAgICAgIC8vIElNUE9SVEFOVDogSW52ZXJ0IHRoZSBzaWduIHRvIGZpeCByb3RhdGlvbiBkaXJlY3Rpb24gKG5lZ2F0aXZlIGJlY29tZXMgcG9zaXRpdmUgYW5kIHZpY2UgdmVyc2EpXG4gICAgICByZXR1cm4gLWRlbHRhWCAqIHNlbnNpdGl2aXR5O1xuICAgIH1cbiAgICBcbiAgICAvLyBNb3VzZSBldmVudCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uTW91c2VEb3duID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIW9yYml0UmVmLmN1cnJlbnQpIHJldHVyblxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBjbGlja2luZyBvbiByb2NrZXRcbiAgICAgIGNvbnN0IGlzUm9ja2V0ID0gY2hlY2tSb2NrZXRJbnRlcnNlY3Rpb24oZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSlcbiAgICAgIFxuICAgICAgLy8gSWYgY2xpY2tpbmcgb24gcm9ja2V0LCBzdGFydCByb2NrZXQtc3BlY2lmaWMgZHJhZ2dpbmdcbiAgICAgIGlmIChpc1JvY2tldCkge1xuICAgICAgICBzZXRJc0RyYWdnaW5nUm9ja2V0KHRydWUpXG4gICAgICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IHRydWVcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIGluaXRpYWwgZHJhZyBwb3NpdGlvbiBhbmQgdGltZXN0YW1wIGZvciBjYWxjdWxhdGluZyBkZWx0YXMgYW5kIHNwZWVkXG4gICAgICAgIHN0YXJ0RHJhZ1Bvc2l0aW9uLmN1cnJlbnQgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfVxuICAgICAgICBzdGFydERyYWdUaW1lc3RhbXAuY3VycmVudCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIFxuICAgICAgICAvLyBUZW1wb3JhcmlseSBkaXNhYmxlIE9yYml0Q29udHJvbHMgdG8gaGFuZGxlIG91ciBvd24gcm90YXRpb25cbiAgICAgICAgaWYgKG9yYml0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBvcmJpdFJlZi5jdXJyZW50LmVuYWJsZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlzSW50ZXJhY3RpbmcuY3VycmVudCA9IHRydWVcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmICghaXNJbnRlcmFjdGluZy5jdXJyZW50IHx8ICFpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHJldHVyblxuICAgICAgXG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIGVsYXBzZWQgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gY3VycmVudFRpbWUgLSBzdGFydERyYWdUaW1lc3RhbXAuY3VycmVudFxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHJhdyBkZWx0YSBmb3Igc3BlZWQgY2FsY3VsYXRpb25cbiAgICAgICAgY29uc3QgcmF3RGVsdGFYID0gZXZlbnQuY2xpZW50WCAtIHN0YXJ0RHJhZ1Bvc2l0aW9uLmN1cnJlbnQueFxuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGFkYXB0aXZlIHJvbGwgZmFjdG9yIGJhc2VkIG9uIGRyYWcgc3BlZWRcbiAgICAgICAgY29uc3QgZGVsdGFYID0gY2FsY3VsYXRlUm9sbEZhY3RvcihyYXdEZWx0YVgsIGRlbHRhVGltZSlcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IHJvbGwgcm90YXRpb24gdG8gdGhlIGNhbWVyYVxuICAgICAgICAvLyBUaGlzIHJvdGF0ZXMgdGhlIGNhbWVyYSBhcm91bmQgdGhlIGxpbmUgZnJvbSB0aGUgY2FtZXJhIHRvIHRoZSB0YXJnZXRcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSlcbiAgICAgICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSBjYW1lcmEucG9zaXRpb24uY2xvbmUoKVxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpLnN1YlZlY3RvcnModGFyZ2V0LCBjYW1lcmFQb3NpdGlvbikubm9ybWFsaXplKClcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIHJvdGF0aW9uIG1hdHJpeCBmb3Igcm9sbGluZyBhcm91bmQgdGhlIHZpZXcgZGlyZWN0aW9uXG4gICAgICAgIGNvbnN0IHJvbGxNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvbkF4aXMoZGlyZWN0aW9uLCBkZWx0YVgpXG4gICAgICAgIFxuICAgICAgICAvLyBBcHBseSB0aGUgcm90YXRpb24gdG8gdGhlIGNhbWVyYSBwb3NpdGlvblxuICAgICAgICBjb25zdCB1cCA9IGNhbWVyYS51cC5jbG9uZSgpXG4gICAgICAgIHVwLmFwcGx5TWF0cml4NChyb2xsTWF0cml4KVxuICAgICAgICBjYW1lcmEudXAuY29weSh1cClcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgb3JiaXQgY29udHJvbHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3lcbiAgICAgICAgaWYgKG9yYml0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBvcmJpdFJlZi5jdXJyZW50LnVwZGF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBzdGFydCBwb3NpdGlvbiBhbmQgdGltZXN0YW1wIGZvciBuZXh0IGZyYW1lXG4gICAgICAgIHN0YXJ0RHJhZ1Bvc2l0aW9uLmN1cnJlbnQgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfVxuICAgICAgICBzdGFydERyYWdUaW1lc3RhbXAuY3VycmVudCA9IGN1cnJlbnRUaW1lXG4gICAgICAgIFxuICAgICAgICAvLyBUcmFjayB0b3RhbCByb2xsIGFtb3VudFxuICAgICAgICBjYW1lcmFSb2xsLmN1cnJlbnQgKz0gZGVsdGFYXG4gICAgICAgIFxuICAgICAgICAvLyBFbWl0IGFuIGV2ZW50IHdpdGggdGhlIGN1cnJlbnQgY2FtZXJhIHJvdGF0aW9uIHRvIHVwZGF0ZSB0aGUgY29tcGFzc1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlcyBhbmQgZW5zdXJlIHZhbHVlcyBhcmUgd2l0aGluIDAtMzYwIHJhbmdlXG4gICAgICAgICAgY29uc3Qgcm90YXRpb25EZWdyZWVzID0gKChjYW1lcmFSb2xsLmN1cnJlbnQgKiAxODAgLyBNYXRoLlBJKSAlIDM2MCArIDM2MCkgJSAzNjA7XG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRSb3RhdGlvbicsIHsgXG4gICAgICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IHJvdGF0aW9uRGVncmVlcyB9IFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBvbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFJlLWVuYWJsZSBvcmJpdCBjb250cm9sc1xuICAgICAgICBpZiAob3JiaXRSZWYuY3VycmVudCkge1xuICAgICAgICAgIG9yYml0UmVmLmN1cnJlbnQuZW5hYmxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuICAgICAgICBzZXRJc0RyYWdnaW5nUm9ja2V0KGZhbHNlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSBmYWxzZVxuICAgIH1cbiAgICBcbiAgICAvLyBUb3VjaCBldmVudCBoYW5kbGVycyBmb3IgbW9iaWxlXG4gICAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIW9yYml0UmVmLmN1cnJlbnQgfHwgZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDApIHJldHVyblxuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIGZpcnN0IHRvdWNoXG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdG91Y2hpbmcgcm9ja2V0XG4gICAgICBjb25zdCBpc1JvY2tldCA9IGNoZWNrUm9ja2V0SW50ZXJzZWN0aW9uKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpXG4gICAgICBcbiAgICAgIC8vIElmIHRvdWNoaW5nIG9uIHJvY2tldCwgc3RhcnQgcm9ja2V0LXNwZWNpZmljIGRyYWdnaW5nXG4gICAgICBpZiAoaXNSb2NrZXQpIHtcbiAgICAgICAgc2V0SXNEcmFnZ2luZ1JvY2tldCh0cnVlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbml0aWFsIGRyYWcgcG9zaXRpb24gYW5kIHRpbWVzdGFtcCBmb3IgY2FsY3VsYXRpbmcgZGVsdGFzIGFuZCBzcGVlZFxuICAgICAgICBzdGFydERyYWdQb3NpdGlvbi5jdXJyZW50ID0geyB4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZIH1cbiAgICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICBcbiAgICAgICAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZSBPcmJpdENvbnRyb2xzIHRvIGhhbmRsZSBvdXIgb3duIHJvdGF0aW9uXG4gICAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgb3JiaXRSZWYuY3VycmVudC5lbmFibGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSB0cnVlXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVG91Y2hNb3ZlID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpbmcuY3VycmVudCB8fCAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50IHx8IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSByZXR1cm5cbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBmaXJzdCB0b3VjaFxuICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIGVsYXBzZWQgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBjb25zdCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0RHJhZ1RpbWVzdGFtcC5jdXJyZW50XG4gICAgICBcbiAgICAgIC8vIEdldCByYXcgZGVsdGEgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICBjb25zdCByYXdEZWx0YVggPSB0b3VjaC5jbGllbnRYIC0gc3RhcnREcmFnUG9zaXRpb24uY3VycmVudC54XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBhZGFwdGl2ZSByb2xsIGZhY3RvciBiYXNlZCBvbiBkcmFnIHNwZWVkXG4gICAgICBjb25zdCBkZWx0YVggPSBjYWxjdWxhdGVSb2xsRmFjdG9yKHJhd0RlbHRhWCwgZGVsdGFUaW1lKVxuICAgICAgXG4gICAgICAvLyBBcHBseSByb2xsIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmFcbiAgICAgIC8vIFRoaXMgcm90YXRlcyB0aGUgY2FtZXJhIGFyb3VuZCB0aGUgbGluZSBmcm9tIHRoZSBjYW1lcmEgdG8gdGhlIHRhcmdldFxuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSlcbiAgICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uLmNsb25lKClcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuc3ViVmVjdG9ycyh0YXJnZXQsIGNhbWVyYVBvc2l0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSByb3RhdGlvbiBtYXRyaXggZm9yIHJvbGxpbmcgYXJvdW5kIHRoZSB2aWV3IGRpcmVjdGlvblxuICAgICAgY29uc3Qgcm9sbE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uQXhpcyhkaXJlY3Rpb24sIGRlbHRhWClcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgdGhlIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmEgcG9zaXRpb25cbiAgICAgIGNvbnN0IHVwID0gY2FtZXJhLnVwLmNsb25lKClcbiAgICAgIHVwLmFwcGx5TWF0cml4NChyb2xsTWF0cml4KVxuICAgICAgY2FtZXJhLnVwLmNvcHkodXApXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgb3JiaXQgY29udHJvbHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3lcbiAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgIG9yYml0UmVmLmN1cnJlbnQudXBkYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXJ0IHBvc2l0aW9uIGFuZCB0aW1lc3RhbXAgZm9yIG5leHQgZnJhbWVcbiAgICAgIHN0YXJ0RHJhZ1Bvc2l0aW9uLmN1cnJlbnQgPSB7IHg6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFkgfVxuICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBjdXJyZW50VGltZVxuICAgICAgXG4gICAgICAvLyBUcmFjayB0b3RhbCByb2xsIGFtb3VudFxuICAgICAgY2FtZXJhUm9sbC5jdXJyZW50ICs9IGRlbHRhWFxuICAgICAgXG4gICAgICAvLyBFbWl0IGFuIGV2ZW50IHdpdGggdGhlIGN1cnJlbnQgY2FtZXJhIHJvdGF0aW9uIHRvIHVwZGF0ZSB0aGUgY29tcGFzc1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIENvbnZlcnQgcmFkaWFucyB0byBkZWdyZWVzIGFuZCBlbnN1cmUgdmFsdWVzIGFyZSB3aXRoaW4gMC0zNjAgcmFuZ2VcbiAgICAgICAgY29uc3Qgcm90YXRpb25EZWdyZWVzID0gKChjYW1lcmFSb2xsLmN1cnJlbnQgKiAxODAgLyBNYXRoLlBJKSAlIDM2MCArIDM2MCkgJSAzNjA7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9ja2V0Um90YXRpb24nLCB7IFxuICAgICAgICAgIGRldGFpbDogeyByb3RhdGlvbjogcm90YXRpb25EZWdyZWVzIH0gXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb25Ub3VjaEVuZCA9ICgpID0+IHtcbiAgICAgIGlmIChpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gUmUtZW5hYmxlIG9yYml0IGNvbnRyb2xzXG4gICAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgb3JiaXRSZWYuY3VycmVudC5lbmFibGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBkcmFnIHN0YXRlXG4gICAgICAgIHNldElzRHJhZ2dpbmdSb2NrZXQoZmFsc2UpXG4gICAgICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlzSW50ZXJhY3RpbmcuY3VycmVudCA9IGZhbHNlXG4gICAgfVxuICAgIFxuICAgIC8vIE1vdXNlIGhvdmVyIGRldGVjdGlvbiBmb3IgY3Vyc29yIGNoYW5nZVxuICAgIGNvbnN0IG9uTW91c2VIb3ZlciA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCkgcmV0dXJuIC8vIFNraXAgaG92ZXIgZGV0ZWN0aW9uIGR1cmluZyBkcmFnXG4gICAgICBcbiAgICAgIC8vIEdldCBtb3VzZSBwb3NpdGlvblxuICAgICAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIG1vdXNlLmN1cnJlbnQueCA9ICgoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDIgLSAxXG4gICAgICBtb3VzZS5jdXJyZW50LnkgPSAtKChldmVudC5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQpICogMiArIDFcbiAgICAgIFxuICAgICAgLy8gQ2FzdCByYXkgdG8gY2hlY2sgZm9yIHJvY2tldFxuICAgICAgcmF5Y2FzdGVyLmN1cnJlbnQuc2V0RnJvbUNhbWVyYShtb3VzZS5jdXJyZW50LCBjYW1lcmEpXG4gICAgICBjb25zdCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmN1cnJlbnQuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbiwgdHJ1ZSlcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgaG92ZXJpbmcgb3ZlciByb2NrZXRcbiAgICAgIGNvbnN0IGlzUm9ja2V0ID0gaW50ZXJzZWN0cy5zb21lKGludGVyc2VjdCA9PiB7XG4gICAgICAgIGlmICghaW50ZXJzZWN0Lm9iamVjdCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdhaXJmcmFtZScpIHx8XG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdub3NlY29uZScpIHx8XG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdlbmdpbmUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnZmlucycpIHx8XG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdwYXJhY2h1dGUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnZWxlY3Ryb25pY3MnKVxuICAgICAgICApXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgaG92ZXIgc3RhdGVcbiAgICAgIHNldElzUm9ja2V0SG92ZXJlZChpc1JvY2tldClcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIC8vIE1vdXNlIGV2ZW50c1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKVxuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZUhvdmVyKSAvLyBBZGQgaG92ZXIgZGV0ZWN0aW9uXG4gICAgXG4gICAgLy8gVG91Y2ggZXZlbnRzXG4gICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kKVxuICAgIFxuICAgIC8vIENsZWFuIHVwIGV2ZW50IGxpc3RlbmVycyBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIE1vdXNlIGV2ZW50c1xuICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bilcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSlcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKVxuICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlSG92ZXIpIC8vIFJlbW92ZSBob3ZlciBkZXRlY3Rpb25cbiAgICAgIFxuICAgICAgLy8gVG91Y2ggZXZlbnRzXG4gICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kKVxuICAgIH1cbiAgfSwgW2NhbWVyYSwgZ2wsIHNjZW5lLCBwb3NpdGlvbl0pXG4gIFxuICAvLyBSZXNldCBjb250cm9scyB3aGVuIHZpZXcgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvcmJpdFJlZi5jdXJyZW50ICYmIHByZXZWaWV3UmVmLmN1cnJlbnQgIT09IHZpZXcpIHtcbiAgICAgIC8vIFNldCB1cCB2ZWN0b3JzIGZvciBkaWZmZXJlbnQgdmlld3NcbiAgICAgIGNvbnN0IHVwVmVjdG9ycyA9IHtcbiAgICAgICAgdG9wOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSksICAgIC8vIExvb2tpbmcgZG93biwgXCJ1cFwiIGlzIC1aXG4gICAgICAgIHNpZGU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCAgICAvLyBMb29raW5nIGZyb20gc2lkZSwgXCJ1cFwiIGlzIFlcbiAgICAgICAgcGVyc3BlY3RpdmU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApIC8vIFN0YW5kYXJkIFwidXBcIiBpcyBZXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgY2FtZXJhJ3MgdXAgdmVjdG9yXG4gICAgICBjYW1lcmEudXAuY29weSh1cFZlY3RvcnNbdmlld10pO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBhbmQgdXBkYXRlIG9yYml0IGNvbnRyb2xzXG4gICAgICBvcmJpdFJlZi5jdXJyZW50LnRhcmdldC5zZXQocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7XG4gICAgICBvcmJpdFJlZi5jdXJyZW50LnVwZGF0ZSgpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgcHJldmlvdXMgdmlld1xuICAgICAgcHJldlZpZXdSZWYuY3VycmVudCA9IHZpZXc7XG4gICAgfVxuICB9LCBbdmlldywgY2FtZXJhLCBwb3NpdGlvbl0pO1xuICBcbiAgLy8gTWFrZSBzdXJlIE9yYml0Q29udHJvbHMgdGFyZ2V0IHN0YXlzIHVwZGF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob3JiaXRSZWYuY3VycmVudCkge1xuICAgICAgb3JiaXRSZWYuY3VycmVudC50YXJnZXQuc2V0KHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pXG4gICAgICBvcmJpdFJlZi5jdXJyZW50LnVwZGF0ZSgpXG4gICAgfVxuICB9LCBbcG9zaXRpb25dKVxuICBcbiAgcmV0dXJuIChcbiAgICA8T3JiaXRDb250cm9sc1xuICAgICAgcmVmPXtvcmJpdFJlZn1cbiAgICAgIGVuYWJsZURhbXBpbmc9e3RydWV9XG4gICAgICBkYW1waW5nRmFjdG9yPXswLjJ9XG4gICAgICBtaW5EaXN0YW5jZT17Mn1cbiAgICAgIG1heERpc3RhbmNlPXsxMDB9XG4gICAgICByb3RhdGVTcGVlZD17MC44fVxuICAgICAgZW5hYmxlZD17dHJ1ZX1cbiAgICAgIGVuYWJsZVpvb209e3RydWV9XG4gICAgICBlbmFibGVSb3RhdGU9e3RydWV9XG4gICAgICBlbmFibGVQYW49e3RydWV9XG4gICAgICBwYW5TcGVlZD17MS4wfVxuICAgICAgc2NyZWVuU3BhY2VQYW5uaW5nPXt0cnVlfVxuICAgICAgdGFyZ2V0PXtbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXV19XG4gICAgICB0b3VjaGVzPXt7XG4gICAgICAgIE9ORTogVEhSRUUuVE9VQ0guUk9UQVRFLFxuICAgICAgICBUV086IFRIUkVFLlRPVUNILkRPTExZX1BBTlxuICAgICAgfX1cbiAgICAgIG1vdXNlQnV0dG9ucz17e1xuICAgICAgICBMRUZUOiBUSFJFRS5NT1VTRS5ST1RBVEUsXG4gICAgICAgIE1JRERMRTogVEhSRUUuTU9VU0UuRE9MTFksXG4gICAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRS5QQU5cbiAgICAgIH19XG4gICAgLz5cbiAgKVxufVxuXG4vLyBPcHRpbWl6ZWQgbGF1bmNoIGRhdGEgZGlzcGxheVxuZnVuY3Rpb24gTGF1bmNoRGF0YSh7XG4gIGlzTGF1bmNoZWQsXG4gIHNldElzTGF1bmNoZWQsXG4gIHRocm90dGxlLFxuICBzZXRUaHJvdHRsZSxcbiAgcmVzZXRSb2NrZXQsXG4gIGxhdW5jaFJvY2tldCxcbiAgc3BlZWQsXG4gIGFsdGl0dWRlLFxuICBtYXhTcGVlZCxcbiAgbWF4QWx0aXR1ZGUsXG4gIGlzTW9iaWxlXG59OiB7XG4gIGlzTGF1bmNoZWQ6IGJvb2xlYW4sXG4gIHNldElzTGF1bmNoZWQ6IChsYXVuY2hlZDogYm9vbGVhbikgPT4gdm9pZCxcbiAgdGhyb3R0bGU6IG51bWJlcixcbiAgc2V0VGhyb3R0bGU6ICh0aHJvdHRsZTogbnVtYmVyKSA9PiB2b2lkLFxuICByZXNldFJvY2tldDogKCkgPT4gdm9pZCxcbiAgbGF1bmNoUm9ja2V0OiAoKSA9PiB2b2lkLFxuICBzcGVlZDogbnVtYmVyLFxuICBhbHRpdHVkZTogbnVtYmVyLFxuICBtYXhTcGVlZDogbnVtYmVyLFxuICBtYXhBbHRpdHVkZTogbnVtYmVyLFxuICBpc01vYmlsZTogYm9vbGVhblxufSkge1xuICAvLyBQcmV2ZW50IG11bHRpcGxlIGNsaWNrc1xuICBjb25zdCBpc1RyYW5zaXRpb25pbmcgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBsYXVuY2hUaW1lUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZm9yY2VkU3BlZWQsIHNldEZvcmNlZFNwZWVkXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZm9yY2VkQWx0aXR1ZGUsIHNldEZvcmNlZEFsdGl0dWRlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaXNTYWZhcmksIHNldElzU2FmYXJpXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ2hyb21lLCBzZXRJc0Nocm9tZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0lPUywgc2V0SXNJT1NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNYWNPUywgc2V0SXNNYWNPU10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBFbmhhbmNlZCBicm93c2VyL2RldmljZSBkZXRlY3Rpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBpc1NhZmFyaUJyb3dzZXIgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICBjb25zdCBpc0Nocm9tZUJyb3dzZXIgPSAvY2hyb21lL2kudGVzdCh1c2VyQWdlbnQpICYmICEvZWRnZXxlZGcvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICBjb25zdCBpc0lPU0RldmljZSA9IC9pcGhvbmV8aXBhZHxpcG9kfGlvcy9pLnRlc3QodXNlckFnZW50KTtcbiAgICAgIGNvbnN0IGlzTWFjT1NEZXZpY2UgPSAvbWFjaW50b3NofG1hYyBvcyB4L2kudGVzdCh1c2VyQWdlbnQpICYmICFpc0lPU0RldmljZTtcbiAgICAgIFxuICAgICAgc2V0SXNTYWZhcmkoaXNTYWZhcmlCcm93c2VyKTtcbiAgICAgIHNldElzQ2hyb21lKGlzQ2hyb21lQnJvd3Nlcik7XG4gICAgICBzZXRJc0lPUyhpc0lPU0RldmljZSk7XG4gICAgICBzZXRJc01hY09TKGlzTWFjT1NEZXZpY2UpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQnJvd3NlciBkZXRlY3Rpb24gLSBTYWZhcmk6ICR7aXNTYWZhcmlCcm93c2VyfSwgQ2hyb21lOiAke2lzQ2hyb21lQnJvd3Nlcn0sIGlPUzogJHtpc0lPU0RldmljZX0sIG1hY09TOiAke2lzTWFjT1NEZXZpY2V9YCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIFxuICAvLyBDT01QTEVURUxZIE5FVyBBUFBST0FDSDogR2VuZXJhdGUgc3ludGhldGljIGRpc3BsYXkgdmFsdWVzXG4gIC8vIFRoaXMgcnVucyBpbmRlcGVuZGVudGx5IG9mIHRoZSBwaHlzaWNzIGVuZ2luZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb24gd2hlbiBsYXVuY2hlZFxuICAgIGlmIChpc0xhdW5jaGVkICYmICFsYXVuY2hUaW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgIGxhdW5jaFRpbWVSZWYuY3VycmVudCA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgXG4gICAgICAvLyBTdGFydCBhbiBhbmltYXRpb24gZnJhbWUgbG9vcCB0byB1cGRhdGUgdmFsdWVzXG4gICAgICBjb25zdCB1cGRhdGVEaXNwbGF5VmFsdWVzID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWlzTGF1bmNoZWQpIHtcbiAgICAgICAgICBsYXVuY2hUaW1lUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIHNldEZvcmNlZFNwZWVkKDApO1xuICAgICAgICAgIHNldEZvcmNlZEFsdGl0dWRlKDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSAobGF1bmNoVGltZVJlZi5jdXJyZW50IHx8IG5vdyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHdWFyYW50ZWVkIGluY3JlYXNpbmcgdmFsdWVzIGJhc2VkIG9uIGVsYXBzZWQgdGltZVxuICAgICAgICAvLyBTcGVlZCBzdGF5cyBhdCBleGFjdGx5IDAuMCBkdXJpbmcgcHJlLWxhdW5jaCwgdGhlbiBzdGFydHMgaW5jcmVhc2luZ1xuICAgICAgICBsZXQgbmV3U3BlZWQgPSBlbGFwc2VkIDwgMiBcbiAgICAgICAgICA/IDAuMCAgLy8gU3RheSBleGFjdGx5IGF0IHplcm8gZHVyaW5nIHByZS1sYXVuY2hcbiAgICAgICAgICA6IChlbGFwc2VkIC0gMikgKiAxMDsgLy8gU3RhcnQgZnJvbSB6ZXJvIGF0IGlnbml0aW9uLCB0aGVuIGFjY2VsZXJhdGVcbiAgICAgICAgXG4gICAgICAgIC8vIEFsdGl0dWRlIHN0YXJ0cyBhdCAwIHRoZW4gaW5jcmVhc2VzIHdpdGggYWNjZWxlcmF0aW9uXG4gICAgICAgIGxldCBuZXdBbHRpdHVkZSA9IGVsYXBzZWQgPCAyIFxuICAgICAgICAgID8gMCAgLy8gU3RheSBhdCAwIGR1cmluZyBwcmUtbGF1bmNoXG4gICAgICAgICAgOiBNYXRoLnBvdyhlbGFwc2VkIC0gMiwgMikgKiAyOyAvLyBRdWFkcmF0aWMgaW5jcmVhc2UgYWZ0ZXJcbiAgICAgICAgICBcbiAgICAgICAgLy8gQ2FwIGF0IHJlYXNvbmFibGUgdmFsdWVzXG4gICAgICAgIG5ld1NwZWVkID0gTWF0aC5taW4obmV3U3BlZWQsIDEwMDApO1xuICAgICAgICBuZXdBbHRpdHVkZSA9IE1hdGgubWluKG5ld0FsdGl0dWRlLCA1MDAwKTtcbiAgICAgICAgXG4gICAgICAgIHNldEZvcmNlZFNwZWVkKG5ld1NwZWVkKTtcbiAgICAgICAgc2V0Rm9yY2VkQWx0aXR1ZGUobmV3QWx0aXR1ZGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29udGludWUgYW5pbWF0aW9uXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVEaXNwbGF5VmFsdWVzKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb24gbG9vcFxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZURpc3BsYXlWYWx1ZXMpO1xuICAgIH0gZWxzZSBpZiAoIWlzTGF1bmNoZWQpIHtcbiAgICAgIC8vIFJlc2V0IG9uIGxhdW5jaCBlbmRcbiAgICAgIGxhdW5jaFRpbWVSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBzZXRGb3JjZWRTcGVlZCgwKTtcbiAgICAgIHNldEZvcmNlZEFsdGl0dWRlKDApO1xuICAgIH1cbiAgfSwgW2lzTGF1bmNoZWRdKTtcbiAgXG4gIC8vIFVzZSBvdXIgZm9yY2VkIHZhbHVlcyBkdXJpbmcgZmxpZ2h0LCBmYWxsIGJhY2sgdG8gcGh5c2ljcyB2YWx1ZXMgaWYgbmVlZGVkXG4gIGNvbnN0IGRpc3BsYXlTcGVlZCA9IGlzTGF1bmNoZWQgPyAoZm9yY2VkU3BlZWQgPiAwID8gZm9yY2VkU3BlZWQgOiBzcGVlZCkgOiBtYXhTcGVlZDtcbiAgY29uc3QgZGlzcGxheUFsdGl0dWRlID0gaXNMYXVuY2hlZCA/IChmb3JjZWRBbHRpdHVkZSA+IDAgPyBmb3JjZWRBbHRpdHVkZSA6IGFsdGl0dWRlKSA6IG1heEFsdGl0dWRlO1xuXG4gIC8vIEZvcm1hdCBkaXNwbGF5IHZhbHVlcyB0byBwcmV2ZW50IE5hTlxuICBjb25zdCBnZXREaXNwbGF5VmFsdWUgPSAodmFsdWU6IG51bWJlcikgPT4ge1xuICAgIGlmIChpc05hTih2YWx1ZSkpIHJldHVybiBcIjAuMFwiO1xuICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKDEpO1xuICB9O1xuICBcbiAgLy8gSGFuZGxlIGJ1dHRvbiBjbGljayB3aXRoIGRlYm91bmNlXG4gIGNvbnN0IGhhbmRsZUJ1dHRvbkNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGFueSBVSSByZXBvc2l0aW9uaW5nXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgXG4gICAgLy8gUHJldmVudCByYXBpZCBjbGlja3NcbiAgICBpZiAoaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICAvLyBMb2NrIGR1cmluZyB0cmFuc2l0aW9uIC0gbG9uZ2VyIGZvciByZXNldCB0cmFuc2l0aW9uc1xuICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBcbiAgICBpZiAoaXNMYXVuY2hlZCkge1xuICAgICAgLy8gU2lnbmFsIGFuaW1hdGlvbiB0byBzdG9wIGltbWVkaWF0ZWx5XG4gICAgICBsYXVuY2hUaW1lUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0Rm9yY2VkU3BlZWQoMCk7XG4gICAgICBzZXRGb3JjZWRBbHRpdHVkZSgwKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIHJlc2V0LCBuZWVkIGEgbG9uZ2VyIHRyYW5zaXRpb24gbG9ja1xuICAgICAgcmVzZXRSb2NrZXQoKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGEgbG9uZ2VyIHRpbWVvdXQgZm9yIHJlc2V0IHRyYW5zaXRpb25zXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExhdW5jaCB0cmFuc2l0aW9ucyBhcmUgZmFzdGVyXG4gICAgICBsYXVuY2hSb2NrZXQoKTtcbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWZpbmVkIGRhc2hib2FyZCBwb3NpdGlvbiBiYXNlZCBvbiBkZXZpY2UgYW5kIGJyb3dzZXIgc3BlY2lmaWNzXG4gIGNvbnN0IGdldERhc2hib2FyZFBvc2l0aW9uID0gKCkgPT4ge1xuICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgLy8gTW9iaWxlIGRldmljZSBkZXRlY3Rpb25cbiAgICAgIGlmIChpc0lPUyAmJiBpc1NhZmFyaSkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1bMTIlXSc7IC8vIE1vYmlsZSBpT1MgU2FmYXJpIG5lZWRzIGV4dHJhIHNwYWNlIGZvciBib3R0b20gYmFyXG4gICAgICB9IGVsc2UgaWYgKGlzQ2hyb21lKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLVsxOCVdJzsgLy8gTW9iaWxlIENocm9tZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tWzE1JV0nOyAvLyBPdGhlciBtb2JpbGUgYnJvd3NlcnNcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVza3RvcCBoYW5kbGluZ1xuICAgICAgaWYgKGlzTWFjT1MgJiYgaXNTYWZhcmkpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tNCc7IC8vIERlc2t0b3AgU2FmYXJpIG9uIE1hY09TIC0gbm8gbmVlZCBmb3IgZXh0cmEgbWFyZ2luXG4gICAgICB9IGVsc2UgaWYgKGlzU2FmYXJpKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLTUnOyAvLyBPdGhlciBTYWZhcmkgaW5zdGFuY2VzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS00JzsgLy8gRGVza3RvcCBDaHJvbWUgYW5kIG90aGVyc1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBkYXNoYm9hcmRQb3NpdGlvbiA9IGdldERhc2hib2FyZFBvc2l0aW9uKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIGxlZnQtMCByaWdodC0wIG14LWF1dG8gei0yMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBcbiAgICAgICR7aXNNb2JpbGUgPyBgdy1mdWxsICR7ZGFzaGJvYXJkUG9zaXRpb259YCA6IGB3LVszMjBweF0gJHtkYXNoYm9hcmRQb3NpdGlvbn1gfWB9XG4gICAgICBzdHlsZT17eyBoZWlnaHQ6ICcxMTBweCcgfX0gLy8gRml4ZWQgaGVpZ2h0IHRvIHByZXZlbnQgbGF5b3V0IHNoaWZ0c1xuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhzIGJnLWJsYWNrLzMwIGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0zeGwgcC0zIHNoYWRvdy1tZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtbW9ubyB0cmFja2luZy13aWRlciB0ZXh0LXdoaXRlLzkwXCI+e2dldERpc3BsYXlWYWx1ZShkaXNwbGF5U3BlZWQpfTxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgbWwtMSB0ZXh0LXdoaXRlLzYwXCI+bS9zPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgIHshaXNMYXVuY2hlZCAmJiBtYXhTcGVlZCA+IDAgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+bWF4PC9zcGFuPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xNCBoLTE0IHJvdW5kZWQtZnVsbCBiZy1ibGFjay80MCBzaGFkb3ctbWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwYH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17aXNMYXVuY2hlZCA/IFwiUmVzZXQgUm9ja2V0XCIgOiBcIkxhdW5jaCBSb2NrZXRcIn1cbiAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDUsIGJveFNoYWRvdzogXCIwIDAgMTVweCByZ2JhKDI1NSwyNTUsMjU1LDAuMylcIiB9fVxuICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTUgfX1cbiAgICAgICAgICAgIHRyYW5zaXRpb249e3sgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiA1MDAsIGRhbXBpbmc6IDE1IH19XG4gICAgICAgICAgICBzdHlsZT17eyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDJweCknIH19IC8vIFNsaWdodCBzaGlmdCB0byB0aGUgcmlnaHRcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNMYXVuY2hlZCA/IChcbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNy42NSA2LjM1QzE2LjIgNC45IDE0LjIxIDQgMTIgNEM3LjU4IDQgNC4wMSA3LjU4IDQuMDEgMTJDNC4wMSAxNi40MiA3LjU4IDIwIDEyIDIwQzE1LjczIDIwIDE4Ljg0IDE3LjQ1IDE5LjczIDE0SDE3LjY1QzE2LjgzIDE2LjMzIDE0LjYxIDE4IDEyIDE4QzguNjkgMTggNiAxNS4zMSA2IDEyQzYgOC42OSA4LjY5IDYgMTIgNkMxMy42NiA2IDE1LjE0IDYuNjkgMTYuMjIgNy43OEwxMyAxMUgyMFY0TDE3LjY1IDYuMzVaXCIgZmlsbD1cIndoaXRlXCIgZmlsbE9wYWNpdHk9XCIwLjlcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjI4XCIgaGVpZ2h0PVwiMjhcIiB2aWV3Qm94PVwiMCAwIDI4IDI4XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNCAzTDE3IDE1LjVIMTFMMTQgM1pcIiBmaWxsPVwiI0ZGRkZGRlwiIGZpbGxPcGFjaXR5PVwiMC45XCIvPlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxNFwiIGN5PVwiMjFcIiByPVwiM1wiIGZpbGw9XCIjRkZGRkZGXCIgZmlsbE9wYWNpdHk9XCIwLjlcIi8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1tb25vIHRyYWNraW5nLXdpZGVyIHRleHQtd2hpdGUvOTBcIj57Z2V0RGlzcGxheVZhbHVlKGRpc3BsYXlBbHRpdHVkZSl9PHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBtbC0xIHRleHQtd2hpdGUvNjBcIj5tPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgIHshaXNMYXVuY2hlZCAmJiBtYXhBbHRpdHVkZSA+IDAgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+bWF4PC9zcGFuPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zLzQgbXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBteC1hdXRvIGgtNlwiIHN0eWxlPXt7IG1pbkhlaWdodDogJzI0cHgnIH19PlxuICAgICAgICB7IWlzTGF1bmNoZWQgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBweC0xXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgbWF4PVwiMVwiXG4gICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aHJvdHRsZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRUaHJvdHRsZShwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy1mdWxsIGFwcGVhcmFuY2Utbm9uZSBiZy10cmFuc3BhcmVudCBjdXJzb3ItcG9pbnRlciB6LTEwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgIFdlYmtpdEFwcGVhcmFuY2U6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEuNXJlbSdcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgbGVmdC0xIHJpZ2h0LTEgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICB7WzAsIDAuMjUsIDAuNSwgMC43NSwgMV0ubWFwKChtYXJrKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bWFya30gY2xhc3NOYW1lPVwidy0wLjUgaC0xLjUgYmctd2hpdGUvMzBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS83MCBtbC0yIHctOFwiPntNYXRoLnJvdW5kKHRocm90dGxlICogMTAwKX0lPC9zcGFuPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1pZGRsZVBhbmVsKHsgaXNNb2JpbGUgPSBmYWxzZSwgaXNTbWFsbERlc2t0b3AgPSBmYWxzZSB9KSB7XG4gIC8vIFN0YXRlIG1hbmFnZW1lbnRcbiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGU8J3RvcCcgfCAnc2lkZScgfCAncGVyc3BlY3RpdmUnPigncGVyc3BlY3RpdmUnKTtcbiAgY29uc3QgW3NlbGVjdGVkUGFydCwgc2V0U2VsZWN0ZWRQYXJ0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMYXVuY2hlZCwgc2V0SXNMYXVuY2hlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0aHJvdHRsZSwgc2V0VGhyb3R0bGVdID0gdXNlU3RhdGUoMC44KTtcbiAgY29uc3QgW3Jlc2V0VHJpZ2dlciwgc2V0UmVzZXRUcmlnZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIEZpeGVkIGdyb3VuZCBwb3NpdGlvbiB0aGF0IHBsYWNlcyByb2NrZXQgb24gdG9wIG9mIGdyaWRcbiAgY29uc3QgR1JPVU5EX1kgPSAtMi44OyAvLyBVcGRhdGVkIHRvIG1hdGNoIHRoZSBncmlkIHBvc2l0aW9uXG4gIGNvbnN0IEdST1VORF9QT1NJVElPTjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gWzAsIEdST1VORF9ZLCAwXTtcbiAgXG4gIGNvbnN0IFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdPihHUk9VTkRfUE9TSVRJT04pO1xuICBjb25zdCBbdmVsb2NpdHksIHNldFZlbG9jaXR5XSA9IHVzZVN0YXRlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oWzAsIDAsIDBdKTtcbiAgY29uc3QgW21heEFsdGl0dWRlLCBzZXRNYXhBbHRpdHVkZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW21heFNwZWVkLCBzZXRNYXhTcGVlZF0gPSB1c2VTdGF0ZSgwKTtcbiAgXG4gIC8vIFVwZGF0ZSBmbGlnaHQgZGF0YSBmcm9tIHNpbXVsYXRpb25cbiAgY29uc3QgdXBkYXRlRmxpZ2h0RGF0YSA9IChwb3M6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgdmVsOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pID0+IHtcbiAgICAvLyBFbnN1cmUgd2UncmUgbm90IGdldHRpbmcgTmFOIHZhbHVlc1xuICAgIGlmIChwb3Muc29tZShpc05hTikgfHwgdmVsLnNvbWUoaXNOYU4pKSByZXR1cm47XG4gICAgXG4gICAgLy8gTG9nIGV2ZXJ5IHBvc2l0aW9uIHVwZGF0ZVxuICAgIGNvbnNvbGUubG9nKGBQQVJFTlQgdXBkYXRlOiBwb3M9JHtwb3NbMV0udG9GaXhlZCgyKX0sIHZlbD0ke3ZlbFsxXS50b0ZpeGVkKDIpfWApO1xuICAgIFxuICAgIC8vIENsb25lIHRoZSBhcnJheXMgdG8gZW5zdXJlIHdlIGJyZWFrIHJlZmVyZW5jZXNcbiAgICBjb25zdCBuZXdQb3M6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFsuLi5wb3NdO1xuICAgIGNvbnN0IG5ld1ZlbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gWy4uLnZlbF07XG4gICAgXG4gICAgLy8gU2V0IHRoZSBuZXcgcG9zaXRpb24gYW5kIHZlbG9jaXR5IGltbWVkaWF0ZWx5IC0gcmVtb3ZlZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICBzZXRQb3NpdGlvbihuZXdQb3MpO1xuICAgIHNldFZlbG9jaXR5KG5ld1ZlbCk7XG4gIH07XG4gIFxuICAvLyBSZXNldCByb2NrZXQgZnVuY3Rpb24gLSBlbnN1cmVzIGdyaWQgc3RheXMgaW4gcGxhY2VcbiAgY29uc3QgcmVzZXRSb2NrZXQgPSAoKSA9PiB7XG4gICAgLy8gU2V0IGEgZmxhZyB0byBwcmV2ZW50IFVJIHVwZGF0ZXMgZHVyaW5nIHRyYW5zaXRpb25cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JvY2tldFJlc2V0UHJlcGFyZScsIHsgZGV0YWlsOiB7IHRyYW5zaXRpb25pbmc6IHRydWUgfSB9KSk7XG4gICAgXG4gICAgLy8gSW1wb3J0YW50OiBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIHN5bmMgd2l0aCByZW5kZXIgY3ljbGVcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgLy8gRmlyc3Qgc3RvcCBsYXVuY2ggc3RhdGUgKHRoaXMgbXVzdCBoYXBwZW4gYmVmb3JlIHBvc2l0aW9uIGNoYW5nZXMpXG4gICAgc2V0SXNMYXVuY2hlZChmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFRoZW4gaW4gdGhlIG5leHQgZnJhbWUgKGFmdGVyIFJlYWN0IGhhcyBwcm9jZXNzZWQgdGhlIHN0YXRlIGNoYW5nZSlcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIC8vIFNldCBwb3NpdGlvbiBleGFjdGx5IGF0IGdyb3VuZCBsZXZlbFxuICAgICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgICBzZXRWZWxvY2l0eShbMCwgMCwgMF0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJpZ2dlciByZXNldCBhbmltYXRpb24gaW4gcm9ja2V0XG4gICAgICAgIHNldFJlc2V0VHJpZ2dlcih0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFdhaXQgZm9yIHJlc2V0IHRvIGNvbXBsZXRlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRSZXNldFRyaWdnZXIoZmFsc2UpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERvdWJsZS1jaGVjayBwb3NpdGlvbiBhZnRlciByZXNldFxuICAgICAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBOb3RpZnkgdGhhdCB0cmFuc2l0aW9uIGhhcyBjb21wbGV0ZWRcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JvY2tldFJlc2V0Q29tcGxldGUnLCB7IGRldGFpbDogeyBwb3NpdGlvbjogR1JPVU5EX1BPU0lUSU9OIH0gfSkpO1xuICAgIH0sIDUwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBcbiAgLy8gTGF1bmNoIHJvY2tldCB3aXRoIGltbWVkaWF0ZSByZXNwb25zZVxuICBjb25zdCBsYXVuY2hSb2NrZXQgPSAoKSA9PiB7XG4gICAgLy8gSWYgYWxyZWFkeSBsYXVuY2hlZCwgcmVzZXQgZmlyc3QgdG8gcHJldmVudCBhbnkgdmlzdWFsIGp1bXBzXG4gICAgaWYgKGlzTGF1bmNoZWQpIHtcbiAgICAgIHJlc2V0Um9ja2V0KCk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIGEgZmV3IGZyYW1lcyB0byBlbnN1cmUgc21vb3RoIHZpc3VhbCB0cmFuc2l0aW9uXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5pdGlhdGVBY3R1YWxMYXVuY2goKTtcbiAgICAgIH0sIDUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90IGxhdW5jaGVkLCBzbyB3ZSBjYW4gc3RhcnQgZGlyZWN0bHlcbiAgICAgIGluaXRpYXRlQWN0dWFsTGF1bmNoKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBhY3R1YWwgbGF1bmNoIHNlcXVlbmNlXG4gIGNvbnN0IGluaXRpYXRlQWN0dWFsTGF1bmNoID0gKCkgPT4ge1xuICAgIC8vIEltcG9ydGFudDogVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBzeW5jIHdpdGggcmVuZGVyIGN5Y2xlXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIC8vIEZpcnN0IGVuc3VyZSBleGFjdCBncm91bmQgcG9zaXRpb25cbiAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHdpdGggemVybyB2ZWxvY2l0eVxuICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgIFxuICAgICAgLy8gVGhlbiBzZXQgbGF1bmNoIHN0YXRlXG4gICAgICBzZXRJc0xhdW5jaGVkKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBUcmlnZ2VyIGFuIGltbWVkaWF0ZSBkYXNoYm9hcmQgdXBkYXRlIGZvciB1c2VyIGZlZWRiYWNrXG4gICAgICAvLyBUaGlzIHdpbGwgbWFrZSB0aGUgZGFzaGJvYXJkIHJlc3BvbmQgcmlnaHQgYXdheVxuICAgICAgY29uc3QgaW5pdGlhbFNwZWVkRGlzcGxheTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gWzAsIDAuMDEsIDBdO1xuICAgICAgdXBkYXRlRmxpZ2h0RGF0YShHUk9VTkRfUE9TSVRJT04sIGluaXRpYWxTcGVlZERpc3BsYXkpO1xuICAgICAgXG4gICAgICAvLyBOb3RpZnkgYW55IGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIHJlc3BvbmQgdG8gbGF1bmNoXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JvY2tldExhdW5jaEluaXRpYXRlZCcsIHsgXG4gICAgICAgIGRldGFpbDogeyBwb3NpdGlvbjogR1JPVU5EX1BPU0lUSU9OLCB0aHJvdHRsZSB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG4gIFxuICAvLyBMaXN0ZW4gZm9yIGNvbXBvbmVudCBoaWdobGlnaHQgZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlSGlnaGxpZ2h0ID0gKGU6IEN1c3RvbUV2ZW50KSA9PiBzZXRTZWxlY3RlZFBhcnQoZS5kZXRhaWwpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoaWdobGlnaHRDb21wb25lbnQnIGFzIGFueSwgaGFuZGxlSGlnaGxpZ2h0KTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hpZ2hsaWdodENvbXBvbmVudCcgYXMgYW55LCBoYW5kbGVIaWdobGlnaHQpO1xuICB9LCBbXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBub3NlIGNvbmUgY2xpY2sgZXZlbnRzIHRvIHJlc2V0IGNhbWVyYSB2aWV3XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVzZXRDYW1lcmFWaWV3ID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJIYW5kbGluZyByZXNldCBjYW1lcmEgdmlldyBldmVudFwiKTtcbiAgICAgIHNldFZpZXcoJ3BlcnNwZWN0aXZlJyk7XG4gICAgICAvLyBSZXNldCBjb21wYXNzIHdoZW4gY2FtZXJhIHZpZXcgaXMgcmVzZXRcbiAgICAgIGhhbmRsZVZpZXdSZXNldCgpO1xuICAgIH07XG4gICAgXG4gICAgLy8gQWxzbyByZXNldCBjb21wYXNzIHdoZW4gcmVzZXQgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICBjb25zdCBoYW5kbGVWaWV3UmVzZXQgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRSb3RhdGlvbicsIHsgXG4gICAgICAgICAgZGV0YWlsOiB7IHJvdGF0aW9uOiAwIH0gXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNldENhbWVyYVZpZXcnLCBoYW5kbGVSZXNldENhbWVyYVZpZXcgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNldENhbWVyYVZpZXcnLCBoYW5kbGVSZXNldENhbWVyYVZpZXcgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIENhbGN1bGF0ZSBzcGVlZCBhbmQgYWx0aXR1ZGVcbiAgLy8gVXBkYXRlZCBhbHRpdHVkZSBjYWxjdWxhdGlvbiB0byB1c2Ugc3RhbmRhcmRpemVkIEdST1VORF9ZXG4gIGNvbnN0IGFsdGl0dWRlID0gTWF0aC5tYXgoMCwgcG9zaXRpb25bMV0gLSBHUk9VTkRfWSk7XG4gIGNvbnN0IHNwZWVkID0gTWF0aC5zcXJ0KFxuICAgIHZlbG9jaXR5WzBdICogdmVsb2NpdHlbMF0gKyB2ZWxvY2l0eVsxXSAqIHZlbG9jaXR5WzFdICsgdmVsb2NpdHlbMl0gKiB2ZWxvY2l0eVsyXVxuICApO1xuICBcbiAgLy8gVXBkYXRlIG1heCB2YWx1ZXMgZHVyaW5nIGZsaWdodFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xhdW5jaGVkICYmICFpc05hTihzcGVlZCkgJiYgIWlzTmFOKGFsdGl0dWRlKSkge1xuICAgICAgaWYgKHNwZWVkID4gbWF4U3BlZWQpIHNldE1heFNwZWVkKHNwZWVkKTtcbiAgICAgIGlmIChhbHRpdHVkZSA+IG1heEFsdGl0dWRlKSBzZXRNYXhBbHRpdHVkZShhbHRpdHVkZSk7XG4gICAgfSBlbHNlIGlmIChyZXNldFRyaWdnZXIpIHtcbiAgICAgIHNldE1heFNwZWVkKDApO1xuICAgICAgc2V0TWF4QWx0aXR1ZGUoMCk7XG4gICAgfVxuICB9LCBbc3BlZWQsIGFsdGl0dWRlLCBpc0xhdW5jaGVkLCByZXNldFRyaWdnZXIsIG1heFNwZWVkLCBtYXhBbHRpdHVkZV0pO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICB7LyogQ2FudmFzIGZpcnN0IC0gZml4ZWQgc2l6ZSBhbmQgcG9zaXRpb24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgPENhbnZhcyBzaGFkb3dzPlxuICAgICAgICAgIDxEeW5hbWljQ2FtZXJhIFxuICAgICAgICAgICAgaXNMYXVuY2hlZD17aXNMYXVuY2hlZH1cbiAgICAgICAgICAgIHRhcmdldD17cG9zaXRpb259XG4gICAgICAgICAgICB2aWV3PXt2aWV3fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEN1c3RvbSBPcmJpdENvbnRyb2xzIHdpdGggcm9ja2V0IHJvbGwgcm90YXRpb24gKi99XG4gICAgICAgICAgPEN1c3RvbU9yYml0Q29udHJvbHMgcG9zaXRpb249e3Bvc2l0aW9ufSB2aWV3PXt2aWV3fSAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBTY2VuZSBsaWdodGluZyAqL31cbiAgICAgICAgICA8YW1iaWVudExpZ2h0IGludGVuc2l0eT17MC4yNX0gLz4gXG4gICAgICAgICAgPGRpcmVjdGlvbmFsTGlnaHQgXG4gICAgICAgICAgICBwb3NpdGlvbj17WzgsIDEwLCA1XX0gXG4gICAgICAgICAgICBpbnRlbnNpdHk9ezAuN30gXG4gICAgICAgICAgICBjYXN0U2hhZG93IFxuICAgICAgICAgICAgc2hhZG93LW1hcFNpemU9e1sxMDI0LCAxMDI0XX1cbiAgICAgICAgICAgIHNoYWRvdy1jYW1lcmEtZmFyPXs1MH1cbiAgICAgICAgICAgIHNoYWRvdy1jYW1lcmEtbGVmdD17LTEwfVxuICAgICAgICAgICAgc2hhZG93LWNhbWVyYS1yaWdodD17MTB9XG4gICAgICAgICAgICBzaGFkb3ctY2FtZXJhLXRvcD17MTB9XG4gICAgICAgICAgICBzaGFkb3ctY2FtZXJhLWJvdHRvbT17LTEwfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpcmVjdGlvbmFsTGlnaHQgcG9zaXRpb249e1stNiwgMywgLTVdfSBpbnRlbnNpdHk9ezAuMjV9IC8+XG4gICAgICAgICAgPHNwb3RMaWdodCBcbiAgICAgICAgICAgIHBvc2l0aW9uPXtbMCwgLTIsIDEwXX0gXG4gICAgICAgICAgICBpbnRlbnNpdHk9ezAuNH0gXG4gICAgICAgICAgICBhbmdsZT17MC42fSBcbiAgICAgICAgICAgIHBlbnVtYnJhPXswLjV9IFxuICAgICAgICAgICAgZGlzdGFuY2U9ezIwfVxuICAgICAgICAgICAgY29sb3I9XCIjNWVlYWQ0XCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBMYXVuY2ggbGlnaHQgLSBhZGp1c3RlZCB0byBtYXRjaCBncm91bmQgcG9zaXRpb24gKi99XG4gICAgICAgICAge2lzTGF1bmNoZWQgJiYgKFxuICAgICAgICAgICAgPHBvaW50TGlnaHQgXG4gICAgICAgICAgICAgIHBvc2l0aW9uPXtbMCwgR1JPVU5EX1ksIDBdfSBcbiAgICAgICAgICAgICAgaW50ZW5zaXR5PXsyfSBcbiAgICAgICAgICAgICAgZGlzdGFuY2U9ezE1fSBcbiAgICAgICAgICAgICAgY29sb3I9XCIjZmY4ODY2XCJcbiAgICAgICAgICAgICAgZGVjYXk9ezJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgPEVudmlyb25tZW50IHByZXNldD1cIm5pZ2h0XCIgLz5cbiAgICAgICAgICB7LyogRml4ZWQgY29udGFjdCBzaGFkb3dzIGF0IGV4YWN0bHkgZ3JvdW5kIGxldmVsICovfVxuICAgICAgICAgIDxDb250YWN0U2hhZG93cyBcbiAgICAgICAgICAgIHBvc2l0aW9uPXtbMCwgR1JPVU5EX1kgKyAwLjAxLCAwXX0gXG4gICAgICAgICAgICBvcGFjaXR5PXswLjR9ICBcbiAgICAgICAgICAgIHNjYWxlPXsxNX0gXG4gICAgICAgICAgICBibHVyPXsyLjV9IFxuICAgICAgICAgICAgZmFyPXs1fSBcbiAgICAgICAgICAgIHJlc29sdXRpb249ezUxMn1cbiAgICAgICAgICAgIGNvbG9yPVwiIzAwMTEzM1wiXG4gICAgICAgICAgICBmcmFtZXM9ezF9IC8vIFJlbmRlciBvbmNlIGFuZCBjYWNoZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogQWJzb2x1dGVseSBmaXhlZCBncmlkIHRoYXQgbmV2ZXIgbW92ZXMgKi99XG4gICAgICAgICAgPEdyaWQgXG4gICAgICAgICAgICBpbmZpbml0ZUdyaWQgXG4gICAgICAgICAgICBjZWxsU2l6ZT17MC41fSBcbiAgICAgICAgICAgIGNlbGxUaGlja25lc3M9ezAuNX0gXG4gICAgICAgICAgICBzZWN0aW9uU2l6ZT17Mn0gXG4gICAgICAgICAgICBzZWN0aW9uVGhpY2tuZXNzPXsxfSBcbiAgICAgICAgICAgIGZhZGVEaXN0YW5jZT17MzB9IFxuICAgICAgICAgICAgZmFkZVN0cmVuZ3RoPXsxLjV9XG4gICAgICAgICAgICBjZWxsQ29sb3I9XCIjMDBlYWZmXCIgXG4gICAgICAgICAgICBzZWN0aW9uQ29sb3I9XCIjZWM0ODk5XCJcbiAgICAgICAgICAgIHBvc2l0aW9uPXtbMCwgR1JPVU5EX1ksIDBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgICAgICAgIHsvKiBGb3JjZSByZS1jcmVhdGlvbiBvZiBSb2NrZXRTaW11bGF0aW9uIHdoZW4gbGF1bmNoIHN0YXRlIGNoYW5nZXMgKi99XG4gICAgICAgICAgICA8Um9ja2V0U2ltdWxhdGlvbiBcbiAgICAgICAgICAgICAga2V5PXtgcm9ja2V0LSR7aXNMYXVuY2hlZCA/ICdsYXVuY2hlZCcgOiAnaWRsZSd9LSR7cmVzZXRUcmlnZ2VyID8gJ3Jlc2V0JyA6ICdub3JtYWwnfWB9XG4gICAgICAgICAgICAgIHNlbGVjdGVkPXtzZWxlY3RlZFBhcnQgIT09IG51bGx9IFxuICAgICAgICAgICAgICBpc0xhdW5jaGVkPXtpc0xhdW5jaGVkfVxuICAgICAgICAgICAgICB0aHJvdHRsZT17dGhyb3R0bGV9XG4gICAgICAgICAgICAgIHJlc2V0VHJpZ2dlcj17cmVzZXRUcmlnZ2VyfVxuICAgICAgICAgICAgICBzZXRGbGlnaHREYXRhPXt1cGRhdGVGbGlnaHREYXRhfVxuICAgICAgICAgICAgICBoaWdobGlnaHRlZFBhcnQ9e3NlbGVjdGVkUGFydH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9TdXNwZW5zZT5cbiAgICAgICAgPC9DYW52YXM+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIFVJIGVsZW1lbnRzIC0gYWJzb2x1dGVseSBwb3NpdGlvbmVkIG92ZXIgdGhlIGNhbnZhcyAqL31cbiAgICAgIDxWaWV3cG9ydENvbnRyb2xzIHZpZXc9e3ZpZXd9IHNldFZpZXc9e3NldFZpZXd9IGlzTW9iaWxlPXtpc01vYmlsZX0gLz5cbiAgICAgIFxuICAgICAgPExhdW5jaERhdGFcbiAgICAgICAgaXNMYXVuY2hlZD17aXNMYXVuY2hlZH1cbiAgICAgICAgc2V0SXNMYXVuY2hlZD17c2V0SXNMYXVuY2hlZH1cbiAgICAgICAgdGhyb3R0bGU9e3Rocm90dGxlfVxuICAgICAgICBzZXRUaHJvdHRsZT17c2V0VGhyb3R0bGV9XG4gICAgICAgIHJlc2V0Um9ja2V0PXtyZXNldFJvY2tldH1cbiAgICAgICAgbGF1bmNoUm9ja2V0PXtsYXVuY2hSb2NrZXR9XG4gICAgICAgIHNwZWVkPXtpc05hTihzcGVlZCkgPyAwIDogc3BlZWR9XG4gICAgICAgIGFsdGl0dWRlPXtpc05hTihhbHRpdHVkZSkgPyAwIDogYWx0aXR1ZGV9XG4gICAgICAgIG1heFNwZWVkPXtpc05hTihtYXhTcGVlZCkgPyAwIDogbWF4U3BlZWR9XG4gICAgICAgIG1heEFsdGl0dWRlPXtpc05hTihtYXhBbHRpdHVkZSkgPyAwIDogbWF4QWx0aXR1ZGV9XG4gICAgICAgIGlzTW9iaWxlPXtpc01vYmlsZX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibmFtZXMiOlsiU3VzcGVuc2UiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkNhbnZhcyIsInVzZUZyYW1lIiwidXNlVGhyZWUiLCJPcmJpdENvbnRyb2xzIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJHcmlkIiwiRW52aXJvbm1lbnQiLCJDb250YWN0U2hhZG93cyIsIlRIUkVFIiwibW90aW9uIiwiUm9ja2V0RmxhbWUiLCJpc0xhdW5jaGVkIiwidGhyb3R0bGUiLCJwcmVMYXVuY2hGaXJlIiwiY291bnRkb3duU3RhZ2UiLCJmbGFtZVJlZiIsImZsYW1lVmFyaWF0aW9uIiwic2NhbGVZIiwic2NhbGVYIiwic2NhbGVaIiwibGF1bmNoVGltZSIsInN0YXRlIiwiY3VycmVudCIsInRpbWUiLCJjbG9jayIsImdldEVsYXBzZWRUaW1lIiwiZWZmZWN0aXZlVGhyb3R0bGUiLCJ0aW1lU2luY2VMYXVuY2giLCJNYXRoIiwic2luIiwiZmxhbWVGcmVxdWVuY3kiLCJNYXRoVXRpbHMiLCJsZXJwIiwiYmFzZVNjYWxlTXVsdGlwbGllciIsInNjYWxlIiwieSIsInh6VmFyaWF0aW9uIiwibmV3U2NhbGVYIiwibmV3U2NhbGVaIiwiY29zIiwieCIsInoiLCJncm91cCIsInJlZiIsInBvc2l0aW9uIiwibWVzaCIsImNvbmVHZW9tZXRyeSIsImFyZ3MiLCJtZXNoQmFzaWNNYXRlcmlhbCIsImNvbG9yIiwidHJhbnNwYXJlbnQiLCJvcGFjaXR5IiwicG9pbnRMaWdodCIsImludGVuc2l0eSIsImRpc3RhbmNlIiwiUm9ja2V0TW9kZWwiLCJzZWxlY3RlZCIsImhpZ2hsaWdodGVkUGFydCIsInJvY2tldFJlZiIsImJvZHlSYWRpdXMiLCJfIiwiZGVsdGEiLCJyb3RhdGlvbiIsImhpZ2hsaWdodEVtaXNzaXZlIiwiaGlnaGxpZ2h0SW50ZW5zaXR5IiwiZ2V0RW1pc3NpdmUiLCJwYXJ0IiwiZ2V0RW1pc3NpdmVJbnRlbnNpdHkiLCJuYW1lIiwiY3lsaW5kZXJHZW9tZXRyeSIsIm1lc2hTdGFuZGFyZE1hdGVyaWFsIiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwiZW1pc3NpdmUiLCJlbWlzc2l2ZUludGVuc2l0eSIsInRvcnVzR2VvbWV0cnkiLCJtYXAiLCJpIiwiUEkiLCJib3hHZW9tZXRyeSIsIkR5bmFtaWNDYW1lcmEiLCJ0YXJnZXQiLCJ2aWV3IiwiaW5pdGlhbFBvc2l0aW9ucyIsInRvcCIsIlZlY3RvcjMiLCJzaWRlIiwicGVyc3BlY3RpdmUiLCJjYW1lcmFzVXAiLCJpbml0aWFsQ2FtZXJhUG9zaXRpb24iLCJzdGF0aWNHcm91bmRZIiwibGFzdFJvY2tldFkiLCJjYW1lcmFMYWciLCJwcmV2Vmlld1JlZiIsImNvbnNvbGUiLCJsb2ciLCJwb3NpdGlvbnMiLCJwb3NpdGlvblZlY3RvciIsImNsb25lIiwiY29weSIsInVwIiwibG9va0F0Iiwicm9ja2V0WCIsInJvY2tldFkiLCJyb2NrZXRaIiwicm9ja2V0VmVsb2NpdHlZIiwibWF4IiwiYWx0aXR1ZGUiLCJtaW4iLCJpbml0aWFsUG9zIiwiaG9yaXpEaXN0Iiwic3FydCIsImFuZ2xlIiwiYXRhbjIiLCJkaXN0YW5jZVNjYWxlIiwic2NhbGVkSG9yaXpEaXN0IiwidGFyZ2V0WSIsImZvbGxvd1NwZWVkIiwiYWJzIiwiaGVpZ2h0U2NhbGUiLCJ0b3BIZWlnaHQiLCJzaWRlRGlzdGFuY2UiLCJ0YXJnZXRGT1YiLCJmb3YiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiY2FtZXJhUG9zaXRpb25zIiwibWFrZURlZmF1bHQiLCJnbG9iYWxSb2NrZXRZIiwiUm9ja2V0U2ltdWxhdGlvbiIsInJlc2V0VHJpZ2dlciIsInNldEZsaWdodERhdGEiLCJlbWl0TGF1bmNoRXZlbnQiLCJ0eXBlIiwiZGF0YSIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsIkdST1VORF9ZIiwiR1JPVU5EX1BPU0lUSU9OIiwic2V0UG9zaXRpb24iLCJ2ZWxvY2l0eSIsInNldFZlbG9jaXR5Iiwic2V0Um90YXRpb24iLCJwb3NpdGlvblJlZiIsInZlbG9jaXR5UmVmIiwiaXNMYXVuY2hlZFJlZiIsInNob3dGaXJlIiwic2V0U2hvd0ZpcmUiLCJzdGFydE1vdmluZ1RpbWUiLCJsYXN0VXBkYXRlVGltZSIsImlzVHJhbnNpdGlvbmluZyIsImdyYXZpdHkiLCJtYXhUaHJ1c3QiLCJiYXNlRHJhZyIsInR1cmJ1bGVuY2VSZWYiLCJyb3RYIiwicm90WiIsImN1cnJlbnRTcGVlZCIsImN1cnJlbnRBbHRpdHVkZSIsIm5vdyIsIkRhdGUiLCJtaW5WZWxvY2l0eSIsIm1pbkFsdGl0dWRlIiwiZWZmZWN0aXZlUG9zaXRpb24iLCJlZmZlY3RpdmVWZWxvY2l0eSIsInRvRml4ZWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiY3VycmVudFRpbWUiLCJlbGFwc2VkVGltZSIsImNhcHBlZERlbHRhIiwidGltZVNpbmNlTGFzdFVwZGF0ZSIsInNob3VsZE1vdmUiLCJ3IiwiaGFzTG9nZ2VkTW92ZW1lbnRTdGFydCIsInRpbWVTaW5jZU1vdmluZyIsInRocnVzdEZhY3RvciIsImN1cnJlbnRUaHJ1c3QiLCJ0aW1lU2luY2VMaWZ0b2ZmIiwiY3VycmVudERyYWciLCJuZXRBY2NlbGVyYXRpb24iLCJndWFyYW50ZWVkQWNjZWxlcmF0aW9uIiwibmV3VmVsb2NpdHkiLCJjdXJyUG9zIiwicG9zaXRpb25EZWx0YSIsImd1YXJhbnRlZWREZWx0YSIsIm5ld1Bvc2l0aW9uIiwiYWN0dWFsVmVsb2NpdHkiLCJjdXJyUm90IiwibmV3Um90YXRpb24iLCJyZW5kZXJQb3NpdGlvbiIsInRpbWVVbnRpbE1vdmVtZW50Iiwic2hvdWxkU2hvd01vdmVtZW50IiwidGltZUJhc2VkVmFsdWUiLCJ0aW1lSW5GbGlnaHQiLCJ0aW1lQmFzZWRQb3NpdGlvbiIsIlZpZXdwb3J0Q29udHJvbHMiLCJzZXRWaWV3IiwiaXNNb2JpbGUiLCJjb21wYXNzUm90YXRpb24iLCJzZXRDb21wYXNzUm90YXRpb24iLCJoYW5kbGVSb2NrZXRSb3RhdGlvbiIsImUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwid2hpbGVIb3ZlciIsImZpbHRlciIsIndoaWxlVGFwIiwidHJhbnNpdGlvbiIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwieG1sbnMiLCJkZWZzIiwiaWQiLCJmZU9mZnNldCIsImR5IiwiZmVHYXVzc2lhbkJsdXIiLCJzdGREZXZpYXRpb24iLCJmZUNvbG9yTWF0cml4IiwidmFsdWVzIiwibGluZWFyR3JhZGllbnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0b3AiLCJvZmZzZXQiLCJzdG9wQ29sb3IiLCJnIiwidHJhbnNmb3JtIiwicGF0aCIsImQiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsIkN1c3RvbU9yYml0Q29udHJvbHMiLCJvcmJpdFJlZiIsImNhbWVyYSIsImdsIiwic2NlbmUiLCJpc0RyYWdnaW5nUm9ja2V0Iiwic2V0SXNEcmFnZ2luZ1JvY2tldCIsImlzUm9ja2V0SG92ZXJlZCIsInNldElzUm9ja2V0SG92ZXJlZCIsImlzRHJhZ2dpbmdSZWYiLCJzdGFydERyYWdQb3NpdGlvbiIsInN0YXJ0RHJhZ1RpbWVzdGFtcCIsImNhbWVyYVJvbGwiLCJyYXljYXN0ZXIiLCJSYXljYXN0ZXIiLCJtb3VzZSIsIlZlY3RvcjIiLCJpc0ludGVyYWN0aW5nIiwiaGFuZGxlUmVzZXRDYW1lcmEiLCJzZXQiLCJwb3MiLCJ1cGRhdGUiLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsImN1cnNvciIsImRvbUVsZW1lbnQiLCJjaGVja1JvY2tldEludGVyc2VjdGlvbiIsImNsaWVudFgiLCJjbGllbnRZIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJzZXRGcm9tQ2FtZXJhIiwiaW50ZXJzZWN0cyIsImludGVyc2VjdE9iamVjdHMiLCJjaGlsZHJlbiIsIm5vc2VDb25lSW50ZXJzZWN0aW9uIiwiZmluZCIsImludGVyc2VjdCIsIm9iamVjdCIsImluY2x1ZGVzIiwic29tZSIsImNhbGN1bGF0ZVJvbGxGYWN0b3IiLCJkZWx0YVgiLCJkZWx0YVRpbWUiLCJkcmFnU3BlZWQiLCJiYXNlU2Vuc2l0aXZpdHkiLCJtaW5TZW5zaXRpdml0eSIsIm1heFNlbnNpdGl2aXR5Iiwic2Vuc2l0aXZpdHkiLCJvbk1vdXNlRG93biIsImV2ZW50IiwiaXNSb2NrZXQiLCJwZXJmb3JtYW5jZSIsImVuYWJsZWQiLCJvbk1vdXNlTW92ZSIsInJhd0RlbHRhWCIsImNhbWVyYVBvc2l0aW9uIiwiZGlyZWN0aW9uIiwic3ViVmVjdG9ycyIsIm5vcm1hbGl6ZSIsInJvbGxNYXRyaXgiLCJNYXRyaXg0IiwibWFrZVJvdGF0aW9uQXhpcyIsImFwcGx5TWF0cml4NCIsInJvdGF0aW9uRGVncmVlcyIsIm9uTW91c2VVcCIsIm9uVG91Y2hTdGFydCIsInRvdWNoZXMiLCJsZW5ndGgiLCJ0b3VjaCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsIm9uTW91c2VIb3ZlciIsInVwVmVjdG9ycyIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInJvdGF0ZVNwZWVkIiwiZW5hYmxlWm9vbSIsImVuYWJsZVJvdGF0ZSIsImVuYWJsZVBhbiIsInBhblNwZWVkIiwic2NyZWVuU3BhY2VQYW5uaW5nIiwiT05FIiwiVE9VQ0giLCJST1RBVEUiLCJUV08iLCJET0xMWV9QQU4iLCJtb3VzZUJ1dHRvbnMiLCJMRUZUIiwiTU9VU0UiLCJNSURETEUiLCJET0xMWSIsIlJJR0hUIiwiUEFOIiwiTGF1bmNoRGF0YSIsInNldElzTGF1bmNoZWQiLCJzZXRUaHJvdHRsZSIsInJlc2V0Um9ja2V0IiwibGF1bmNoUm9ja2V0Iiwic3BlZWQiLCJtYXhTcGVlZCIsIm1heEFsdGl0dWRlIiwibGF1bmNoVGltZVJlZiIsImZvcmNlZFNwZWVkIiwic2V0Rm9yY2VkU3BlZWQiLCJmb3JjZWRBbHRpdHVkZSIsInNldEZvcmNlZEFsdGl0dWRlIiwiaXNTYWZhcmkiLCJzZXRJc1NhZmFyaSIsImlzQ2hyb21lIiwic2V0SXNDaHJvbWUiLCJpc0lPUyIsInNldElzSU9TIiwiaXNNYWNPUyIsInNldElzTWFjT1MiLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ0b0xvd2VyQ2FzZSIsImlzU2FmYXJpQnJvd3NlciIsInRlc3QiLCJpc0Nocm9tZUJyb3dzZXIiLCJpc0lPU0RldmljZSIsImlzTWFjT1NEZXZpY2UiLCJ1cGRhdGVEaXNwbGF5VmFsdWVzIiwiZWxhcHNlZCIsIm5ld1NwZWVkIiwibmV3QWx0aXR1ZGUiLCJwb3ciLCJkaXNwbGF5U3BlZWQiLCJkaXNwbGF5QWx0aXR1ZGUiLCJnZXREaXNwbGF5VmFsdWUiLCJ2YWx1ZSIsImlzTmFOIiwiaGFuZGxlQnV0dG9uQ2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImdldERhc2hib2FyZFBvc2l0aW9uIiwiZGFzaGJvYXJkUG9zaXRpb24iLCJzcGFuIiwiYm94U2hhZG93IiwiZmlsbE9wYWNpdHkiLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsIm1pbkhlaWdodCIsImlucHV0Iiwic3RlcCIsIm9uQ2hhbmdlIiwicGFyc2VGbG9hdCIsIldlYmtpdEFwcGVhcmFuY2UiLCJhcHBlYXJhbmNlIiwibWFyayIsInJvdW5kIiwiTWlkZGxlUGFuZWwiLCJpc1NtYWxsRGVza3RvcCIsInNlbGVjdGVkUGFydCIsInNldFNlbGVjdGVkUGFydCIsInNldFJlc2V0VHJpZ2dlciIsInNldE1heEFsdGl0dWRlIiwic2V0TWF4U3BlZWQiLCJ1cGRhdGVGbGlnaHREYXRhIiwidmVsIiwibmV3UG9zIiwibmV3VmVsIiwidHJhbnNpdGlvbmluZyIsImluaXRpYXRlQWN0dWFsTGF1bmNoIiwiaW5pdGlhbFNwZWVkRGlzcGxheSIsImhhbmRsZUhpZ2hsaWdodCIsImhhbmRsZVJlc2V0Q2FtZXJhVmlldyIsImhhbmRsZVZpZXdSZXNldCIsInNoYWRvd3MiLCJhbWJpZW50TGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiY2FzdFNoYWRvdyIsInNoYWRvdy1tYXBTaXplIiwic2hhZG93LWNhbWVyYS1mYXIiLCJzaGFkb3ctY2FtZXJhLWxlZnQiLCJzaGFkb3ctY2FtZXJhLXJpZ2h0Iiwic2hhZG93LWNhbWVyYS10b3AiLCJzaGFkb3ctY2FtZXJhLWJvdHRvbSIsInNwb3RMaWdodCIsInBlbnVtYnJhIiwiZGVjYXkiLCJwcmVzZXQiLCJibHVyIiwiZmFyIiwicmVzb2x1dGlvbiIsImZyYW1lcyIsImluZmluaXRlR3JpZCIsImNlbGxTaXplIiwiY2VsbFRoaWNrbmVzcyIsInNlY3Rpb25TaXplIiwic2VjdGlvblRoaWNrbmVzcyIsImZhZGVEaXN0YW5jZSIsImZhZGVTdHJlbmd0aCIsImNlbGxDb2xvciIsInNlY3Rpb25Db2xvciIsImZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/panels/MiddlePanel.tsx\n");

/***/ })

};
;