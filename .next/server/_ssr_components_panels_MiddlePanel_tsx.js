"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_panels_MiddlePanel_tsx";
exports.ids = ["_ssr_components_panels_MiddlePanel_tsx"];
exports.modules = {

/***/ "(ssr)/./components/panels/MiddlePanel.tsx":
/*!*******************************************!*\
  !*** ./components/panels/MiddlePanel.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MiddlePanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/index-8afac004.esm.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/PerspectiveCamera.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/Environment.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/ContactShadows.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/Grid.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n// Optimized flame component for rocket engine\nfunction RocketFlame({ isLaunched, throttle = 0, preLaunchFire = false, countdownStage = 0 }) {\n    const flameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const flameVariation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        scaleY: 0,\n        scaleX: 0,\n        scaleZ: 0\n    });\n    const launchTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((state)=>{\n        if (!flameRef.current || !isLaunched && !preLaunchFire) return;\n        const time = state.clock.getElapsedTime();\n        // Track when launch begins\n        if (isLaunched && launchTime.current === null) {\n            launchTime.current = time;\n        } else if (!isLaunched) {\n            launchTime.current = null;\n        }\n        // Determine effective throttle - enhanced for more dramatic effect during launch\n        let effectiveThrottle;\n        if (isLaunched) {\n            if (launchTime.current !== null) {\n                const timeSinceLaunch = time - launchTime.current;\n                // Ground fire phase (0-2 seconds): intense pulsing effect\n                if (timeSinceLaunch < 2.0) {\n                    // More dramatic pulsing during ground phase\n                    effectiveThrottle = 1.4 + Math.sin(timeSinceLaunch * 6) * 0.4 + Math.sin(timeSinceLaunch * 20) * 0.2;\n                } else if (timeSinceLaunch < 2.5) {\n                    // Crescendo before liftoff (final buildup)\n                    effectiveThrottle = 1.8 + Math.sin(timeSinceLaunch * 30) * 0.5;\n                } else {\n                    // Sustained strong flame after liftoff\n                    effectiveThrottle = throttle * 1.6 + Math.sin(time * 15) * 0.15;\n                }\n            } else {\n                effectiveThrottle = throttle * 1.4;\n            }\n        } else {\n            // Pre-launch more subdued flame\n            effectiveThrottle = 0.8; // Slightly increased from 0.7\n        }\n        // Calculate smooth variations using sine waves - more dramatic for launch\n        const flameFrequency = isLaunched ? 15 : 10;\n        // Smooth interpolation of previous values for less jitter\n        flameVariation.current.scaleY = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleY, 0.8 + Math.sin(time * flameFrequency) * 0.3 + Math.sin(time * 17) * 0.1, isLaunched ? 0.3 : 0.2);\n        // Apply flame scale with smooth modulation - larger for actual launch\n        const baseScaleMultiplier = isLaunched ? 2.0 : 1.8;\n        flameRef.current.scale.y = flameVariation.current.scaleY * (0.5 + effectiveThrottle * baseScaleMultiplier);\n        // Smooth X/Z scale variation - more dramatic during launch\n        const xzVariation = isLaunched ? 0.15 : 0.1;\n        const newScaleX = 0.7 + Math.sin(time * 12) * xzVariation + Math.sin(time * 23) * (xzVariation / 2);\n        const newScaleZ = 0.7 + Math.cos(time * 14) * xzVariation + Math.cos(time * 19) * (xzVariation / 2);\n        flameVariation.current.scaleX = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleX, newScaleX, 0.15);\n        flameVariation.current.scaleZ = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(flameVariation.current.scaleZ, newScaleZ, 0.15);\n        flameRef.current.scale.x = flameVariation.current.scaleX;\n        flameRef.current.scale.z = flameVariation.current.scaleZ;\n    });\n    if (!isLaunched && !preLaunchFire) return null;\n    // Adjusted flame position to align with the rocket engine\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: flameRef,\n        position: [\n            0,\n            -3,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.5,\n                            2.3,\n                            24\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FF4400\",\n                        transparent: true,\n                        opacity: 0.85\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 95,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.1,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.38,\n                            1.9,\n                            20\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FF7700\",\n                        transparent: true,\n                        opacity: 0.9\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 102,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 100,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.2,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            0.28,\n                            1.5,\n                            16\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 9\n                    }, this),\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshBasicMaterial\", {\n                        color: \"#FFCC00\",\n                        transparent: true,\n                        opacity: 0.95\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 107,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 105,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                color: \"#FF5500\",\n                intensity: isLaunched ? 9 * throttle : 7 * throttle,\n                distance: 7\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 110,\n                columnNumber: 7\n            }, this),\n            \" \",\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                color: \"#FFAA00\",\n                intensity: isLaunched ? 6 * throttle : 5 * throttle,\n                distance: 4\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 111,\n                columnNumber: 7\n            }, this),\n            \" \"\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 93,\n        columnNumber: 5\n    }, this);\n}\n// Optimized rocket model component\nfunction RocketModel({ selected, isLaunched, throttle, highlightedPart, preLaunchFire = false, countdownStage = 0, preserveRotation = false // Add new prop to control rotation preservation\n }) {\n    const rocketRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const bodyRadius = 0.5;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((_, delta)=>{\n        // Only rotate for display when neither selected nor launched\n        if (rocketRef.current && !selected && !isLaunched && !preLaunchFire) {\n            rocketRef.current.rotation.y += delta * 0.1;\n        } else if (rocketRef.current && preLaunchFire && !preserveRotation) {\n            // Only reset rotation during pre-launch if preserveRotation is false\n            rocketRef.current.rotation.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(rocketRef.current.rotation.x, 0, 0.1);\n            rocketRef.current.rotation.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(rocketRef.current.rotation.z, 0, 0.1);\n        }\n    });\n    const highlightEmissive = \"#00AAFF\";\n    const highlightIntensity = 0.5;\n    const getEmissive = (part)=>highlightedPart === part ? highlightEmissive : selected ? \"#FFFFFF\" : \"#000000\";\n    const getEmissiveIntensity = (part)=>highlightedPart === part ? highlightIntensity : selected ? 0.1 : 0;\n    // Adjust the entire rocket to sit properly on the grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ref: rocketRef,\n        position: [\n            0,\n            0.8,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    1.2,\n                    0\n                ],\n                name: \"upper-airframe\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            bodyRadius,\n                            bodyRadius,\n                            1.6,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 159,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#8C8D91\",\n                        metalness: 0.6,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"airframe\"),\n                        emissiveIntensity: getEmissiveIntensity(\"airframe\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 158,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    -0.8,\n                    0\n                ],\n                name: \"lower-airframe\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            bodyRadius,\n                            bodyRadius,\n                            2.4,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 171,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#8C8D91\",\n                        metalness: 0.6,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"airframe\"),\n                        emissiveIntensity: getEmissiveIntensity(\"airframe\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 170,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    2,\n                    0\n                ],\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"torusGeometry\", {\n                        args: [\n                            bodyRadius,\n                            0.03,\n                            16,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 183,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#FFFFFF\"\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 182,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    2.75,\n                    0\n                ],\n                name: \"nosecone\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                        args: [\n                            bodyRadius,\n                            1.5,\n                            32\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#A0A7B8\",\n                        metalness: 0.7,\n                        roughness: 0.2,\n                        emissive: getEmissive(\"nosecone\"),\n                        emissiveIntensity: getEmissiveIntensity(\"nosecone\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 190,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 188,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n                position: [\n                    0,\n                    0.4,\n                    0\n                ],\n                name: \"electronics\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    bodyRadius + 0.01,\n                                    bodyRadius + 0.01,\n                                    0.4,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#222222\",\n                                metalness: 0.35,\n                                roughness: 0.7,\n                                emissive: getEmissive(\"electronics\"),\n                                emissiveIntensity: getEmissiveIntensity(\"electronics\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 9\n                    }, this),\n                    [\n                        0.2,\n                        -0.2\n                    ].map((y, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                            position: [\n                                0,\n                                y,\n                                0\n                            ],\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"torusGeometry\", {\n                                    args: [\n                                        bodyRadius + 0.01,\n                                        0.02,\n                                        16,\n                                        32\n                                    ]\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                    color: \"#888888\",\n                                    metalness: 0.8,\n                                    roughness: 0.2\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, i, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 214,\n                            columnNumber: 11\n                        }, this)),\n                    [\n                        0,\n                        1,\n                        2,\n                        3\n                    ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                            position: [\n                                Math.sin(i * Math.PI / 2) * (bodyRadius - 0.05),\n                                0,\n                                Math.cos(i * Math.PI / 2) * (bodyRadius - 0.05)\n                            ],\n                            rotation: [\n                                0,\n                                i * Math.PI / 2,\n                                Math.PI / 2\n                            ],\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                    args: [\n                                        0.04,\n                                        0.04,\n                                        0.1,\n                                        8\n                                    ]\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 231,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                    color: \"#444444\",\n                                    metalness: 0.7,\n                                    roughness: 0.3\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 232,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, i, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 200,\n                columnNumber: 7\n            }, this),\n            [\n                0,\n                1,\n                2,\n                3\n            ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                    position: [\n                        Math.sin(i * Math.PI / 2) * 0.6,\n                        -1.5,\n                        Math.cos(i * Math.PI / 2) * 0.6\n                    ],\n                    rotation: [\n                        0,\n                        i * Math.PI / 2,\n                        0\n                    ],\n                    name: \"fins\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"boxGeometry\", {\n                            args: [\n                                0.1,\n                                1,\n                                0.8\n                            ]\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 249,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                            color: \"#A0A7B8\",\n                            metalness: 0.3,\n                            roughness: 0.3,\n                            emissive: getEmissive(\"fins\"),\n                            emissiveIntensity: getEmissiveIntensity(\"fins\")\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 250,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, i, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 239,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n                position: [\n                    0,\n                    -2.2,\n                    0\n                ],\n                name: \"engine\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    0.35,\n                                    0.4,\n                                    0.5,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 263,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#303030\",\n                                metalness: 0.7,\n                                roughness: 0.3,\n                                emissive: getEmissive(\"engine\"),\n                                emissiveIntensity: getEmissiveIntensity(\"engine\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 262,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        position: [\n                            0,\n                            -0.3,\n                            0\n                        ],\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"coneGeometry\", {\n                                args: [\n                                    0.4,\n                                    0.4,\n                                    32,\n                                    1,\n                                    true\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 274,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#404040\",\n                                metalness: 0.7,\n                                roughness: 0.2,\n                                emissive: getEmissive(\"engine\"),\n                                emissiveIntensity: getEmissiveIntensity(\"engine\")\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                        position: [\n                            0,\n                            -0.5,\n                            0\n                        ],\n                        rotation: [\n                            Math.PI,\n                            0,\n                            0\n                        ],\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                                args: [\n                                    0.28,\n                                    0.32,\n                                    0.3,\n                                    32\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                                color: \"#111111\",\n                                metalness: 0.5,\n                                roughness: 0.8\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 286,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 284,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 261,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n                position: [\n                    0,\n                    1.5,\n                    0\n                ],\n                name: \"parachute\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"cylinderGeometry\", {\n                        args: [\n                            0.2,\n                            0.2,\n                            0.3,\n                            16\n                        ]\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 292,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                        color: \"#DD2222\",\n                        metalness: 0.2,\n                        roughness: 0.5,\n                        emissive: getEmissive(\"parachute\"),\n                        emissiveIntensity: getEmissiveIntensity(\"parachute\")\n                    }, void 0, false, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 291,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketFlame, {\n                isLaunched: isLaunched,\n                throttle: throttle,\n                preLaunchFire: preLaunchFire || highlightedPart === \"engine\",\n                countdownStage: preLaunchFire ? countdownStage : highlightedPart === \"engine\" ? 3 : 0\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 303,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 156,\n        columnNumber: 5\n    }, this);\n}\n// Optimized dynamic camera that follows the rocket\nfunction DynamicCamera({ isLaunched, target, view }) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Camera positions are now more dramatically different for each view\n    const initialPositions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 15, 0),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(15, 0, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(10, 10, 10) // Isometric view\n    });\n    // Camera up vectors for each view to properly orient the camera\n    const camerasUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n    });\n    // Track if we should preserve the camera's rotation during launch\n    const preserveRotationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const initialCameraPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const staticGroundY = -2.8; // Updated to match the grid position\n    const lastRocketY = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(staticGroundY);\n    const cameraLag = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const prevViewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(view);\n    // Set initial position and orientation when view changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (ref.current) {\n            console.log(`DynamicCamera: View changed to ${view}`);\n            // Define positions for each view\n            const positions = {\n                top: [\n                    0,\n                    15,\n                    0\n                ],\n                side: [\n                    15,\n                    0,\n                    0\n                ],\n                perspective: [\n                    10,\n                    10,\n                    10\n                ] // Isometric view\n            };\n            const position = positions[view];\n            const positionVector = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n            initialPositions.current[view] = positionVector.clone();\n            // Set camera position\n            ref.current.position.copy(positionVector);\n            // Set camera up vector based on view\n            ref.current.up.copy(camerasUp.current[view]);\n            // Look at target\n            ref.current.lookAt(0, staticGroundY, 0);\n            // Update previous view reference\n            prevViewRef.current = view;\n        }\n    }, [\n        view\n    ]);\n    // Listen for rocket launch events with preservation flag\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleRocketLaunched = (e)=>{\n            if (e.detail && e.detail.preserveRotation !== undefined) {\n                preserveRotationRef.current = e.detail.preserveRotation;\n                console.log(`DynamicCamera: preserveRotation=${preserveRotationRef.current}`);\n            }\n        };\n        window.addEventListener(\"rocketLaunched\", handleRocketLaunched);\n        return ()=>{\n            window.removeEventListener(\"rocketLaunched\", handleRocketLaunched);\n        };\n    }, []);\n    // Track rocket launch\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isLaunched && ref.current) {\n            // Store initial camera position on launch\n            initialCameraPosition.current = ref.current.position.clone();\n            lastRocketY.current = staticGroundY;\n            cameraLag.current = 0;\n        } else {\n            // Reset when not launched\n            initialCameraPosition.current = null;\n            lastRocketY.current = staticGroundY;\n            cameraLag.current = 0;\n        }\n    }, [\n        isLaunched\n    ]);\n    // Main frame update\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((_, delta)=>{\n        if (!ref.current) return;\n        if (isLaunched) {\n            // Direct camera tracking for rocket\n            const rocketX = target[0] || 0;\n            const rocketY = target[1] || staticGroundY;\n            const rocketZ = target[2] || 0;\n            // Calculate rocket velocity to determine how quickly camera should follow\n            const rocketVelocityY = (rocketY - lastRocketY.current) / Math.max(delta, 0.016);\n            lastRocketY.current = rocketY;\n            // Calculate altitude\n            const altitude = rocketY - staticGroundY;\n            // Update camera lag based on rocket velocity\n            cameraLag.current = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(cameraLag.current, Math.max(0, Math.min(5, rocketVelocityY * 0.05)), 0.05);\n            const initialPos = initialCameraPosition.current || initialPositions.current[view];\n            if (view === \"perspective\") {\n                // Calculate horizontal distance and angle from initial position\n                const horizDist = Math.sqrt(initialPos.x * initialPos.x + initialPos.z * initialPos.z);\n                const angle = Math.atan2(initialPos.z, initialPos.x);\n                // Calculate scaling factor based on altitude to zoom out as rocket goes higher\n                const distanceScale = 1 + altitude * 0.02; // Scale distance as rocket ascends\n                // Apply distance scaling with minimum distance\n                const scaledHorizDist = Math.max(horizDist, horizDist * distanceScale);\n                // More responsive positioning - increase follow speed as rocket goes higher\n                // Apply some deliberate lag for dramatic effect\n                const targetY = initialPos.y + (rocketY - staticGroundY - cameraLag.current);\n                // Update positions with appropriate scale and smoothing\n                ref.current.position.x = Math.cos(angle) * scaledHorizDist;\n                ref.current.position.z = Math.sin(angle) * scaledHorizDist;\n                // Smooth camera Y movement - faster follow for higher velocities\n                const followSpeed = Math.min(1, 0.1 + Math.abs(rocketVelocityY) * 0.001);\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, targetY, followSpeed);\n            } else if (view === \"top\") {\n                // Top view - stay directly above rocket with increasing height\n                const heightScale = 1 + altitude * 0.05; // Scale height based on altitude\n                const topHeight = rocketY + 15 * heightScale; // Scale viewing height\n                // Smoother transitions for position\n                ref.current.position.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.x, rocketX, 0.1);\n                ref.current.position.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.z, rocketZ, 0.1);\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, topHeight, 0.05);\n            } else if (view === \"side\") {\n                // Side view - maintain X distance but track height directly with some lag\n                const targetY = rocketY - cameraLag.current * 0.5; // Reduced lag for side view\n                const followSpeed = Math.min(1, 0.15 + Math.abs(rocketVelocityY) * 0.001);\n                // Smooth tracking\n                ref.current.position.y = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.y, targetY, followSpeed);\n                ref.current.position.z = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.z, rocketZ, 0.1);\n                // Zoom out slightly based on altitude\n                const sideDistance = initialPos.x * (1 + altitude * 0.01);\n                ref.current.position.x = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.position.x, sideDistance, 0.05);\n            }\n            // Always look directly at the rocket, maintaining the view orientation\n            ref.current.lookAt(rocketX, rocketY, rocketZ);\n            // Ensure we maintain proper up vector during flight for each view type\n            // But only reset the up vector if we're not preserving rotation\n            if (!preserveRotationRef.current) {\n                ref.current.up.copy(camerasUp.current[view]);\n            }\n            // Adjust FOV for better visibility - more dynamic FOV change\n            const targetFOV = Math.min(70, 50 + altitude * 0.15);\n            if (ref.current.fov !== targetFOV) {\n                ref.current.fov = three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(ref.current.fov, targetFOV, 0.05);\n                ref.current.updateProjectionMatrix();\n            }\n        }\n    // Don't force the camera to look at a specific point when not launched\n    // This allows OrbitControls to take over completely\n    });\n    // Camera positions by view type\n    const cameraPositions = {\n        top: [\n            0,\n            15,\n            0\n        ],\n        side: [\n            15,\n            0,\n            0\n        ],\n        perspective: [\n            10,\n            10,\n            10\n        ]\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_4__.PerspectiveCamera, {\n        ref: ref,\n        makeDefault: true,\n        position: cameraPositions[view],\n        fov: 50\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 513,\n        columnNumber: 10\n    }, this);\n}\n// Global tracking of rocket position for debugging - emergency backup\nlet globalRocketY = -2.8; // Updated global reference\nfunction RocketSimulation({ selected, isLaunched, throttle, resetTrigger, setFlightData, highlightedPart }) {\n    console.log(`ROCKET SIMULATION RENDER - isLaunched: ${isLaunched}, throttle: ${throttle}`);\n    // Track mount/unmount for debugging\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"RocketSimulation mounted\");\n        return ()=>console.log(\"RocketSimulation unmounted\");\n    }, []);\n    // Track if we should preserve the camera rotation during launch\n    const preserveRotationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Emit launch events for better component coordination \n    const emitLaunchEvent = (type, data)=>{\n        if (false) {}\n    };\n    // Fixed ground position - standardized to match grid\n    const GROUND_Y = -2.8; // Standardized ground position to match grid\n    // Make GROUND_POSITION an object to be re-created each time to avoid reference issues\n    const GROUND_POSITION = [\n        0,\n        GROUND_Y,\n        0\n    ];\n    // State for rocket physics - with precise ground position\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(GROUND_POSITION);\n    const [velocity, setVelocity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    const [rotation, setRotation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    // Use refs to track the actual latest values to prevent stale closures\n    const positionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(GROUND_POSITION);\n    const velocityRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([\n        0,\n        0,\n        0\n    ]);\n    const isLaunchedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Update refs when state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        positionRef.current = position;\n        velocityRef.current = velocity;\n        isLaunchedRef.current = isLaunched;\n    }, [\n        position,\n        velocity,\n        isLaunched\n    ]);\n    // Listen for reset camera view events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResetCameraView = ()=>{\n            // When camera view is reset, we should not preserve rotation\n            preserveRotationRef.current = false;\n        };\n        window.addEventListener(\"resetCameraView\", handleResetCameraView);\n        return ()=>{\n            window.removeEventListener(\"resetCameraView\", handleResetCameraView);\n        };\n    }, []);\n    // Simplify to a single showFire state for pre-launch\n    const [showFire, setShowFire] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const launchTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const startMovingTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const lastUpdateTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Prevent unwanted transitions\n    const isTransitioning = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Handle launch state changes - with careful state management\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Lock transitions briefly during state change\n        isTransitioning.current = true;\n        if (isLaunched) {\n            // Check if we should preserve rotation by seeing if there's any active camera roll\n            // We'll use the value from CustomOrbitControls if available\n            preserveRotationRef.current = typeof window.lastRocketRotation === \"number\";\n            // Add debug information about rotation state\n            console.log(`Launch with preserveRotation: ${preserveRotationRef.current}, rotation value: ${window.lastRocketRotation}`);\n            // Ensure we're exactly at ground position to start\n            setPosition(GROUND_POSITION);\n            positionRef.current = GROUND_POSITION;\n            // Start with zero velocity (speedometer will show 0 until real movement starts)\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            velocityRef.current = [\n                0,\n                0,\n                0\n            ];\n            // Show fire immediately\n            setShowFire(true);\n            // Set current time as launch time\n            const now = Date.now() / 1000;\n            launchTime.current = now;\n            // Schedule the rocket to start moving after 2 seconds (increased from 300ms for clearer ground fire effect)\n            startMovingTime.current = now + 2.0;\n            lastUpdateTime.current = now;\n            // Emit event for camera to follow rocket - include preserveRotation flag\n            emitLaunchEvent(\"rocketLaunched\", {\n                position: GROUND_POSITION,\n                preserveRotation: preserveRotationRef.current\n            });\n        } else {\n            // Reset the fire when not launched\n            setShowFire(false);\n            launchTime.current = 0;\n            startMovingTime.current = 0;\n            lastUpdateTime.current = 0;\n            // Ensure we're exactly at ground level when not launched\n            setPosition(GROUND_POSITION);\n            positionRef.current = GROUND_POSITION;\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            velocityRef.current = [\n                0,\n                0,\n                0\n            ];\n        }\n        // Release transition lock after a brief delay\n        setTimeout(()=>{\n            isTransitioning.current = false;\n        }, 50);\n    }, [\n        isLaunched\n    ]);\n    // Basic physics constants - dramatically increased for guaranteed movement\n    const gravity = -9.8;\n    const maxThrust = 150 * throttle; // Increased from 100 to 150 for faster movement\n    const baseDrag = 0.01; // Further reduced drag for even faster ascent\n    // Simple turbulence effect\n    const turbulenceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        z: 0,\n        rotX: 0,\n        rotZ: 0\n    });\n    // Update parent with flight data - ensure it properly reflects actual movement\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Calculate actual speed from velocity\n        const currentSpeed = Math.sqrt(velocity[0] * velocity[0] + velocity[1] * velocity[1] + velocity[2] * velocity[2]);\n        // Calculate altitude as distance from ground level\n        const currentAltitude = Math.max(0, position[1] - GROUND_Y);\n        // If rocket has crossed the threshold to start moving, ensure we send non-zero values\n        if (isLaunchedRef.current && startMovingTime.current > 0) {\n            const now = Date.now() / 1000;\n            if (now < startMovingTime.current) {\n                // During pre-launch fire, pass position but with zero velocity\n                setFlightData(position, [\n                    0,\n                    0,\n                    0\n                ]);\n                console.log(\"Pre-launch fire phase - showing zero speed\");\n            } else {\n                // We're in actual flight phase - always ensure minimum values if launched\n                // This guarantees that when movement starts, UI updates immediately\n                const minVelocity = position[1] > GROUND_Y ? Math.max(0.1, currentSpeed) : 0;\n                const minAltitude = position[1] > GROUND_Y ? Math.max(0.1, currentAltitude) : 0;\n                // Create position and velocity that guarantee visible dashboard values\n                const effectivePosition = [\n                    position[0],\n                    // Ensure altitude is at least slightly above ground\n                    position[1] > GROUND_Y ? Math.max(position[1], GROUND_Y + 0.1) : position[1],\n                    position[2]\n                ];\n                const effectiveVelocity = [\n                    velocity[0],\n                    // Ensure vertical velocity is at least slightly positive\n                    velocity[1] > 0 ? Math.max(velocity[1], 0.1) : velocity[1],\n                    velocity[2]\n                ];\n                // Send these guaranteed values to update UI\n                setFlightData(effectivePosition, effectiveVelocity);\n                console.log(`Flight data updated: Alt=${minAltitude.toFixed(2)}, Speed=${minVelocity.toFixed(2)}`);\n            }\n        } else {\n            // Not launched or reset state\n            setFlightData(position, velocity);\n        }\n    }, [\n        position,\n        velocity,\n        setFlightData,\n        isLaunchedRef\n    ]);\n    // Reset position when requested - ensure absolute consistency\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (resetTrigger) {\n            // Lock transitions to prevent visual jumps\n            isTransitioning.current = true;\n            // Force an immediate position update to ground position\n            requestAnimationFrame(()=>{\n                // Immediately stop any movement\n                setVelocity([\n                    0,\n                    0,\n                    0\n                ]);\n                velocityRef.current = [\n                    0,\n                    0,\n                    0\n                ];\n                // Ensure we're exactly at ground position\n                setPosition(GROUND_POSITION);\n                positionRef.current = GROUND_POSITION;\n                // Reset rotation smoothly\n                setRotation([\n                    0,\n                    0,\n                    0\n                ]);\n                // Turn off fire\n                setShowFire(false);\n                // Reset all time references\n                launchTime.current = 0;\n                startMovingTime.current = 0;\n                lastUpdateTime.current = 0;\n                // Notify other components about reset\n                emitLaunchEvent(\"rocketReset\", {\n                    position: GROUND_POSITION\n                });\n                // Keep locked for long enough to ensure smooth transition\n                setTimeout(()=>{\n                    // Second position update to ensure consistency\n                    setPosition(GROUND_POSITION);\n                    positionRef.current = GROUND_POSITION;\n                    // Release transition lock after stable position is confirmed\n                    setTimeout(()=>{\n                        isTransitioning.current = false;\n                    }, 50);\n                }, 50);\n            });\n        }\n    }, [\n        resetTrigger\n    ]);\n    // Simple physics simulation - runs every frame with protections against visual jumps\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)((state, delta)=>{\n        // Skip frames during transitions to prevent visual jumps\n        if (isTransitioning.current) return;\n        const currentTime = state.clock.elapsedTime;\n        // If not launched, do not forcibly reset position; allow free movement\n        if (!isLaunchedRef.current) {\n            // No forced position reset here\n            return;\n        }\n        // Cap delta to prevent physics glitches\n        const cappedDelta = Math.min(delta, 0.1);\n        // Ensure consistent timing even with frame drops\n        const timeSinceLastUpdate = lastUpdateTime.current > 0 ? currentTime - lastUpdateTime.current : cappedDelta;\n        lastUpdateTime.current = currentTime;\n        // Check if we should start moving (after showing fire for a bit)\n        // Force immediate movement tracking even if visually we wait\n        const shouldMove = startMovingTime.current > 0 && currentTime >= startMovingTime.current;\n        // Log movement state for debugging\n        const w = window; // Type assertion for custom property\n        if (shouldMove && !w.hasLoggedMovementStart) {\n            console.log(\"ROCKET MOVEMENT STARTING NOW\");\n            w.hasLoggedMovementStart = true;\n        }\n        // Only apply upward movement physics after the delay\n        if (shouldMove) {\n            // Calculate time since actual movement started for smooth acceleration\n            const timeSinceMoving = currentTime - startMovingTime.current;\n            // Guaranteed movement acceleration curve for visible liftoff\n            let thrustFactor;\n            // Immediate full power for guaranteed movement\n            thrustFactor = 1.0;\n            // Extreme thrust multiplier for guaranteed visible ascent\n            const currentThrust = maxThrust * 4.0; // Fixed at maximum power\n            // Virtually no drag for first 5 seconds to ensure visible movement\n            const timeSinceLiftoff = timeSinceMoving;\n            const currentDrag = timeSinceLiftoff < 5.0 ? 0.01 : baseDrag * 0.2 * Math.abs(velocityRef.current[1]);\n            // Calculate acceleration - guaranteed upward force\n            const netAcceleration = currentThrust + gravity - currentDrag;\n            // Force a minimum acceleration to guarantee upward movement\n            const guaranteedAcceleration = Math.max(netAcceleration, 20.0);\n            // Update velocity with guaranteed minimum upward velocity\n            const newVelocity = [\n                velocityRef.current[0] * 0.98,\n                Math.max(velocityRef.current[1] + guaranteedAcceleration * timeSinceLastUpdate, 5.0),\n                velocityRef.current[2] * 0.98 // Dampen horizontal drift\n            ];\n            // Very minor turbulence for visual interest (reduced amplitude)\n            turbulenceRef.current = {\n                x: Math.sin(currentTime * 4) * 0.002,\n                z: Math.cos(currentTime * 3) * 0.002,\n                rotX: Math.sin(currentTime * 2) * 0.001,\n                rotZ: Math.cos(currentTime * 2.5) * 0.001\n            };\n            // Get current position from ref to ensure latest value\n            const currPos = positionRef.current;\n            // Update position with FORCED upward movement - dramatically increase the delta\n            const positionDelta = newVelocity[1] * timeSinceLastUpdate;\n            // Force an EXTREMELY LARGE minimum position change for much faster movement\n            const guaranteedDelta = Math.max(positionDelta, 5.0 * timeSinceLastUpdate);\n            // Create a new position array to ensure reference is broken\n            const newPosition = [\n                currPos[0] + newVelocity[0] * timeSinceLastUpdate + turbulenceRef.current.x,\n                currPos[1] + guaranteedDelta,\n                currPos[2] + newVelocity[2] * timeSinceLastUpdate + turbulenceRef.current.z\n            ];\n            // Ensure velocity actually reflects the movement speed\n            // This fixes the speedometer to match actual movement\n            const actualVelocity = [\n                newVelocity[0],\n                // Calculate actual velocity based on position change\n                (newPosition[1] - currPos[1]) / timeSinceLastUpdate,\n                newVelocity[2]\n            ];\n            // Update global tracking variable for emergency backup\n            globalRocketY = Math.max(globalRocketY, newPosition[1]);\n            // Log forced position change for debugging\n            console.log(`FORCING position change: delta=${guaranteedDelta.toFixed(2)}, new y=${newPosition[1].toFixed(2)}, global=${globalRocketY.toFixed(2)}`);\n            // Ground collision prevention - ensure we never go below ground\n            if (newPosition[1] < GROUND_Y) {\n                newPosition[1] = GROUND_Y;\n                newVelocity[1] = 0;\n            }\n            // Get current rotation from state\n            const currRot = rotation;\n            // Very slight rotation based on movement (minimal, reduced amplitude)\n            const newRotation = [\n                three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(currRot[0], turbulenceRef.current.rotX, 0.02),\n                currRot[1],\n                three__WEBPACK_IMPORTED_MODULE_3__.MathUtils.lerp(currRot[2], turbulenceRef.current.rotZ, 0.02)\n            ];\n            // Always update position to ensure movement - use actualVelocity for speedometer\n            velocityRef.current = actualVelocity; // Use the calculated actual velocity\n            positionRef.current = newPosition;\n            // Ensure we're updating state to reflect changes in UI\n            setVelocity(actualVelocity); // Use actual velocity for accurate speedometer\n            setPosition(newPosition);\n            setRotation(newRotation);\n            // Log position for debugging\n            if (timeSinceMoving % 1 < 0.1) {\n                console.log(`Rocket position: ${newPosition[1].toFixed(2)}, velocity: ${newVelocity[1].toFixed(2)}`);\n            }\n        } else if (showFire) {\n            // No shaking at all during pre-launch to ensure visual stability\n            if (positionRef.current[1] !== GROUND_Y || Math.abs(positionRef.current[0]) > 0.0001 || Math.abs(positionRef.current[2]) > 0.0001) {\n                setPosition(GROUND_POSITION);\n                positionRef.current = GROUND_POSITION;\n            }\n        }\n    });\n    // Debug log the position values\n    console.log(`RENDER - Rocket position: y=${positionRef.current[1].toFixed(2)}, thrust=${maxThrust}, drag=${baseDrag}`);\n    // Always use the positionRef.current for rendering to avoid state lag\n    const renderPosition = [\n        positionRef.current[0],\n        positionRef.current[1],\n        positionRef.current[2]\n    ]; // Explicit typed array to avoid TypeScript errors\n    // For explicit debugging - add a y offset if we're in flight to ENSURE movement\n    if (isLaunched && startMovingTime.current > 0) {\n        // IMPORTANT CHANGE: We calculate values even during pre-launch stage\n        // This ensures dashboard updates, but visual position only changes after startMovingTime\n        const now = Date.now() / 1000;\n        const timeUntilMovement = Math.max(0, startMovingTime.current - now);\n        const shouldShowMovement = now >= startMovingTime.current;\n        // Add time-based calculations even during pre-launch\n        // This ensures dashboard registers changes immediately\n        let timeBasedValue = 0;\n        if (shouldShowMovement) {\n            // Actual movement phase - after startMovingTime\n            const timeInFlight = now - startMovingTime.current;\n            // Absolutely force position to increase with time no matter what\n            timeBasedValue = timeInFlight * 2;\n        } else {\n            // Still in pre-launch phase - calculate a small value proportional to the countdown\n            // This won't be used for visual rendering but will be used for dashboard\n            timeBasedValue = 0.1 * (1 - timeUntilMovement / 2.0); // Grows from 0 to 0.1 during the 2-second countdown\n        }\n        // Store actual timeBasedPosition for physics/UI calculation\n        const timeBasedPosition = GROUND_Y + timeBasedValue;\n        // For visual rendering, only apply position change after startMovingTime\n        if (shouldShowMovement) {\n            renderPosition[1] = Math.max(renderPosition[1], timeBasedPosition, globalRocketY, GROUND_Y + timeBasedValue // Minimum guaranteed position\n            );\n            console.log(`OVERRIDE: Flight time=${(now - startMovingTime.current).toFixed(1)}s, y=${renderPosition[1].toFixed(2)}, global=${globalRocketY.toFixed(2)}`);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        position: renderPosition,\n        rotation: rotation,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketModel, {\n            selected: selected,\n            isLaunched: isLaunched,\n            throttle: throttle,\n            highlightedPart: highlightedPart,\n            preLaunchFire: showFire,\n            countdownStage: 3,\n            preserveRotation: preserveRotationRef.current\n        }, void 0, false, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 950,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 949,\n        columnNumber: 5\n    }, this);\n}\n// ViewportControls component for repositioning camera to default view\nfunction ViewportControls({ view, setView, isMobile }) {\n    // Add state to track the rotation of the compass needle\n    const [compassRotation, setCompassRotation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Listen for camera/rocket rotation changes to update compass\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Function to handle rotation updates\n        const handleRocketRotation = (e)=>{\n            if (e.detail && typeof e.detail.rotation === \"number\") {\n                setCompassRotation(e.detail.rotation);\n            }\n        };\n        // Listen for custom rocket rotation events\n        window.addEventListener(\"rocketRotation\", handleRocketRotation);\n        return ()=>{\n            window.removeEventListener(\"rocketRotation\", handleRocketRotation);\n        };\n    }, []);\n    // Function to completely reset the view and rotation\n    const resetView = ()=>{\n        console.log(`Setting view to perspective (current: ${view})`);\n        setView(\"perspective\");\n        // Reset compass rotation\n        setCompassRotation(0);\n        // Reset global rotation tracker\n        if (false) {}\n        // Dispatch events to reset camera and compass\n        if (false) {}\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute top-8 right-10 z-50 flex flex-col items-center pointer-events-auto\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.button, {\n            onClick: resetView,\n            className: \"rounded-full transition-all mx-2\",\n            \"aria-label\": \"Reset Camera to Default View\",\n            whileHover: {\n                scale: 1.1,\n                y: -2,\n                filter: \"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))\"\n            },\n            whileTap: {\n                scale: 0.95\n            },\n            transition: {\n                type: \"spring\",\n                stiffness: 400,\n                damping: 15\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                width: \"48\",\n                height: \"48\",\n                viewBox: \"0 0 48 48\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"filter\", {\n                                id: \"pinkShadow\",\n                                x: \"-20%\",\n                                y: \"-20%\",\n                                width: \"140%\",\n                                height: \"140%\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feOffset\", {\n                                        dy: \"2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1034,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feGaussianBlur\", {\n                                        stdDeviation: \"3\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1035,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feColorMatrix\", {\n                                        type: \"matrix\",\n                                        values: \"0 0 0 0 0.95 0 0 0 0 0.2 0 0 0 0 0.65 0 0 0 0.6 0\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1036,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1033,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"linearGradient\", {\n                                id: \"metallicGradient\",\n                                x1: \"0%\",\n                                y1: \"0%\",\n                                x2: \"100%\",\n                                y2: \"100%\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"0%\",\n                                        stopColor: \"#7D7D7D\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1040,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"50%\",\n                                        stopColor: \"#A5A5A5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1041,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"stop\", {\n                                        offset: \"100%\",\n                                        stopColor: \"#5A5A5A\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1042,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1039,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 1032,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                        transform: `rotate(-${compassRotation} 24 24)`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"#EC4899\",\n                                opacity: \"0.7\",\n                                filter: \"url(#pinkShadow)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1048,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"none\",\n                                stroke: \"black\",\n                                strokeWidth: \"1.5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1055,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L37 38L24 30L11 38L24 6Z\",\n                                fill: \"url(#metallicGradient)\",\n                                strokeWidth: \"0.75\",\n                                stroke: \"rgba(0,0,0,0.5)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1062,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: \"M24 6L30.5 22L24 6Z\",\n                                fill: \"white\",\n                                opacity: \"0.2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1069,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                        lineNumber: 1046,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 1030,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 1018,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1017,\n        columnNumber: 5\n    }, this);\n}\n// Custom OrbitControls wrapper component that handles rocket roll rotation\nfunction CustomOrbitControls({ position, view }) {\n    const orbitRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { camera, gl, scene } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.A)();\n    const prevViewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(view);\n    // Create state for tracking interaction\n    const [isDraggingRocket, setIsDraggingRocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRocketHovered, setIsRocketHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false) // Track if rocket is being hovered\n    ;\n    const isDraggingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const startDragPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        x: 0,\n        y: 0\n    });\n    const startDragTimestamp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0) // Track time for speed calculation\n    ;\n    const cameraRoll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Create a raycaster for detecting rocket interactions\n    const raycaster = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_3__.Raycaster());\n    const mouse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_3__.Vector2());\n    const isInteracting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false) // Track both mouse and touch interactions\n    ;\n    // Set up camera up vectors for different views\n    const camerasUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n        side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n        perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n    });\n    // Store the last rotation value globally so it can be accessed by other components\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Initialize the global variable\n        if (false) {}\n    }, []);\n    // Listen for reset events to completely reset the camera\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResetCamera = ()=>{\n            // Reset camera roll\n            cameraRoll.current = 0;\n            // Reset global rotation tracker\n            if (false) {}\n            // Reset camera up vector based on view type\n            camera.up.copy(camerasUp.current[view]);\n            // Reset orbit controls position\n            if (orbitRef.current) {\n                // Set target back to the rocket position\n                orbitRef.current.target.set(position[0], position[1], position[2]);\n                // Reset the position based on the view\n                const positions = {\n                    top: [\n                        0,\n                        15,\n                        0\n                    ],\n                    side: [\n                        15,\n                        0,\n                        0\n                    ],\n                    perspective: [\n                        10,\n                        10,\n                        10\n                    ] // Isometric view\n                };\n                const pos = positions[view];\n                camera.position.set(pos[0], pos[1], pos[2]);\n                // Update the controls\n                orbitRef.current.update();\n            }\n        };\n        window.addEventListener(\"resetCameraView\", handleResetCamera);\n        return ()=>{\n            window.removeEventListener(\"resetCameraView\", handleResetCamera);\n        };\n    }, [\n        camera,\n        view,\n        position\n    ]);\n    // On component mount, set up event listeners\n    // Add cursor change when hovering over rocket\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isRocketHovered || isDraggingRocket) {\n            document.body.style.cursor = \"move\" // Change cursor to indicate rotatable object\n            ;\n        } else {\n            document.body.style.cursor = \"auto\" // Reset cursor\n            ;\n        }\n        return ()=>{\n            document.body.style.cursor = \"auto\" // Ensure cursor is reset on unmount\n            ;\n        };\n    }, [\n        isRocketHovered,\n        isDraggingRocket\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const domElement = gl.domElement;\n        // Common function for raycasting to detect rocket\n        const checkRocketIntersection = (clientX, clientY)=>{\n            // Get normalized coordinates\n            const rect = domElement.getBoundingClientRect();\n            mouse.current.x = (clientX - rect.left) / rect.width * 2 - 1;\n            mouse.current.y = -((clientY - rect.top) / rect.height) * 2 + 1;\n            // Set up raycaster\n            raycaster.current.setFromCamera(mouse.current, camera);\n            // Check if the ray intersects with the rocket\n            const intersects = raycaster.current.intersectObjects(scene.children, true);\n            // Check for nose cone specifically for special handling\n            const noseConeIntersection = intersects.find((intersect)=>intersect.object && intersect.object.name.includes(\"nosecone\"));\n            // If nose cone is clicked, reset camera to perspective view pointing up\n            if (noseConeIntersection) {\n                // Dispatch an event to notify that nose cone was clicked\n                if (false) {}\n            }\n            // Filter out non-mesh objects and check if any intersections have rocket parts\n            return intersects.some((intersect)=>{\n                if (!intersect.object) return false;\n                // Check if the object is part of the rocket (by name or hierarchy)\n                return intersect.object.name.includes(\"airframe\") || intersect.object.name.includes(\"nosecone\") || intersect.object.name.includes(\"engine\") || intersect.object.name.includes(\"fins\") || intersect.object.name.includes(\"parachute\") || intersect.object.name.includes(\"electronics\");\n            });\n        };\n        // Calculate roll factor based on drag speed for adaptive sensitivity\n        const calculateRollFactor = (deltaX, deltaTime)=>{\n            // Calculate drag speed (pixels per millisecond)\n            const dragSpeed = Math.abs(deltaX) / Math.max(deltaTime, 1);\n            // Base sensitivity - adjusted lower for a more subtle rotation\n            const baseSensitivity = 0.003; // Reduced from 0.01\n            const minSensitivity = 0.0015; // Reduced from 0.005 - More precision for slow drags\n            const maxSensitivity = 0.006; // Reduced from 0.02 - Faster rotation for quick drags\n            // Exponential scaling based on drag speed\n            // This provides fine control for slow drags and quicker rotation for fast drags\n            let sensitivity;\n            if (dragSpeed < 0.05) {\n                // Slow drag - fine control\n                sensitivity = minSensitivity + (baseSensitivity - minSensitivity) * (dragSpeed / 0.05);\n            } else if (dragSpeed > 0.2) {\n                // Fast drag - quick rotation\n                sensitivity = baseSensitivity + (maxSensitivity - baseSensitivity) * Math.min(1, (dragSpeed - 0.2) / 0.3);\n            } else {\n                // Medium speed - normal sensitivity\n                sensitivity = baseSensitivity;\n            }\n            // Apply the calculated sensitivity to the delta\n            // IMPORTANT: Invert the sign to fix rotation direction (negative becomes positive and vice versa)\n            return -deltaX * sensitivity;\n        };\n        // Mouse event handlers\n        const onMouseDown = (event)=>{\n            if (!orbitRef.current) return;\n            // Check if clicking on rocket\n            const isRocket = checkRocketIntersection(event.clientX, event.clientY);\n            // If clicking on rocket, start rocket-specific dragging\n            if (isRocket) {\n                setIsDraggingRocket(true);\n                isDraggingRef.current = true;\n                // Store initial drag position and timestamp for calculating deltas and speed\n                startDragPosition.current = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                startDragTimestamp.current = performance.now();\n                // Temporarily disable OrbitControls to handle our own rotation\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = false;\n                }\n            }\n            isInteracting.current = true;\n        };\n        const onMouseMove = (event)=>{\n            if (!isInteracting.current || !isDraggingRef.current) return;\n            if (isDraggingRef.current) {\n                // Calculate time elapsed for speed calculation\n                const currentTime = performance.now();\n                const deltaTime = currentTime - startDragTimestamp.current;\n                // Get raw delta for speed calculation\n                const rawDeltaX = event.clientX - startDragPosition.current.x;\n                // Calculate adaptive roll factor based on drag speed\n                const deltaX = calculateRollFactor(rawDeltaX, deltaTime);\n                // Apply roll rotation to the camera\n                // This rotates the camera around the line from the camera to the target\n                const target = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n                const cameraPosition = camera.position.clone();\n                const direction = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3().subVectors(target, cameraPosition).normalize();\n                // Create a rotation matrix for rolling around the view direction\n                const rollMatrix = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix4().makeRotationAxis(direction, deltaX);\n                // Apply the rotation to the camera position\n                const up = camera.up.clone();\n                up.applyMatrix4(rollMatrix);\n                camera.up.copy(up);\n                // Update the orbit controls to maintain consistency\n                if (orbitRef.current) {\n                    orbitRef.current.update();\n                }\n                // Update start position and timestamp for next frame\n                startDragPosition.current = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                startDragTimestamp.current = currentTime;\n                // Track total roll amount\n                cameraRoll.current += deltaX;\n                // Store roll value globally\n                if (false) {}\n                // Emit an event with the current camera rotation to update the compass\n                if (false) {}\n            }\n        };\n        const onMouseUp = ()=>{\n            if (isDraggingRef.current) {\n                // Re-enable orbit controls\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = true;\n                }\n                // Reset drag state\n                setIsDraggingRocket(false);\n                isDraggingRef.current = false;\n            }\n            isInteracting.current = false;\n        };\n        // Touch event handlers for mobile\n        const onTouchStart = (event)=>{\n            if (!orbitRef.current || event.touches.length === 0) return;\n            // Use the first touch\n            const touch = event.touches[0];\n            // Check if touching rocket\n            const isRocket = checkRocketIntersection(touch.clientX, touch.clientY);\n            // If touching on rocket, start rocket-specific dragging\n            if (isRocket) {\n                setIsDraggingRocket(true);\n                isDraggingRef.current = true;\n                // Store initial drag position and timestamp for calculating deltas and speed\n                startDragPosition.current = {\n                    x: touch.clientX,\n                    y: touch.clientY\n                };\n                startDragTimestamp.current = performance.now();\n                // Temporarily disable OrbitControls to handle our own rotation\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = false;\n                }\n            }\n            isInteracting.current = true;\n        };\n        const onTouchMove = (event)=>{\n            if (!isInteracting.current || !isDraggingRef.current || event.touches.length === 0) return;\n            // Use the first touch\n            const touch = event.touches[0];\n            // Calculate time elapsed for speed calculation\n            const currentTime = performance.now();\n            const deltaTime = currentTime - startDragTimestamp.current;\n            // Get raw delta for speed calculation\n            const rawDeltaX = touch.clientX - startDragPosition.current.x;\n            // Calculate adaptive roll factor based on drag speed\n            const deltaX = calculateRollFactor(rawDeltaX, deltaTime);\n            // Apply roll rotation to the camera\n            // This rotates the camera around the line from the camera to the target\n            const target = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(position[0], position[1], position[2]);\n            const cameraPosition = camera.position.clone();\n            const direction = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3().subVectors(target, cameraPosition).normalize();\n            // Create a rotation matrix for rolling around the view direction\n            const rollMatrix = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix4().makeRotationAxis(direction, deltaX);\n            // Apply the rotation to the camera position\n            const up = camera.up.clone();\n            up.applyMatrix4(rollMatrix);\n            camera.up.copy(up);\n            // Update the orbit controls to maintain consistency\n            if (orbitRef.current) {\n                orbitRef.current.update();\n            }\n            // Update start position and timestamp for next frame\n            startDragPosition.current = {\n                x: touch.clientX,\n                y: touch.clientY\n            };\n            startDragTimestamp.current = currentTime;\n            // Track total roll amount\n            cameraRoll.current += deltaX;\n            // Store roll value globally\n            if (false) {}\n            // Emit an event with the current camera rotation to update the compass\n            if (false) {}\n        };\n        const onTouchEnd = ()=>{\n            if (isDraggingRef.current) {\n                // Re-enable orbit controls\n                if (orbitRef.current) {\n                    orbitRef.current.enabled = true;\n                }\n                // Reset drag state\n                setIsDraggingRocket(false);\n                isDraggingRef.current = false;\n            }\n            isInteracting.current = false;\n        };\n        // Mouse hover detection for cursor change\n        const onMouseHover = (event)=>{\n            if (isDraggingRef.current) return; // Skip hover detection during drag\n            // Get mouse position\n            const rect = domElement.getBoundingClientRect();\n            mouse.current.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n            mouse.current.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n            // Cast ray to check for rocket\n            raycaster.current.setFromCamera(mouse.current, camera);\n            const intersects = raycaster.current.intersectObjects(scene.children, true);\n            // Check if hovering over rocket\n            const isRocket = intersects.some((intersect)=>{\n                if (!intersect.object) return false;\n                return intersect.object.name.includes(\"airframe\") || intersect.object.name.includes(\"nosecone\") || intersect.object.name.includes(\"engine\") || intersect.object.name.includes(\"fins\") || intersect.object.name.includes(\"parachute\") || intersect.object.name.includes(\"electronics\");\n            });\n            // Update hover state\n            setIsRocketHovered(isRocket);\n        };\n        // Add event listeners\n        // Mouse events\n        domElement.addEventListener(\"mousedown\", onMouseDown);\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"mouseup\", onMouseUp);\n        domElement.addEventListener(\"mousemove\", onMouseHover) // Add hover detection\n        ;\n        // Touch events\n        domElement.addEventListener(\"touchstart\", onTouchStart);\n        window.addEventListener(\"touchmove\", onTouchMove);\n        window.addEventListener(\"touchend\", onTouchEnd);\n        // Clean up event listeners on unmount\n        return ()=>{\n            // Mouse events\n            domElement.removeEventListener(\"mousedown\", onMouseDown);\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n            domElement.removeEventListener(\"mousemove\", onMouseHover) // Remove hover detection\n            ;\n            // Touch events\n            domElement.removeEventListener(\"touchstart\", onTouchStart);\n            window.removeEventListener(\"touchmove\", onTouchMove);\n            window.removeEventListener(\"touchend\", onTouchEnd);\n        };\n    }, [\n        camera,\n        gl,\n        scene,\n        position\n    ]);\n    // Reset controls when view changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (orbitRef.current && prevViewRef.current !== view) {\n            // Set up vectors for different views\n            const upVectors = {\n                top: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, -1),\n                side: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0),\n                perspective: new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0) // Standard \"up\" is Y\n            };\n            // Update camera's up vector\n            camera.up.copy(upVectors[view]);\n            // Reset and update orbit controls\n            orbitRef.current.target.set(position[0], position[1], position[2]);\n            orbitRef.current.update();\n            // Update previous view\n            prevViewRef.current = view;\n        }\n    }, [\n        view,\n        camera,\n        position\n    ]);\n    // Make sure OrbitControls target stays updated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (orbitRef.current) {\n            orbitRef.current.target.set(position[0], position[1], position[2]);\n            orbitRef.current.update();\n        }\n    }, [\n        position\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_6__.OrbitControls, {\n        ref: orbitRef,\n        enableDamping: true,\n        dampingFactor: 0.2,\n        minDistance: 2,\n        maxDistance: 100,\n        rotateSpeed: 0.8,\n        enabled: true,\n        enableZoom: true,\n        enableRotate: true,\n        enablePan: true,\n        panSpeed: 1.0,\n        screenSpacePanning: true,\n        target: [\n            position[0],\n            position[1],\n            position[2]\n        ],\n        touches: {\n            ONE: three__WEBPACK_IMPORTED_MODULE_3__.TOUCH.ROTATE,\n            TWO: three__WEBPACK_IMPORTED_MODULE_3__.TOUCH.DOLLY_PAN\n        },\n        mouseButtons: {\n            LEFT: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.ROTATE,\n            MIDDLE: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.DOLLY,\n            RIGHT: three__WEBPACK_IMPORTED_MODULE_3__.MOUSE.PAN\n        }\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1535,\n        columnNumber: 5\n    }, this);\n}\n// Optimized launch data display\nfunction LaunchData({ isLaunched, setIsLaunched, throttle, setThrottle, resetRocket, launchRocket, speed, altitude, maxSpeed, maxAltitude, isMobile }) {\n    // Prevent multiple clicks\n    const isTransitioning = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const launchTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [forcedSpeed, setForcedSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [forcedAltitude, setForcedAltitude] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isSafari, setIsSafari] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isChrome, setIsChrome] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isIOS, setIsIOS] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMacOS, setIsMacOS] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Enhanced browser/device detection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    // COMPLETELY NEW APPROACH: Generate synthetic display values\n    // This runs independently of the physics engine\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Start the animation when launched\n        if (isLaunched && !launchTimeRef.current) {\n            launchTimeRef.current = Date.now() / 1000;\n            // Start an animation frame loop to update values\n            const updateDisplayValues = ()=>{\n                if (!isLaunched) {\n                    launchTimeRef.current = null;\n                    setForcedSpeed(0);\n                    setForcedAltitude(0);\n                    return;\n                }\n                const now = Date.now() / 1000;\n                const elapsed = now - (launchTimeRef.current || now);\n                // Guaranteed increasing values based on elapsed time\n                // Speed stays at exactly 0.0 during pre-launch, then starts increasing\n                let newSpeed = elapsed < 2 ? 0.0 // Stay exactly at zero during pre-launch\n                 : (elapsed - 2) * 10; // Start from zero at ignition, then accelerate\n                // Altitude starts at 0 then increases with acceleration\n                let newAltitude = elapsed < 2 ? 0 // Stay at 0 during pre-launch\n                 : Math.pow(elapsed - 2, 2) * 2; // Quadratic increase after\n                // Cap at reasonable values\n                newSpeed = Math.min(newSpeed, 1000);\n                newAltitude = Math.min(newAltitude, 5000);\n                setForcedSpeed(newSpeed);\n                setForcedAltitude(newAltitude);\n                // Continue animation\n                requestAnimationFrame(updateDisplayValues);\n            };\n            // Start the animation loop\n            requestAnimationFrame(updateDisplayValues);\n        } else if (!isLaunched) {\n            // Reset on launch end\n            launchTimeRef.current = null;\n            setForcedSpeed(0);\n            setForcedAltitude(0);\n        }\n    }, [\n        isLaunched\n    ]);\n    // Use our forced values during flight, fall back to physics values if needed\n    const displaySpeed = isLaunched ? forcedSpeed > 0 ? forcedSpeed : speed : maxSpeed;\n    const displayAltitude = isLaunched ? forcedAltitude > 0 ? forcedAltitude : altitude : maxAltitude;\n    // Format display values to prevent NaN\n    const getDisplayValue = (value)=>{\n        if (isNaN(value)) return \"0.0\";\n        return value.toFixed(1);\n    };\n    // Handle button click with debounce\n    const handleButtonClick = (e)=>{\n        // Prevent any UI repositioning\n        e.preventDefault();\n        e.stopPropagation();\n        // Prevent rapid clicks\n        if (isTransitioning.current) return;\n        // Lock during transition - longer for reset transitions\n        isTransitioning.current = true;\n        if (isLaunched) {\n            // Signal animation to stop immediately\n            launchTimeRef.current = null;\n            setForcedSpeed(0);\n            setForcedAltitude(0);\n            // For reset, need a longer transition lock\n            resetRocket();\n            // Set a longer timeout for reset transitions\n            setTimeout(()=>{\n                isTransitioning.current = false;\n            }, 500);\n        } else {\n            // Launch transitions are faster\n            launchRocket();\n            setTimeout(()=>{\n                isTransitioning.current = false;\n            }, 300);\n        }\n    };\n    // Refined dashboard position based on device and browser specifics\n    const getDashboardPosition = ()=>{\n        if (isMobile) {\n            // Mobile device detection\n            if (isIOS && isSafari) {\n                return \"bottom-[12%]\"; // Mobile iOS Safari needs extra space for bottom bar\n            } else if (isChrome) {\n                return \"bottom-[18%]\"; // Mobile Chrome\n            } else {\n                return \"bottom-[15%]\"; // Other mobile browsers\n            }\n        } else {\n            // Desktop handling\n            if (isMacOS && isSafari) {\n                return \"bottom-4\"; // Desktop Safari on MacOS - no need for extra margin\n            } else if (isSafari) {\n                return \"bottom-5\"; // Other Safari instances\n            } else {\n                return \"bottom-4\"; // Desktop Chrome and others\n            }\n        }\n    };\n    const dashboardPosition = getDashboardPosition();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `absolute left-0 right-0 mx-auto z-20 flex flex-col items-center \n      ${isMobile ? `w-full ${dashboardPosition}` : `w-[320px] ${dashboardPosition}`}`,\n        style: {\n            height: \"110px\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-xs bg-black/30 backdrop-blur-xl rounded-3xl p-3 shadow-md\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full justify-between items-center px-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-2xl font-mono tracking-wider text-white/90\",\n                                    children: [\n                                        getDisplayValue(displaySpeed),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs ml-1 text-white/60\",\n                                            children: \"m/s\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                            lineNumber: 1745,\n                                            columnNumber: 110\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1745,\n                                    columnNumber: 13\n                                }, this),\n                                !isLaunched && maxSpeed > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-white/60\",\n                                    children: \"max\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1746,\n                                    columnNumber: 45\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1744,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.button, {\n                            className: `relative flex items-center justify-center w-14 h-14 rounded-full bg-black/40 shadow-md transition-all duration-200`,\n                            onClick: handleButtonClick,\n                            \"aria-label\": isLaunched ? \"Reset Rocket\" : \"Launch Rocket\",\n                            whileHover: {\n                                scale: 1.05,\n                                boxShadow: \"0 0 15px rgba(255,255,255,0.3)\"\n                            },\n                            whileTap: {\n                                scale: 0.95\n                            },\n                            transition: {\n                                type: \"spring\",\n                                stiffness: 500,\n                                damping: 15\n                            },\n                            style: {\n                                transform: \"translateX(2px)\"\n                            },\n                            children: isLaunched ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: \"24\",\n                                height: \"24\",\n                                viewBox: \"0 0 24 24\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4.01 7.58 4.01 12C4.01 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z\",\n                                    fill: \"white\",\n                                    fillOpacity: \"0.9\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1759,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1758,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                width: \"28\",\n                                height: \"28\",\n                                viewBox: \"0 0 28 28\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M14 3L17 15.5H11L14 3Z\",\n                                        fill: \"#FFFFFF\",\n                                        fillOpacity: \"0.9\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1763,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                        cx: \"14\",\n                                        cy: \"21\",\n                                        r: \"3\",\n                                        fill: \"#FFFFFF\",\n                                        fillOpacity: \"0.9\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1764,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1762,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1748,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-2xl font-mono tracking-wider text-white/90\",\n                                    children: [\n                                        getDisplayValue(displayAltitude),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs ml-1 text-white/60\",\n                                            children: \"m\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                            lineNumber: 1769,\n                                            columnNumber: 113\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1769,\n                                    columnNumber: 13\n                                }, this),\n                                !isLaunched && maxAltitude > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs text-white/60\",\n                                    children: \"max\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                    lineNumber: 1770,\n                                    columnNumber: 48\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1768,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1743,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-3/4 mt-2 flex items-center mx-auto h-6\",\n                    style: {\n                        minHeight: \"24px\"\n                    },\n                    children: !isLaunched && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative w-full h-6 flex items-center px-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"0\",\n                                        max: \"1\",\n                                        step: \"0.01\",\n                                        value: throttle,\n                                        onChange: (e)=>setThrottle(parseFloat(e.target.value)),\n                                        className: \"absolute w-full appearance-none bg-transparent cursor-pointer z-10\",\n                                        style: {\n                                            WebkitAppearance: \"none\",\n                                            appearance: \"none\",\n                                            height: \"1.5rem\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1777,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute top-1/2 transform -translate-y-1/2 left-1 right-1 flex justify-between\",\n                                        children: [\n                                            0,\n                                            0.25,\n                                            0.5,\n                                            0.75,\n                                            1\n                                        ].map((mark)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-0.5 h-1.5 bg-white/30\"\n                                            }, mark, false, {\n                                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                                lineNumber: 1793,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                        lineNumber: 1791,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1776,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-white/70 ml-2 w-8\",\n                                children: [\n                                    Math.round(throttle * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 1797,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1773,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n            lineNumber: 1742,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1738,\n        columnNumber: 5\n    }, this);\n}\nfunction MiddlePanel({ isMobile = false, isSmallDesktop = false }) {\n    // State management\n    const [view, setView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"perspective\");\n    const [selectedPart, setSelectedPart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLaunched, setIsLaunched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [throttle, setThrottle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.8);\n    const [resetTrigger, setResetTrigger] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Fixed ground position that places rocket on top of grid\n    const GROUND_Y = -2.8; // Updated to match the grid position\n    const GROUND_POSITION = [\n        0,\n        GROUND_Y,\n        0\n    ];\n    const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(GROUND_POSITION);\n    const [velocity, setVelocity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        0,\n        0\n    ]);\n    const [maxAltitude, setMaxAltitude] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [maxSpeed, setMaxSpeed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Update flight data from simulation\n    const updateFlightData = (pos, vel)=>{\n        // Ensure we're not getting NaN values\n        if (pos.some(isNaN) || vel.some(isNaN)) return;\n        // Log every position update\n        console.log(`PARENT update: pos=${pos[1].toFixed(2)}, vel=${vel[1].toFixed(2)}`);\n        // Clone the arrays to ensure we break references\n        const newPos = [\n            ...pos\n        ];\n        const newVel = [\n            ...vel\n        ];\n        // Set the new position and velocity immediately - removed requestAnimationFrame\n        setPosition(newPos);\n        setVelocity(newVel);\n    };\n    // Reset rocket function - ensures grid stays in place\n    const resetRocket = ()=>{\n        // Set a flag to prevent UI updates during transition\n        window.dispatchEvent(new CustomEvent(\"rocketResetPrepare\", {\n            detail: {\n                transitioning: true\n            }\n        }));\n        // Important: Use requestAnimationFrame to sync with render cycle\n        requestAnimationFrame(()=>{\n            // First stop launch state (this must happen before position changes)\n            setIsLaunched(false);\n            // Then in the next frame (after React has processed the state change)\n            requestAnimationFrame(()=>{\n                // Set position exactly at ground level\n                setPosition(GROUND_POSITION);\n                setVelocity([\n                    0,\n                    0,\n                    0\n                ]);\n                // Trigger reset animation in rocket\n                setResetTrigger(true);\n                // Wait for reset to complete\n                setTimeout(()=>{\n                    setResetTrigger(false);\n                    // Double-check position after reset\n                    setPosition(GROUND_POSITION);\n                    setVelocity([\n                        0,\n                        0,\n                        0\n                    ]);\n                    // Notify that transition has completed\n                    window.dispatchEvent(new CustomEvent(\"rocketResetComplete\", {\n                        detail: {\n                            position: GROUND_POSITION\n                        }\n                    }));\n                }, 50);\n            });\n        });\n    };\n    // Launch rocket with immediate response\n    const launchRocket = ()=>{\n        // If already launched, reset first to prevent any visual jumps\n        if (isLaunched) {\n            resetRocket();\n            // Wait for a few frames to ensure smooth visual transition\n            setTimeout(()=>{\n                initiateActualLaunch();\n            }, 50);\n        } else {\n            // Not launched, so we can start directly\n            initiateActualLaunch();\n        }\n    };\n    // Helper function to handle actual launch sequence\n    const initiateActualLaunch = ()=>{\n        // Important: Use requestAnimationFrame to sync with render cycle\n        requestAnimationFrame(()=>{\n            // First ensure exact ground position\n            setPosition(GROUND_POSITION);\n            // Start with zero velocity\n            setVelocity([\n                0,\n                0,\n                0\n            ]);\n            // Then set launch state\n            setIsLaunched(true);\n            // Trigger an immediate dashboard update for user feedback\n            // This will make the dashboard respond right away\n            const initialSpeedDisplay = [\n                0,\n                0.01,\n                0\n            ];\n            updateFlightData(GROUND_POSITION, initialSpeedDisplay);\n            // Notify any components that need to respond to launch\n            window.dispatchEvent(new CustomEvent(\"rocketLaunchInitiated\", {\n                detail: {\n                    position: GROUND_POSITION,\n                    throttle\n                }\n            }));\n        });\n    };\n    // Listen for component highlight events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleHighlight = (e)=>setSelectedPart(e.detail);\n        window.addEventListener(\"highlightComponent\", handleHighlight);\n        return ()=>window.removeEventListener(\"highlightComponent\", handleHighlight);\n    }, []);\n    // Listen for nose cone click events to reset camera view\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResetCameraView = ()=>{\n            console.log(\"Handling reset camera view event\");\n            setView(\"perspective\");\n            // Reset compass when camera view is reset\n            handleViewReset();\n        };\n        // Also reset compass when reset button is clicked\n        const handleViewReset = ()=>{\n            if (false) {}\n        };\n        window.addEventListener(\"resetCameraView\", handleResetCameraView);\n        return ()=>{\n            window.removeEventListener(\"resetCameraView\", handleResetCameraView);\n        };\n    }, []);\n    // Calculate speed and altitude\n    // Updated altitude calculation to use standardized GROUND_Y\n    const altitude = Math.max(0, position[1] - GROUND_Y);\n    const speed = Math.sqrt(velocity[0] * velocity[0] + velocity[1] * velocity[1] + velocity[2] * velocity[2]);\n    // Update max values during flight\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isLaunched && !isNaN(speed) && !isNaN(altitude)) {\n            if (speed > maxSpeed) setMaxSpeed(speed);\n            if (altitude > maxAltitude) setMaxAltitude(altitude);\n        } else if (resetTrigger) {\n            setMaxSpeed(0);\n            setMaxAltitude(0);\n        }\n    }, [\n        speed,\n        altitude,\n        isLaunched,\n        resetTrigger,\n        maxSpeed,\n        maxAltitude\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 w-full h-full overflow-hidden\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_fiber__WEBPACK_IMPORTED_MODULE_7__.Canvas, {\n                    shadows: true,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCamera, {\n                            isLaunched: isLaunched,\n                            target: position,\n                            view: view\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1970,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CustomOrbitControls, {\n                            position: position,\n                            view: view\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1977,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ambientLight\", {\n                            intensity: 0.25\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1980,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"directionalLight\", {\n                            position: [\n                                8,\n                                10,\n                                5\n                            ],\n                            intensity: 0.7,\n                            castShadow: true,\n                            \"shadow-mapSize\": [\n                                1024,\n                                1024\n                            ],\n                            \"shadow-camera-far\": 50,\n                            \"shadow-camera-left\": -10,\n                            \"shadow-camera-right\": 10,\n                            \"shadow-camera-top\": 10,\n                            \"shadow-camera-bottom\": -10\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1981,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"directionalLight\", {\n                            position: [\n                                -6,\n                                3,\n                                -5\n                            ],\n                            intensity: 0.25\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1992,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"spotLight\", {\n                            position: [\n                                0,\n                                -2,\n                                10\n                            ],\n                            intensity: 0.4,\n                            angle: 0.6,\n                            penumbra: 0.5,\n                            distance: 20,\n                            color: \"#5eead4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 1993,\n                            columnNumber: 11\n                        }, this),\n                        isLaunched && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                            position: [\n                                0,\n                                GROUND_Y,\n                                0\n                            ],\n                            intensity: 2,\n                            distance: 15,\n                            color: \"#ff8866\",\n                            decay: 2\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 2004,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_8__.Environment, {\n                            preset: \"night\"\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 2013,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_9__.ContactShadows, {\n                            position: [\n                                0,\n                                GROUND_Y + 0.01,\n                                0\n                            ],\n                            opacity: 0.4,\n                            scale: 15,\n                            blur: 2.5,\n                            far: 5,\n                            resolution: 512,\n                            color: \"#001133\",\n                            frames: 1\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 2015,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_10__.Grid, {\n                            infiniteGrid: true,\n                            cellSize: 0.5,\n                            cellThickness: 0.5,\n                            sectionSize: 2,\n                            sectionThickness: 1,\n                            fadeDistance: 30,\n                            fadeStrength: 1.5,\n                            cellColor: \"#00eaff\",\n                            sectionColor: \"#ec4899\",\n                            position: [\n                                0,\n                                GROUND_Y,\n                                0\n                            ]\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 2027,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                            fallback: null,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RocketSimulation, {\n                                selected: selectedPart !== null,\n                                isLaunched: isLaunched,\n                                throttle: throttle,\n                                resetTrigger: resetTrigger,\n                                setFlightData: updateFlightData,\n                                highlightedPart: selectedPart\n                            }, `rocket-${isLaunched ? \"launched\" : \"idle\"}-${resetTrigger ? \"reset\" : \"normal\"}`, false, {\n                                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                                lineNumber: 2041,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                            lineNumber: 2039,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                    lineNumber: 1969,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 1968,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ViewportControls, {\n                view: view,\n                setView: setView,\n                isMobile: isMobile\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 2055,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LaunchData, {\n                isLaunched: isLaunched,\n                setIsLaunched: setIsLaunched,\n                throttle: throttle,\n                setThrottle: setThrottle,\n                resetRocket: resetRocket,\n                launchRocket: launchRocket,\n                speed: isNaN(speed) ? 0 : speed,\n                altitude: isNaN(altitude) ? 0 : altitude,\n                maxSpeed: isNaN(maxSpeed) ? 0 : maxSpeed,\n                maxAltitude: isNaN(maxAltitude) ? 0 : maxAltitude,\n                isMobile: isMobile\n            }, void 0, false, {\n                fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n                lineNumber: 2057,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/2kayyyy/Desktop/Projects/rocketv2/components/panels/MiddlePanel.tsx\",\n        lineNumber: 1966,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDWkMsVUFBVUE7Z0NBQ1Y4SCxjQUFjQTtnQ0FDZEMsZUFBZXNSO2dDQUNmeFcsaUJBQWlCbVc7K0JBTlosQ0FBQyxPQUFPLEVBQUVqWixhQUFhLGFBQWEsT0FBTyxDQUFDLEVBQUUrSCxlQUFlLFVBQVUsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBYTlGLDhEQUFDb0U7Z0JBQWlCM0gsTUFBTUE7Z0JBQU00SCxTQUFTQTtnQkFBU0MsVUFBVUE7Ozs7OzswQkFFMUQsOERBQUM4STtnQkFDQ25WLFlBQVlBO2dCQUNab1YsZUFBZUE7Z0JBQ2ZuVixVQUFVQTtnQkFDVm9WLGFBQWFBO2dCQUNiQyxhQUFhQTtnQkFDYkMsY0FBY0E7Z0JBQ2RDLE9BQU9pQyxNQUFNakMsU0FBUyxJQUFJQTtnQkFDMUIvTyxVQUFVZ1IsTUFBTWhSLFlBQVksSUFBSUE7Z0JBQ2hDZ1AsVUFBVWdDLE1BQU1oQyxZQUFZLElBQUlBO2dCQUNoQ0MsYUFBYStCLE1BQU0vQixlQUFlLElBQUlBO2dCQUN0Q3JKLFVBQVVBOzs7Ozs7Ozs7Ozs7QUFJbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrZXRzaW0vLi9jb21wb25lbnRzL3BhbmVscy9NaWRkbGVQYW5lbC50c3g/ZTkzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyBTdXNwZW5zZSwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDYW52YXMsIHVzZUZyYW1lLCB1c2VUaHJlZSB9IGZyb20gJ0ByZWFjdC10aHJlZS9maWJlcidcbmltcG9ydCB7IFxuICBPcmJpdENvbnRyb2xzLCBcbiAgUGVyc3BlY3RpdmVDYW1lcmEsIFxuICBHcmlkLCBcbiAgRW52aXJvbm1lbnQsIFxuICBDb250YWN0U2hhZG93cyBcbn0gZnJvbSAnQHJlYWN0LXRocmVlL2RyZWknXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nXG5cbi8vIE9wdGltaXplZCBmbGFtZSBjb21wb25lbnQgZm9yIHJvY2tldCBlbmdpbmVcbmZ1bmN0aW9uIFJvY2tldEZsYW1lKHsgaXNMYXVuY2hlZCwgdGhyb3R0bGUgPSAwLCBwcmVMYXVuY2hGaXJlID0gZmFsc2UsIGNvdW50ZG93blN0YWdlID0gMCB9OiB7IFxuICBpc0xhdW5jaGVkOiBib29sZWFuLCBcbiAgdGhyb3R0bGU6IG51bWJlciwgXG4gIHByZUxhdW5jaEZpcmU/OiBib29sZWFuLFxuICBjb3VudGRvd25TdGFnZT86IG51bWJlclxufSkge1xuICBjb25zdCBmbGFtZVJlZiA9IHVzZVJlZjxUSFJFRS5Hcm91cD4obnVsbCk7XG4gIGNvbnN0IGZsYW1lVmFyaWF0aW9uID0gdXNlUmVmKHsgc2NhbGVZOiAwLCBzY2FsZVg6IDAsIHNjYWxlWjogMCB9KTtcbiAgY29uc3QgbGF1bmNoVGltZSA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgXG4gIHVzZUZyYW1lKChzdGF0ZSkgPT4ge1xuICAgIGlmICghZmxhbWVSZWYuY3VycmVudCB8fCAoIWlzTGF1bmNoZWQgJiYgIXByZUxhdW5jaEZpcmUpKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdGltZSA9IHN0YXRlLmNsb2NrLmdldEVsYXBzZWRUaW1lKCk7XG4gICAgXG4gICAgLy8gVHJhY2sgd2hlbiBsYXVuY2ggYmVnaW5zXG4gICAgaWYgKGlzTGF1bmNoZWQgJiYgbGF1bmNoVGltZS5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICBsYXVuY2hUaW1lLmN1cnJlbnQgPSB0aW1lO1xuICAgIH0gZWxzZSBpZiAoIWlzTGF1bmNoZWQpIHtcbiAgICAgIGxhdW5jaFRpbWUuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIERldGVybWluZSBlZmZlY3RpdmUgdGhyb3R0bGUgLSBlbmhhbmNlZCBmb3IgbW9yZSBkcmFtYXRpYyBlZmZlY3QgZHVyaW5nIGxhdW5jaFxuICAgIGxldCBlZmZlY3RpdmVUaHJvdHRsZTtcbiAgICAgIGlmIChpc0xhdW5jaGVkKSB7XG4gICAgICBpZiAobGF1bmNoVGltZS5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhdW5jaCA9IHRpbWUgLSBsYXVuY2hUaW1lLmN1cnJlbnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBHcm91bmQgZmlyZSBwaGFzZSAoMC0yIHNlY29uZHMpOiBpbnRlbnNlIHB1bHNpbmcgZWZmZWN0XG4gICAgICAgIGlmICh0aW1lU2luY2VMYXVuY2ggPCAyLjApIHtcbiAgICAgICAgICAvLyBNb3JlIGRyYW1hdGljIHB1bHNpbmcgZHVyaW5nIGdyb3VuZCBwaGFzZVxuICAgICAgICAgIGVmZmVjdGl2ZVRocm90dGxlID0gMS40ICsgTWF0aC5zaW4odGltZVNpbmNlTGF1bmNoICogNikgKiAwLjQgKyBNYXRoLnNpbih0aW1lU2luY2VMYXVuY2ggKiAyMCkgKiAwLjI7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZVNpbmNlTGF1bmNoIDwgMi41KSB7XG4gICAgICAgICAgLy8gQ3Jlc2NlbmRvIGJlZm9yZSBsaWZ0b2ZmIChmaW5hbCBidWlsZHVwKVxuICAgICAgICAgIGVmZmVjdGl2ZVRocm90dGxlID0gMS44ICsgTWF0aC5zaW4odGltZVNpbmNlTGF1bmNoICogMzApICogMC41O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFN1c3RhaW5lZCBzdHJvbmcgZmxhbWUgYWZ0ZXIgbGlmdG9mZlxuICAgICAgICAgIGVmZmVjdGl2ZVRocm90dGxlID0gdGhyb3R0bGUgKiAxLjYgKyBNYXRoLnNpbih0aW1lICogMTUpICogMC4xNTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWZmZWN0aXZlVGhyb3R0bGUgPSB0aHJvdHRsZSAqIDEuNDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUHJlLWxhdW5jaCBtb3JlIHN1YmR1ZWQgZmxhbWVcbiAgICAgIGVmZmVjdGl2ZVRocm90dGxlID0gMC44OyAvLyBTbGlnaHRseSBpbmNyZWFzZWQgZnJvbSAwLjdcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHNtb290aCB2YXJpYXRpb25zIHVzaW5nIHNpbmUgd2F2ZXMgLSBtb3JlIGRyYW1hdGljIGZvciBsYXVuY2hcbiAgICBjb25zdCBmbGFtZUZyZXF1ZW5jeSA9IGlzTGF1bmNoZWQgPyAxNSA6IDEwO1xuICAgIFxuICAgIC8vIFNtb290aCBpbnRlcnBvbGF0aW9uIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgbGVzcyBqaXR0ZXJcbiAgICBmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWSA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKFxuICAgICAgZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVksXG4gICAgICAwLjggKyBNYXRoLnNpbih0aW1lICogZmxhbWVGcmVxdWVuY3kpICogMC4zICsgTWF0aC5zaW4odGltZSAqIDE3KSAqIDAuMSxcbiAgICAgIGlzTGF1bmNoZWQgPyAwLjMgOiAwLjJcbiAgICApO1xuICAgIFxuICAgIC8vIEFwcGx5IGZsYW1lIHNjYWxlIHdpdGggc21vb3RoIG1vZHVsYXRpb24gLSBsYXJnZXIgZm9yIGFjdHVhbCBsYXVuY2hcbiAgICBjb25zdCBiYXNlU2NhbGVNdWx0aXBsaWVyID0gaXNMYXVuY2hlZCA/IDIuMCA6IDEuODtcbiAgICBmbGFtZVJlZi5jdXJyZW50LnNjYWxlLnkgPSBmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWSAqICgwLjUgKyBlZmZlY3RpdmVUaHJvdHRsZSAqIGJhc2VTY2FsZU11bHRpcGxpZXIpO1xuICAgIFxuICAgIC8vIFNtb290aCBYL1ogc2NhbGUgdmFyaWF0aW9uIC0gbW9yZSBkcmFtYXRpYyBkdXJpbmcgbGF1bmNoXG4gICAgY29uc3QgeHpWYXJpYXRpb24gPSBpc0xhdW5jaGVkID8gMC4xNSA6IDAuMTtcbiAgICBjb25zdCBuZXdTY2FsZVggPSAwLjcgKyBNYXRoLnNpbih0aW1lICogMTIpICogeHpWYXJpYXRpb24gKyBNYXRoLnNpbih0aW1lICogMjMpICogKHh6VmFyaWF0aW9uLzIpO1xuICAgIGNvbnN0IG5ld1NjYWxlWiA9IDAuNyArIE1hdGguY29zKHRpbWUgKiAxNCkgKiB4elZhcmlhdGlvbiArIE1hdGguY29zKHRpbWUgKiAxOSkgKiAoeHpWYXJpYXRpb24vMik7XG4gICAgXG4gICAgZmxhbWVWYXJpYXRpb24uY3VycmVudC5zY2FsZVggPSBUSFJFRS5NYXRoVXRpbHMubGVycChmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWCwgbmV3U2NhbGVYLCAwLjE1KTtcbiAgICBmbGFtZVZhcmlhdGlvbi5jdXJyZW50LnNjYWxlWiA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKGZsYW1lVmFyaWF0aW9uLmN1cnJlbnQuc2NhbGVaLCBuZXdTY2FsZVosIDAuMTUpO1xuICAgIFxuICAgIGZsYW1lUmVmLmN1cnJlbnQuc2NhbGUueCA9IGZsYW1lVmFyaWF0aW9uLmN1cnJlbnQuc2NhbGVYO1xuICAgIGZsYW1lUmVmLmN1cnJlbnQuc2NhbGUueiA9IGZsYW1lVmFyaWF0aW9uLmN1cnJlbnQuc2NhbGVaO1xuICB9KTtcblxuICBpZiAoIWlzTGF1bmNoZWQgJiYgIXByZUxhdW5jaEZpcmUpIHJldHVybiBudWxsO1xuICBcbiAgLy8gQWRqdXN0ZWQgZmxhbWUgcG9zaXRpb24gdG8gYWxpZ24gd2l0aCB0aGUgcm9ja2V0IGVuZ2luZVxuICByZXR1cm4gKFxuICAgIDxncm91cCByZWY9e2ZsYW1lUmVmfSBwb3NpdGlvbj17WzAsIC0zLCAwXX0+XG4gICAgICB7LyogTWFpbiBvdXRlciBmbGFtZSAtIGJyaWdodGVyIGFuZCBtb3JlIGludGVuc2UgKi99XG4gICAgICA8bWVzaD5cbiAgICAgICAgPGNvbmVHZW9tZXRyeSBhcmdzPXtbMC41LCAyLjMsIDI0XX0gLz4gey8qIFNsaWdodGx5IGxhcmdlciBmbGFtZSBjb25lICovfVxuICAgICAgICA8bWVzaEJhc2ljTWF0ZXJpYWwgY29sb3I9XCIjRkY0NDAwXCIgdHJhbnNwYXJlbnQgb3BhY2l0eT17MC44NX0gLz5cbiAgICAgIDwvbWVzaD5cbiAgICAgIHsvKiBNaWRkbGUgZmxhbWUgbGF5ZXIgKi99XG4gICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIC0wLjEsIDBdfT5cbiAgICAgICAgPGNvbmVHZW9tZXRyeSBhcmdzPXtbMC4zOCwgMS45LCAyMF19IC8+IHsvKiBTbGlnaHRseSBsYXJnZXIgZmxhbWUgY29uZSAqL31cbiAgICAgICAgPG1lc2hCYXNpY01hdGVyaWFsIGNvbG9yPVwiI0ZGNzcwMFwiIHRyYW5zcGFyZW50IG9wYWNpdHk9ezAuOX0gLz5cbiAgICAgIDwvbWVzaD5cbiAgICAgIHsvKiBIb3QgaW5uZXIgZmxhbWUgKi99XG4gICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIC0wLjIsIDBdfT5cbiAgICAgICAgPGNvbmVHZW9tZXRyeSBhcmdzPXtbMC4yOCwgMS41LCAxNl19IC8+IHsvKiBTbGlnaHRseSBsYXJnZXIgZmxhbWUgY29uZSAqL31cbiAgICAgICAgPG1lc2hCYXNpY01hdGVyaWFsIGNvbG9yPVwiI0ZGQ0MwMFwiIHRyYW5zcGFyZW50IG9wYWNpdHk9ezAuOTV9IC8+XG4gICAgICA8L21lc2g+XG4gICAgICB7LyogU3Ryb25nZXIgbGlnaHRzIGZvciBiZXR0ZXIgdmlzdWFsIGltcGFjdCAqL31cbiAgICAgIDxwb2ludExpZ2h0IGNvbG9yPVwiI0ZGNTUwMFwiIGludGVuc2l0eT17aXNMYXVuY2hlZCA/IDkgKiB0aHJvdHRsZSA6IDcgKiB0aHJvdHRsZX0gZGlzdGFuY2U9ezd9IC8+IHsvKiBJbmNyZWFzZWQgaW50ZW5zaXR5IGFuZCBkaXN0YW5jZSAqL31cbiAgICAgIDxwb2ludExpZ2h0IGNvbG9yPVwiI0ZGQUEwMFwiIGludGVuc2l0eT17aXNMYXVuY2hlZCA/IDYgKiB0aHJvdHRsZSA6IDUgKiB0aHJvdHRsZX0gZGlzdGFuY2U9ezR9IC8+IHsvKiBJbmNyZWFzZWQgaW50ZW5zaXR5IGFuZCBkaXN0YW5jZSAqL31cbiAgICA8L2dyb3VwPlxuICApO1xufVxuXG4vLyBPcHRpbWl6ZWQgcm9ja2V0IG1vZGVsIGNvbXBvbmVudFxuZnVuY3Rpb24gUm9ja2V0TW9kZWwoeyBcbiAgc2VsZWN0ZWQsIFxuICBpc0xhdW5jaGVkLCBcbiAgdGhyb3R0bGUsXG4gIGhpZ2hsaWdodGVkUGFydCxcbiAgcHJlTGF1bmNoRmlyZSA9IGZhbHNlLFxuICBjb3VudGRvd25TdGFnZSA9IDAsXG4gIHByZXNlcnZlUm90YXRpb24gPSBmYWxzZSAvLyBBZGQgbmV3IHByb3AgdG8gY29udHJvbCByb3RhdGlvbiBwcmVzZXJ2YXRpb25cbn06IHsgXG4gIHNlbGVjdGVkOiBib29sZWFuLCBcbiAgaXNMYXVuY2hlZDogYm9vbGVhbixcbiAgdGhyb3R0bGU6IG51bWJlcixcbiAgaGlnaGxpZ2h0ZWRQYXJ0OiBzdHJpbmcgfCBudWxsLFxuICBwcmVMYXVuY2hGaXJlPzogYm9vbGVhbixcbiAgY291bnRkb3duU3RhZ2U/OiBudW1iZXIsXG4gIHByZXNlcnZlUm90YXRpb24/OiBib29sZWFuIC8vIEFkZCB0eXBlIGZvciBuZXcgcHJvcFxufSkge1xuICBjb25zdCByb2NrZXRSZWYgPSB1c2VSZWY8VEhSRUUuR3JvdXA+KG51bGwpXG4gIGNvbnN0IGJvZHlSYWRpdXMgPSAwLjVcbiAgXG4gIHVzZUZyYW1lKChfLCBkZWx0YSkgPT4ge1xuICAgIC8vIE9ubHkgcm90YXRlIGZvciBkaXNwbGF5IHdoZW4gbmVpdGhlciBzZWxlY3RlZCBub3IgbGF1bmNoZWRcbiAgICBpZiAocm9ja2V0UmVmLmN1cnJlbnQgJiYgIXNlbGVjdGVkICYmICFpc0xhdW5jaGVkICYmICFwcmVMYXVuY2hGaXJlKSB7XG4gICAgICByb2NrZXRSZWYuY3VycmVudC5yb3RhdGlvbi55ICs9IGRlbHRhICogMC4xXG4gICAgfSBlbHNlIGlmIChyb2NrZXRSZWYuY3VycmVudCAmJiBwcmVMYXVuY2hGaXJlICYmICFwcmVzZXJ2ZVJvdGF0aW9uKSB7XG4gICAgICAvLyBPbmx5IHJlc2V0IHJvdGF0aW9uIGR1cmluZyBwcmUtbGF1bmNoIGlmIHByZXNlcnZlUm90YXRpb24gaXMgZmFsc2VcbiAgICAgIHJvY2tldFJlZi5jdXJyZW50LnJvdGF0aW9uLnggPSBUSFJFRS5NYXRoVXRpbHMubGVycChyb2NrZXRSZWYuY3VycmVudC5yb3RhdGlvbi54LCAwLCAwLjEpO1xuICAgICAgcm9ja2V0UmVmLmN1cnJlbnQucm90YXRpb24ueiA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKHJvY2tldFJlZi5jdXJyZW50LnJvdGF0aW9uLnosIDAsIDAuMSk7XG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IGhpZ2hsaWdodEVtaXNzaXZlID0gXCIjMDBBQUZGXCJcbiAgY29uc3QgaGlnaGxpZ2h0SW50ZW5zaXR5ID0gMC41XG5cbiAgY29uc3QgZ2V0RW1pc3NpdmUgPSAocGFydDogc3RyaW5nKSA9PiBoaWdobGlnaHRlZFBhcnQgPT09IHBhcnQgPyBoaWdobGlnaHRFbWlzc2l2ZSA6IChzZWxlY3RlZCA/IFwiI0ZGRkZGRlwiIDogXCIjMDAwMDAwXCIpXG4gIGNvbnN0IGdldEVtaXNzaXZlSW50ZW5zaXR5ID0gKHBhcnQ6IHN0cmluZykgPT4gaGlnaGxpZ2h0ZWRQYXJ0ID09PSBwYXJ0ID8gaGlnaGxpZ2h0SW50ZW5zaXR5IDogKHNlbGVjdGVkID8gMC4xIDogMClcblxuICAvLyBBZGp1c3QgdGhlIGVudGlyZSByb2NrZXQgdG8gc2l0IHByb3Blcmx5IG9uIHRoZSBncmlkXG4gIHJldHVybiAoXG4gICAgPGdyb3VwIHJlZj17cm9ja2V0UmVmfSBwb3NpdGlvbj17WzAsIDAuOCwgMF19PlxuICAgICAgey8qIFVwcGVyIGJvZHkgKi99XG4gICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIDEuMiwgMF19IG5hbWU9XCJ1cHBlci1haXJmcmFtZVwiPlxuICAgICAgICA8Y3lsaW5kZXJHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cywgYm9keVJhZGl1cywgMS42LCAzMl19IC8+XG4gICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICBjb2xvcj1cIiM4QzhEOTFcIiBcbiAgICAgICAgICBtZXRhbG5lc3M9ezAuNn0gXG4gICAgICAgICAgcm91Z2huZXNzPXswLjJ9IFxuICAgICAgICAgIGVtaXNzaXZlPXtnZXRFbWlzc2l2ZSgnYWlyZnJhbWUnKX1cbiAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eT17Z2V0RW1pc3NpdmVJbnRlbnNpdHkoJ2FpcmZyYW1lJyl9XG4gICAgICAgIC8+XG4gICAgICA8L21lc2g+XG4gICAgICBcbiAgICAgIHsvKiBMb3dlciBib2R5ICovfVxuICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAtMC44LCAwXX0gbmFtZT1cImxvd2VyLWFpcmZyYW1lXCI+XG4gICAgICAgIDxjeWxpbmRlckdlb21ldHJ5IGFyZ3M9e1tib2R5UmFkaXVzLCBib2R5UmFkaXVzLCAyLjQsIDMyXX0gLz5cbiAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgIGNvbG9yPVwiIzhDOEQ5MVwiIFxuICAgICAgICAgIG1ldGFsbmVzcz17MC42fSBcbiAgICAgICAgICByb3VnaG5lc3M9ezAuMn0gXG4gICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdhaXJmcmFtZScpfVxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgnYWlyZnJhbWUnKX1cbiAgICAgICAgLz5cbiAgICAgIDwvbWVzaD5cbiAgICAgIFxuICAgICAgey8qIFRvcCByaW5nICovfVxuICAgICAgPG1lc2ggcG9zaXRpb249e1swLCAyLCAwXX0+XG4gICAgICAgIDx0b3J1c0dlb21ldHJ5IGFyZ3M9e1tib2R5UmFkaXVzLCAwLjAzLCAxNiwgMzJdfSAvPlxuICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgY29sb3I9XCIjRkZGRkZGXCIgLz5cbiAgICAgIDwvbWVzaD5cbiAgICAgIFxuICAgICAgey8qIE5vc2UgY29uZSAqL31cbiAgICAgIDxtZXNoIHBvc2l0aW9uPXtbMCwgMi43NSwgMF19IG5hbWU9XCJub3NlY29uZVwiPlxuICAgICAgICA8Y29uZUdlb21ldHJ5IGFyZ3M9e1tib2R5UmFkaXVzLCAxLjUsIDMyXX0gLz5cbiAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgIGNvbG9yPVwiI0EwQTdCOFwiIFxuICAgICAgICAgIG1ldGFsbmVzcz17MC43fSBcbiAgICAgICAgICByb3VnaG5lc3M9ezAuMn0gXG4gICAgICAgICAgZW1pc3NpdmU9e2dldEVtaXNzaXZlKCdub3NlY29uZScpfVxuICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgnbm9zZWNvbmUnKX1cbiAgICAgICAgLz5cbiAgICAgIDwvbWVzaD5cbiAgICAgIFxuICAgICAgey8qIEVsZWN0cm9uaWNzIGJheSAqL31cbiAgICAgIDxncm91cCBwb3NpdGlvbj17WzAsIDAuNCwgMF19IG5hbWU9XCJlbGVjdHJvbmljc1wiPlxuICAgICAgICA8bWVzaD5cbiAgICAgICAgICA8Y3lsaW5kZXJHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cyArIDAuMDEsIGJvZHlSYWRpdXMgKyAwLjAxLCAwLjQsIDMyXX0gLz5cbiAgICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgXG4gICAgICAgICAgICBjb2xvcj1cIiMyMjIyMjJcIlxuICAgICAgICAgICAgbWV0YWxuZXNzPXswLjM1fVxuICAgICAgICAgICAgcm91Z2huZXNzPXswLjd9XG4gICAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ2VsZWN0cm9uaWNzJyl9XG4gICAgICAgICAgICBlbWlzc2l2ZUludGVuc2l0eT17Z2V0RW1pc3NpdmVJbnRlbnNpdHkoJ2VsZWN0cm9uaWNzJyl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9tZXNoPlxuICAgICAgICBcbiAgICAgICAgey8qIFJpbmdzICovfVxuICAgICAgICB7WzAuMiwgLTAuMl0ubWFwKCh5LCBpKSA9PiAoXG4gICAgICAgICAgPG1lc2gga2V5PXtpfSBwb3NpdGlvbj17WzAsIHksIDBdfT5cbiAgICAgICAgICA8dG9ydXNHZW9tZXRyeSBhcmdzPXtbYm9keVJhZGl1cyArIDAuMDEsIDAuMDIsIDE2LCAzMl19IC8+XG4gICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIGNvbG9yPVwiIzg4ODg4OFwiIG1ldGFsbmVzcz17MC44fSByb3VnaG5lc3M9ezAuMn0gLz5cbiAgICAgICAgPC9tZXNoPlxuICAgICAgICApKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBEZXRhaWxzICovfVxuICAgICAgICB7WzAsIDEsIDIsIDNdLm1hcCgoaSkgPT4gKFxuICAgICAgICAgIDxtZXNoIFxuICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgcG9zaXRpb249e1tcbiAgICAgICAgICAgICAgTWF0aC5zaW4oaSAqIE1hdGguUEkgLyAyKSAqIChib2R5UmFkaXVzIC0gMC4wNSksXG4gICAgICAgICAgICAgIDAsIFxuICAgICAgICAgICAgICBNYXRoLmNvcyhpICogTWF0aC5QSSAvIDIpICogKGJvZHlSYWRpdXMgLSAwLjA1KVxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIHJvdGF0aW9uPXtbMCwgaSAqIE1hdGguUEkgLyAyLCBNYXRoLlBJIC8gMl19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17WzAuMDQsIDAuMDQsIDAuMSwgOF19IC8+XG4gICAgICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgY29sb3I9XCIjNDQ0NDQ0XCIgbWV0YWxuZXNzPXswLjd9IHJvdWdobmVzcz17MC4zfSAvPlxuICAgICAgICAgIDwvbWVzaD5cbiAgICAgICAgKSl9XG4gICAgICA8L2dyb3VwPlxuICAgICAgXG4gICAgICB7LyogRmlucyAqL31cbiAgICAgIHtbMCwgMSwgMiwgM10ubWFwKChpKSA9PiAoXG4gICAgICAgIDxtZXNoIFxuICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICBwb3NpdGlvbj17W1xuICAgICAgICAgICAgTWF0aC5zaW4oaSAqIE1hdGguUEkgLyAyKSAqIDAuNixcbiAgICAgICAgICAgIC0xLjUsXG4gICAgICAgICAgICBNYXRoLmNvcyhpICogTWF0aC5QSSAvIDIpICogMC42XG4gICAgICAgICAgXX1cbiAgICAgICAgICByb3RhdGlvbj17WzAsIGkgKiBNYXRoLlBJIC8gMiwgMF19XG4gICAgICAgICAgbmFtZT1cImZpbnNcIlxuICAgICAgICA+XG4gICAgICAgICAgPGJveEdlb21ldHJ5IGFyZ3M9e1swLjEsIDEsIDAuOF19IC8+XG4gICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgICAgY29sb3I9XCIjQTBBN0I4XCIgXG4gICAgICAgICAgICBtZXRhbG5lc3M9ezAuM30gXG4gICAgICAgICAgICByb3VnaG5lc3M9ezAuM30gXG4gICAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ2ZpbnMnKX1cbiAgICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5PXtnZXRFbWlzc2l2ZUludGVuc2l0eSgnZmlucycpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbWVzaD5cbiAgICAgICkpfVxuICAgICAgXG4gICAgICB7LyogRW5naW5lICovfVxuICAgICAgPGdyb3VwIHBvc2l0aW9uPXtbMCwgLTIuMiwgMF19IG5hbWU9XCJlbmdpbmVcIj5cbiAgICAgICAgPG1lc2g+XG4gICAgICAgICAgPGN5bGluZGVyR2VvbWV0cnkgYXJncz17WzAuMzUsIDAuNCwgMC41LCAzMl19IC8+XG4gICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxuICAgICAgICAgICAgY29sb3I9XCIjMzAzMDMwXCIgXG4gICAgICAgICAgICBtZXRhbG5lc3M9ezAuN30gXG4gICAgICAgICAgICByb3VnaG5lc3M9ezAuM30gXG4gICAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ2VuZ2luZScpfVxuICAgICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk9e2dldEVtaXNzaXZlSW50ZW5zaXR5KCdlbmdpbmUnKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L21lc2g+XG4gICAgICAgIFxuICAgICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIC0wLjMsIDBdfT5cbiAgICAgICAgICA8Y29uZUdlb21ldHJ5IGFyZ3M9e1swLjQsIDAuNCwgMzIsIDEsIHRydWVdfSAvPlxuICAgICAgICAgIDxtZXNoU3RhbmRhcmRNYXRlcmlhbCBcbiAgICAgICAgICAgIGNvbG9yPVwiIzQwNDA0MFwiIFxuICAgICAgICAgICAgbWV0YWxuZXNzPXswLjd9IFxuICAgICAgICAgICAgcm91Z2huZXNzPXswLjJ9XG4gICAgICAgICAgICBlbWlzc2l2ZT17Z2V0RW1pc3NpdmUoJ2VuZ2luZScpfVxuICAgICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk9e2dldEVtaXNzaXZlSW50ZW5zaXR5KCdlbmdpbmUnKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L21lc2g+XG4gICAgICAgIFxuICAgICAgICA8bWVzaCBwb3NpdGlvbj17WzAsIC0wLjUsIDBdfSByb3RhdGlvbj17W01hdGguUEksIDAsIDBdfT5cbiAgICAgICAgICA8Y3lsaW5kZXJHZW9tZXRyeSBhcmdzPXtbMC4yOCwgMC4zMiwgMC4zLCAzMl19IC8+XG4gICAgICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIGNvbG9yPVwiIzExMTExMVwiIG1ldGFsbmVzcz17MC41fSByb3VnaG5lc3M9ezAuOH0gLz5cbiAgICAgICAgPC9tZXNoPlxuICAgICAgPC9ncm91cD5cblxuICAgICAgey8qIFBhcmFjaHV0ZSAqL31cbiAgICAgIDxtZXNoIHBvc2l0aW9uPXtbMCwgMS41LCAwXX0gbmFtZT1cInBhcmFjaHV0ZVwiPlxuICAgICAgICA8Y3lsaW5kZXJHZW9tZXRyeSBhcmdzPXtbMC4yLCAwLjIsIDAuMywgMTZdfSAvPlxuICAgICAgICA8bWVzaFN0YW5kYXJkTWF0ZXJpYWwgXG4gICAgICAgICAgY29sb3I9XCIjREQyMjIyXCIgXG4gICAgICAgICAgbWV0YWxuZXNzPXswLjJ9IFxuICAgICAgICAgIHJvdWdobmVzcz17MC41fVxuICAgICAgICAgIGVtaXNzaXZlPXtnZXRFbWlzc2l2ZSgncGFyYWNodXRlJyl9XG4gICAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk9e2dldEVtaXNzaXZlSW50ZW5zaXR5KCdwYXJhY2h1dGUnKX1cbiAgICAgICAgLz5cbiAgICAgIDwvbWVzaD5cblxuICAgICAgey8qIEZsYW1lICovfVxuICAgICAgPFJvY2tldEZsYW1lIFxuICAgICAgICBpc0xhdW5jaGVkPXtpc0xhdW5jaGVkfSBcbiAgICAgICAgdGhyb3R0bGU9e3Rocm90dGxlfSBcbiAgICAgICAgcHJlTGF1bmNoRmlyZT17cHJlTGF1bmNoRmlyZSB8fCBoaWdobGlnaHRlZFBhcnQgPT09ICdlbmdpbmUnfVxuICAgICAgICBjb3VudGRvd25TdGFnZT17cHJlTGF1bmNoRmlyZSA/IGNvdW50ZG93blN0YWdlIDogKGhpZ2hsaWdodGVkUGFydCA9PT0gJ2VuZ2luZScgPyAzIDogMCl9XG4gICAgICAvPlxuICAgIDwvZ3JvdXA+XG4gIClcbn1cblxuLy8gT3B0aW1pemVkIGR5bmFtaWMgY2FtZXJhIHRoYXQgZm9sbG93cyB0aGUgcm9ja2V0XG5mdW5jdGlvbiBEeW5hbWljQ2FtZXJhKHsgXG4gIGlzTGF1bmNoZWQsIFxuICB0YXJnZXQsXG4gIHZpZXdcbn06IHsgXG4gIGlzTGF1bmNoZWQ6IGJvb2xlYW4sXG4gIHRhcmdldDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICB2aWV3OiAndG9wJyB8ICdzaWRlJyB8ICdwZXJzcGVjdGl2ZSdcbn0pIHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhPihudWxsKTtcbiAgXG4gIC8vIENhbWVyYSBwb3NpdGlvbnMgYXJlIG5vdyBtb3JlIGRyYW1hdGljYWxseSBkaWZmZXJlbnQgZm9yIGVhY2ggdmlld1xuICBjb25zdCBpbml0aWFsUG9zaXRpb25zID0gdXNlUmVmPHtba2V5OiBzdHJpbmddOiBUSFJFRS5WZWN0b3IzfT4oe1xuICAgIHRvcDogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMTUsIDApLCAgICAgIC8vIERpcmVjdGx5IGFib3ZlXG4gICAgc2lkZTogbmV3IFRIUkVFLlZlY3RvcjMoMTUsIDAsIDApLCAgICAgLy8gUHVyZSBzaWRlIHZpZXdcbiAgICBwZXJzcGVjdGl2ZTogbmV3IFRIUkVFLlZlY3RvcjMoMTAsIDEwLCAxMCkgIC8vIElzb21ldHJpYyB2aWV3XG4gIH0pO1xuICBcbiAgLy8gQ2FtZXJhIHVwIHZlY3RvcnMgZm9yIGVhY2ggdmlldyB0byBwcm9wZXJseSBvcmllbnQgdGhlIGNhbWVyYVxuICBjb25zdCBjYW1lcmFzVXAgPSB1c2VSZWY8e1trZXk6IHN0cmluZ106IFRIUkVFLlZlY3RvcjN9Pih7XG4gICAgdG9wOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSksICAgICAvLyBMb29raW5nIGRvd24sIFwidXBcIiBpcyAtWlxuICAgIHNpZGU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCAgICAgLy8gTG9va2luZyBmcm9tIHNpZGUsIFwidXBcIiBpcyBZXG4gICAgcGVyc3BlY3RpdmU6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApIC8vIFN0YW5kYXJkIFwidXBcIiBpcyBZXG4gIH0pO1xuICBcbiAgLy8gVHJhY2sgaWYgd2Ugc2hvdWxkIHByZXNlcnZlIHRoZSBjYW1lcmEncyByb3RhdGlvbiBkdXJpbmcgbGF1bmNoXG4gIGNvbnN0IHByZXNlcnZlUm90YXRpb25SZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBcbiAgY29uc3QgaW5pdGlhbENhbWVyYVBvc2l0aW9uID0gdXNlUmVmPFRIUkVFLlZlY3RvcjMgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgc3RhdGljR3JvdW5kWSA9IC0yLjg7IC8vIFVwZGF0ZWQgdG8gbWF0Y2ggdGhlIGdyaWQgcG9zaXRpb25cbiAgY29uc3QgbGFzdFJvY2tldFkgPSB1c2VSZWY8bnVtYmVyPihzdGF0aWNHcm91bmRZKTtcbiAgY29uc3QgY2FtZXJhTGFnID0gdXNlUmVmPG51bWJlcj4oMCk7XG4gIGNvbnN0IHByZXZWaWV3UmVmID0gdXNlUmVmKHZpZXcpO1xuXG4gIC8vIFNldCBpbml0aWFsIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiB3aGVuIHZpZXcgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coYER5bmFtaWNDYW1lcmE6IFZpZXcgY2hhbmdlZCB0byAke3ZpZXd9YCk7XG4gICAgICBcbiAgICAgIC8vIERlZmluZSBwb3NpdGlvbnMgZm9yIGVhY2ggdmlld1xuICAgICAgY29uc3QgcG9zaXRpb25zID0ge1xuICAgICAgICB0b3A6IFswLCAxNSwgMF0sICAgICAgICAgIC8vIERpcmVjdGx5IGFib3ZlXG4gICAgICAgIHNpZGU6IFsxNSwgMCwgMF0sICAgICAgICAgLy8gUHVyZSBzaWRlIHZpZXdcbiAgICAgICAgcGVyc3BlY3RpdmU6IFsxMCwgMTAsIDEwXSAgLy8gSXNvbWV0cmljIHZpZXdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25zW3ZpZXddO1xuICAgICAgY29uc3QgcG9zaXRpb25WZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMyhwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTtcbiAgICAgIGluaXRpYWxQb3NpdGlvbnMuY3VycmVudFt2aWV3XSA9IHBvc2l0aW9uVmVjdG9yLmNsb25lKCk7XG4gICAgICBcbiAgICAgIC8vIFNldCBjYW1lcmEgcG9zaXRpb25cbiAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLmNvcHkocG9zaXRpb25WZWN0b3IpO1xuICAgICAgXG4gICAgICAvLyBTZXQgY2FtZXJhIHVwIHZlY3RvciBiYXNlZCBvbiB2aWV3XG4gICAgICByZWYuY3VycmVudC51cC5jb3B5KGNhbWVyYXNVcC5jdXJyZW50W3ZpZXddKTtcbiAgICAgIFxuICAgICAgLy8gTG9vayBhdCB0YXJnZXRcbiAgICAgIHJlZi5jdXJyZW50Lmxvb2tBdCgwLCBzdGF0aWNHcm91bmRZLCAwKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByZXZpb3VzIHZpZXcgcmVmZXJlbmNlXG4gICAgICBwcmV2Vmlld1JlZi5jdXJyZW50ID0gdmlldztcbiAgICB9XG4gIH0sIFt2aWV3XSk7XG5cbiAgLy8gTGlzdGVuIGZvciByb2NrZXQgbGF1bmNoIGV2ZW50cyB3aXRoIHByZXNlcnZhdGlvbiBmbGFnXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUm9ja2V0TGF1bmNoZWQgPSAoZTogQ3VzdG9tRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC5wcmVzZXJ2ZVJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJlc2VydmVSb3RhdGlvblJlZi5jdXJyZW50ID0gZS5kZXRhaWwucHJlc2VydmVSb3RhdGlvbjtcbiAgICAgICAgY29uc29sZS5sb2coYER5bmFtaWNDYW1lcmE6IHByZXNlcnZlUm90YXRpb249JHtwcmVzZXJ2ZVJvdGF0aW9uUmVmLmN1cnJlbnR9YCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncm9ja2V0TGF1bmNoZWQnLCBoYW5kbGVSb2NrZXRMYXVuY2hlZCBhcyBFdmVudExpc3RlbmVyKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JvY2tldExhdW5jaGVkJywgaGFuZGxlUm9ja2V0TGF1bmNoZWQgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfTtcbiAgfSwgW10pO1xuICBcbiAgLy8gVHJhY2sgcm9ja2V0IGxhdW5jaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xhdW5jaGVkICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICAvLyBTdG9yZSBpbml0aWFsIGNhbWVyYSBwb3NpdGlvbiBvbiBsYXVuY2hcbiAgICAgIGluaXRpYWxDYW1lcmFQb3NpdGlvbi5jdXJyZW50ID0gcmVmLmN1cnJlbnQucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIGxhc3RSb2NrZXRZLmN1cnJlbnQgPSBzdGF0aWNHcm91bmRZO1xuICAgICAgY2FtZXJhTGFnLmN1cnJlbnQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCB3aGVuIG5vdCBsYXVuY2hlZFxuICAgICAgaW5pdGlhbENhbWVyYVBvc2l0aW9uLmN1cnJlbnQgPSBudWxsO1xuICAgICAgbGFzdFJvY2tldFkuY3VycmVudCA9IHN0YXRpY0dyb3VuZFk7XG4gICAgICBjYW1lcmFMYWcuY3VycmVudCA9IDA7XG4gICAgfVxuICB9LCBbaXNMYXVuY2hlZF0pO1xuXG4gIC8vIE1haW4gZnJhbWUgdXBkYXRlXG4gIHVzZUZyYW1lKChfLCBkZWx0YSkgPT4ge1xuICAgIGlmICghcmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBpZiAoaXNMYXVuY2hlZCkge1xuICAgICAgLy8gRGlyZWN0IGNhbWVyYSB0cmFja2luZyBmb3Igcm9ja2V0XG4gICAgICBjb25zdCByb2NrZXRYID0gdGFyZ2V0WzBdIHx8IDA7XG4gICAgICBjb25zdCByb2NrZXRZID0gdGFyZ2V0WzFdIHx8IHN0YXRpY0dyb3VuZFk7XG4gICAgICBjb25zdCByb2NrZXRaID0gdGFyZ2V0WzJdIHx8IDA7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSByb2NrZXQgdmVsb2NpdHkgdG8gZGV0ZXJtaW5lIGhvdyBxdWlja2x5IGNhbWVyYSBzaG91bGQgZm9sbG93XG4gICAgICBjb25zdCByb2NrZXRWZWxvY2l0eVkgPSAocm9ja2V0WSAtIGxhc3RSb2NrZXRZLmN1cnJlbnQpIC8gTWF0aC5tYXgoZGVsdGEsIDAuMDE2KTtcbiAgICAgIGxhc3RSb2NrZXRZLmN1cnJlbnQgPSByb2NrZXRZO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgYWx0aXR1ZGVcbiAgICAgIGNvbnN0IGFsdGl0dWRlID0gcm9ja2V0WSAtIHN0YXRpY0dyb3VuZFk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYW1lcmEgbGFnIGJhc2VkIG9uIHJvY2tldCB2ZWxvY2l0eVxuICAgICAgY2FtZXJhTGFnLmN1cnJlbnQgPSBUSFJFRS5NYXRoVXRpbHMubGVycChcbiAgICAgICAgY2FtZXJhTGFnLmN1cnJlbnQsXG4gICAgICAgIE1hdGgubWF4KDAsIE1hdGgubWluKDUsIHJvY2tldFZlbG9jaXR5WSAqIDAuMDUpKSwgLy8gQ2FwIGxhZyBiZXR3ZWVuIDAtNVxuICAgICAgICAwLjA1XG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBpbml0aWFsUG9zID0gaW5pdGlhbENhbWVyYVBvc2l0aW9uLmN1cnJlbnQgfHwgaW5pdGlhbFBvc2l0aW9ucy5jdXJyZW50W3ZpZXddO1xuICAgICAgICAgICAgXG4gICAgICBpZiAodmlldyA9PT0gJ3BlcnNwZWN0aXZlJykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgaG9yaXpvbnRhbCBkaXN0YW5jZSBhbmQgYW5nbGUgZnJvbSBpbml0aWFsIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGhvcml6RGlzdCA9IE1hdGguc3FydChpbml0aWFsUG9zLnggKiBpbml0aWFsUG9zLnggKyBpbml0aWFsUG9zLnogKiBpbml0aWFsUG9zLnopO1xuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoaW5pdGlhbFBvcy56LCBpbml0aWFsUG9zLngpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNjYWxpbmcgZmFjdG9yIGJhc2VkIG9uIGFsdGl0dWRlIHRvIHpvb20gb3V0IGFzIHJvY2tldCBnb2VzIGhpZ2hlclxuICAgICAgICBjb25zdCBkaXN0YW5jZVNjYWxlID0gMSArIGFsdGl0dWRlICogMC4wMjsgLy8gU2NhbGUgZGlzdGFuY2UgYXMgcm9ja2V0IGFzY2VuZHNcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IGRpc3RhbmNlIHNjYWxpbmcgd2l0aCBtaW5pbXVtIGRpc3RhbmNlXG4gICAgICAgIGNvbnN0IHNjYWxlZEhvcml6RGlzdCA9IE1hdGgubWF4KGhvcml6RGlzdCwgaG9yaXpEaXN0ICogZGlzdGFuY2VTY2FsZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBNb3JlIHJlc3BvbnNpdmUgcG9zaXRpb25pbmcgLSBpbmNyZWFzZSBmb2xsb3cgc3BlZWQgYXMgcm9ja2V0IGdvZXMgaGlnaGVyXG4gICAgICAgIC8vIEFwcGx5IHNvbWUgZGVsaWJlcmF0ZSBsYWcgZm9yIGRyYW1hdGljIGVmZmVjdFxuICAgICAgICBjb25zdCB0YXJnZXRZID0gaW5pdGlhbFBvcy55ICsgKHJvY2tldFkgLSBzdGF0aWNHcm91bmRZIC0gY2FtZXJhTGFnLmN1cnJlbnQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9ucyB3aXRoIGFwcHJvcHJpYXRlIHNjYWxlIGFuZCBzbW9vdGhpbmdcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueCA9IE1hdGguY29zKGFuZ2xlKSAqIHNjYWxlZEhvcml6RGlzdDtcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueiA9IE1hdGguc2luKGFuZ2xlKSAqIHNjYWxlZEhvcml6RGlzdDtcbiAgICAgICAgXG4gICAgICAgIC8vIFNtb290aCBjYW1lcmEgWSBtb3ZlbWVudCAtIGZhc3RlciBmb2xsb3cgZm9yIGhpZ2hlciB2ZWxvY2l0aWVzXG4gICAgICAgIGNvbnN0IGZvbGxvd1NwZWVkID0gTWF0aC5taW4oMSwgMC4xICsgTWF0aC5hYnMocm9ja2V0VmVsb2NpdHlZKSAqIDAuMDAxKTtcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueSA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKFxuICAgICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnksXG4gICAgICAgICAgdGFyZ2V0WSxcbiAgICAgICAgICBmb2xsb3dTcGVlZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmlldyA9PT0gJ3RvcCcpIHtcbiAgICAgICAgLy8gVG9wIHZpZXcgLSBzdGF5IGRpcmVjdGx5IGFib3ZlIHJvY2tldCB3aXRoIGluY3JlYXNpbmcgaGVpZ2h0XG4gICAgICAgIGNvbnN0IGhlaWdodFNjYWxlID0gMSArIGFsdGl0dWRlICogMC4wNTsgLy8gU2NhbGUgaGVpZ2h0IGJhc2VkIG9uIGFsdGl0dWRlXG4gICAgICAgIGNvbnN0IHRvcEhlaWdodCA9IHJvY2tldFkgKyAxNSAqIGhlaWdodFNjYWxlOyAvLyBTY2FsZSB2aWV3aW5nIGhlaWdodFxuICAgICAgICBcbiAgICAgICAgLy8gU21vb3RoZXIgdHJhbnNpdGlvbnMgZm9yIHBvc2l0aW9uXG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnggPSBUSFJFRS5NYXRoVXRpbHMubGVycChyZWYuY3VycmVudC5wb3NpdGlvbi54LCByb2NrZXRYLCAwLjEpO1xuICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi56ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocmVmLmN1cnJlbnQucG9zaXRpb24ueiwgcm9ja2V0WiwgMC4xKTtcbiAgICAgICAgcmVmLmN1cnJlbnQucG9zaXRpb24ueSA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKHJlZi5jdXJyZW50LnBvc2l0aW9uLnksIHRvcEhlaWdodCwgMC4wNSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2aWV3ID09PSAnc2lkZScpIHtcbiAgICAgICAgLy8gU2lkZSB2aWV3IC0gbWFpbnRhaW4gWCBkaXN0YW5jZSBidXQgdHJhY2sgaGVpZ2h0IGRpcmVjdGx5IHdpdGggc29tZSBsYWdcbiAgICAgICAgY29uc3QgdGFyZ2V0WSA9IHJvY2tldFkgLSBjYW1lcmFMYWcuY3VycmVudCAqIDAuNTsgLy8gUmVkdWNlZCBsYWcgZm9yIHNpZGUgdmlld1xuICAgICAgICBjb25zdCBmb2xsb3dTcGVlZCA9IE1hdGgubWluKDEsIDAuMTUgKyBNYXRoLmFicyhyb2NrZXRWZWxvY2l0eVkpICogMC4wMDEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU21vb3RoIHRyYWNraW5nXG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnkgPSBUSFJFRS5NYXRoVXRpbHMubGVycChyZWYuY3VycmVudC5wb3NpdGlvbi55LCB0YXJnZXRZLCBmb2xsb3dTcGVlZCk7XG4gICAgICAgIHJlZi5jdXJyZW50LnBvc2l0aW9uLnogPSBUSFJFRS5NYXRoVXRpbHMubGVycChyZWYuY3VycmVudC5wb3NpdGlvbi56LCByb2NrZXRaLCAwLjEpO1xuICAgICAgICBcbiAgICAgICAgLy8gWm9vbSBvdXQgc2xpZ2h0bHkgYmFzZWQgb24gYWx0aXR1ZGVcbiAgICAgICAgY29uc3Qgc2lkZURpc3RhbmNlID0gaW5pdGlhbFBvcy54ICogKDEgKyBhbHRpdHVkZSAqIDAuMDEpO1xuICAgICAgICByZWYuY3VycmVudC5wb3NpdGlvbi54ID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAocmVmLmN1cnJlbnQucG9zaXRpb24ueCwgc2lkZURpc3RhbmNlLCAwLjA1KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWx3YXlzIGxvb2sgZGlyZWN0bHkgYXQgdGhlIHJvY2tldCwgbWFpbnRhaW5pbmcgdGhlIHZpZXcgb3JpZW50YXRpb25cbiAgICAgIHJlZi5jdXJyZW50Lmxvb2tBdChyb2NrZXRYLCByb2NrZXRZLCByb2NrZXRaKTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHdlIG1haW50YWluIHByb3BlciB1cCB2ZWN0b3IgZHVyaW5nIGZsaWdodCBmb3IgZWFjaCB2aWV3IHR5cGVcbiAgICAgIC8vIEJ1dCBvbmx5IHJlc2V0IHRoZSB1cCB2ZWN0b3IgaWYgd2UncmUgbm90IHByZXNlcnZpbmcgcm90YXRpb25cbiAgICAgIGlmICghcHJlc2VydmVSb3RhdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJlZi5jdXJyZW50LnVwLmNvcHkoY2FtZXJhc1VwLmN1cnJlbnRbdmlld10pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGp1c3QgRk9WIGZvciBiZXR0ZXIgdmlzaWJpbGl0eSAtIG1vcmUgZHluYW1pYyBGT1YgY2hhbmdlXG4gICAgICBjb25zdCB0YXJnZXRGT1YgPSBNYXRoLm1pbig3MCwgNTAgKyBhbHRpdHVkZSAqIDAuMTUpO1xuICAgICAgaWYgKHJlZi5jdXJyZW50LmZvdiAhPT0gdGFyZ2V0Rk9WKSB7XG4gICAgICAgIHJlZi5jdXJyZW50LmZvdiA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKHJlZi5jdXJyZW50LmZvdiwgdGFyZ2V0Rk9WLCAwLjA1KTtcbiAgICAgICAgcmVmLmN1cnJlbnQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEb24ndCBmb3JjZSB0aGUgY2FtZXJhIHRvIGxvb2sgYXQgYSBzcGVjaWZpYyBwb2ludCB3aGVuIG5vdCBsYXVuY2hlZFxuICAgIC8vIFRoaXMgYWxsb3dzIE9yYml0Q29udHJvbHMgdG8gdGFrZSBvdmVyIGNvbXBsZXRlbHlcbiAgfSk7XG4gIFxuICAvLyBDYW1lcmEgcG9zaXRpb25zIGJ5IHZpZXcgdHlwZVxuICBjb25zdCBjYW1lcmFQb3NpdGlvbnMgPSB7XG4gICAgdG9wOiBbMCwgMTUsIDBdLFxuICAgIHNpZGU6IFsxNSwgMCwgMF0sXG4gICAgcGVyc3BlY3RpdmU6IFsxMCwgMTAsIDEwXSxcbiAgfSBhcyBjb25zdDtcbiAgXG4gIHJldHVybiA8UGVyc3BlY3RpdmVDYW1lcmEgcmVmPXtyZWZ9IG1ha2VEZWZhdWx0IHBvc2l0aW9uPXtjYW1lcmFQb3NpdGlvbnNbdmlld119IGZvdj17NTB9IC8+O1xufVxuXG4vLyBHbG9iYWwgdHJhY2tpbmcgb2Ygcm9ja2V0IHBvc2l0aW9uIGZvciBkZWJ1Z2dpbmcgLSBlbWVyZ2VuY3kgYmFja3VwXG5sZXQgZ2xvYmFsUm9ja2V0WSA9IC0yLjg7IC8vIFVwZGF0ZWQgZ2xvYmFsIHJlZmVyZW5jZVxuXG5mdW5jdGlvbiBSb2NrZXRTaW11bGF0aW9uKHtcbiAgc2VsZWN0ZWQsXG4gIGlzTGF1bmNoZWQsIFxuICB0aHJvdHRsZSwgXG4gIHJlc2V0VHJpZ2dlcixcbiAgc2V0RmxpZ2h0RGF0YSxcbiAgaGlnaGxpZ2h0ZWRQYXJ0XG59OiB7XG4gIHNlbGVjdGVkOiBib29sZWFuLFxuICBpc0xhdW5jaGVkOiBib29sZWFuLFxuICB0aHJvdHRsZTogbnVtYmVyLFxuICByZXNldFRyaWdnZXI6IGJvb2xlYW4sXG4gIHNldEZsaWdodERhdGE6IChwb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLCB2ZWxvY2l0eTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdKSA9PiB2b2lkLFxuICBoaWdobGlnaHRlZFBhcnQ6IHN0cmluZyB8IG51bGxcbn0pIHtcbiAgY29uc29sZS5sb2coYFJPQ0tFVCBTSU1VTEFUSU9OIFJFTkRFUiAtIGlzTGF1bmNoZWQ6ICR7aXNMYXVuY2hlZH0sIHRocm90dGxlOiAke3Rocm90dGxlfWApO1xuICBcbiAgLy8gVHJhY2sgbW91bnQvdW5tb3VudCBmb3IgZGVidWdnaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJSb2NrZXRTaW11bGF0aW9uIG1vdW50ZWRcIik7XG4gICAgcmV0dXJuICgpID0+IGNvbnNvbGUubG9nKFwiUm9ja2V0U2ltdWxhdGlvbiB1bm1vdW50ZWRcIik7XG4gIH0sIFtdKTtcbiAgXG4gIC8vIFRyYWNrIGlmIHdlIHNob3VsZCBwcmVzZXJ2ZSB0aGUgY2FtZXJhIHJvdGF0aW9uIGR1cmluZyBsYXVuY2hcbiAgY29uc3QgcHJlc2VydmVSb3RhdGlvblJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIFxuICAvLyBFbWl0IGxhdW5jaCBldmVudHMgZm9yIGJldHRlciBjb21wb25lbnQgY29vcmRpbmF0aW9uIFxuICBjb25zdCBlbWl0TGF1bmNoRXZlbnQgPSAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbDogZGF0YSB9KSk7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRml4ZWQgZ3JvdW5kIHBvc2l0aW9uIC0gc3RhbmRhcmRpemVkIHRvIG1hdGNoIGdyaWRcbiAgY29uc3QgR1JPVU5EX1kgPSAtMi44OyAvLyBTdGFuZGFyZGl6ZWQgZ3JvdW5kIHBvc2l0aW9uIHRvIG1hdGNoIGdyaWRcbiAgLy8gTWFrZSBHUk9VTkRfUE9TSVRJT04gYW4gb2JqZWN0IHRvIGJlIHJlLWNyZWF0ZWQgZWFjaCB0aW1lIHRvIGF2b2lkIHJlZmVyZW5jZSBpc3N1ZXNcbiAgY29uc3QgR1JPVU5EX1BPU0lUSU9OOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbMCwgR1JPVU5EX1ksIDBdO1xuICBcbiAgLy8gU3RhdGUgZm9yIHJvY2tldCBwaHlzaWNzIC0gd2l0aCBwcmVjaXNlIGdyb3VuZCBwb3NpdGlvblxuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oR1JPVU5EX1BPU0lUSU9OKTtcbiAgY29uc3QgW3ZlbG9jaXR5LCBzZXRWZWxvY2l0eV0gPSB1c2VTdGF0ZTxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+KFswLCAwLCAwXSk7XG4gIGNvbnN0IFtyb3RhdGlvbiwgc2V0Um90YXRpb25dID0gdXNlU3RhdGU8W251bWJlciwgbnVtYmVyLCBudW1iZXJdPihbMCwgMCwgMF0pO1xuICBcbiAgLy8gVXNlIHJlZnMgdG8gdHJhY2sgdGhlIGFjdHVhbCBsYXRlc3QgdmFsdWVzIHRvIHByZXZlbnQgc3RhbGUgY2xvc3VyZXNcbiAgY29uc3QgcG9zaXRpb25SZWYgPSB1c2VSZWY8W251bWJlciwgbnVtYmVyLCBudW1iZXJdPihHUk9VTkRfUE9TSVRJT04pO1xuICBjb25zdCB2ZWxvY2l0eVJlZiA9IHVzZVJlZjxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+KFswLCAwLCAwXSk7XG4gIGNvbnN0IGlzTGF1bmNoZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBcbiAgLy8gVXBkYXRlIHJlZnMgd2hlbiBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcG9zaXRpb25SZWYuY3VycmVudCA9IHBvc2l0aW9uO1xuICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSB2ZWxvY2l0eTtcbiAgICBpc0xhdW5jaGVkUmVmLmN1cnJlbnQgPSBpc0xhdW5jaGVkO1xuICB9LCBbcG9zaXRpb24sIHZlbG9jaXR5LCBpc0xhdW5jaGVkXSk7XG4gIFxuICAvLyBMaXN0ZW4gZm9yIHJlc2V0IGNhbWVyYSB2aWV3IGV2ZW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2V0Q2FtZXJhVmlldyA9ICgpID0+IHtcbiAgICAgIC8vIFdoZW4gY2FtZXJhIHZpZXcgaXMgcmVzZXQsIHdlIHNob3VsZCBub3QgcHJlc2VydmUgcm90YXRpb25cbiAgICAgIHByZXNlcnZlUm90YXRpb25SZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0Q2FtZXJhVmlldycsIGhhbmRsZVJlc2V0Q2FtZXJhVmlldyBhcyBFdmVudExpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2V0Q2FtZXJhVmlldycsIGhhbmRsZVJlc2V0Q2FtZXJhVmlldyBhcyBFdmVudExpc3RlbmVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIFxuICAvLyBTaW1wbGlmeSB0byBhIHNpbmdsZSBzaG93RmlyZSBzdGF0ZSBmb3IgcHJlLWxhdW5jaFxuICBjb25zdCBbc2hvd0ZpcmUsIHNldFNob3dGaXJlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbGF1bmNoVGltZSA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCBzdGFydE1vdmluZ1RpbWUgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3QgbGFzdFVwZGF0ZVRpbWUgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgXG4gIC8vIFByZXZlbnQgdW53YW50ZWQgdHJhbnNpdGlvbnNcbiAgY29uc3QgaXNUcmFuc2l0aW9uaW5nID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTtcbiAgXG4gIC8vIEhhbmRsZSBsYXVuY2ggc3RhdGUgY2hhbmdlcyAtIHdpdGggY2FyZWZ1bCBzdGF0ZSBtYW5hZ2VtZW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTG9jayB0cmFuc2l0aW9ucyBicmllZmx5IGR1cmluZyBzdGF0ZSBjaGFuZ2VcbiAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IHRydWU7XG4gICAgXG4gICAgaWYgKGlzTGF1bmNoZWQpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCBwcmVzZXJ2ZSByb3RhdGlvbiBieSBzZWVpbmcgaWYgdGhlcmUncyBhbnkgYWN0aXZlIGNhbWVyYSByb2xsXG4gICAgICAvLyBXZSdsbCB1c2UgdGhlIHZhbHVlIGZyb20gQ3VzdG9tT3JiaXRDb250cm9scyBpZiBhdmFpbGFibGVcbiAgICAgIHByZXNlcnZlUm90YXRpb25SZWYuY3VycmVudCA9IHR5cGVvZiAod2luZG93IGFzIGFueSkubGFzdFJvY2tldFJvdGF0aW9uID09PSAnbnVtYmVyJztcbiAgICAgIFxuICAgICAgLy8gQWRkIGRlYnVnIGluZm9ybWF0aW9uIGFib3V0IHJvdGF0aW9uIHN0YXRlXG4gICAgICBjb25zb2xlLmxvZyhgTGF1bmNoIHdpdGggcHJlc2VydmVSb3RhdGlvbjogJHtwcmVzZXJ2ZVJvdGF0aW9uUmVmLmN1cnJlbnR9LCByb3RhdGlvbiB2YWx1ZTogJHsod2luZG93IGFzIGFueSkubGFzdFJvY2tldFJvdGF0aW9ufWApO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgd2UncmUgZXhhY3RseSBhdCBncm91bmQgcG9zaXRpb24gdG8gc3RhcnRcbiAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICBwb3NpdGlvblJlZi5jdXJyZW50ID0gR1JPVU5EX1BPU0lUSU9OO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB3aXRoIHplcm8gdmVsb2NpdHkgKHNwZWVkb21ldGVyIHdpbGwgc2hvdyAwIHVudGlsIHJlYWwgbW92ZW1lbnQgc3RhcnRzKVxuICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSBbMCwgMCwgMF07XG4gICAgICBcbiAgICAgIC8vIFNob3cgZmlyZSBpbW1lZGlhdGVseVxuICAgICAgc2V0U2hvd0ZpcmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFNldCBjdXJyZW50IHRpbWUgYXMgbGF1bmNoIHRpbWVcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgbGF1bmNoVGltZS5jdXJyZW50ID0gbm93O1xuICAgICAgXG4gICAgICAvLyBTY2hlZHVsZSB0aGUgcm9ja2V0IHRvIHN0YXJ0IG1vdmluZyBhZnRlciAyIHNlY29uZHMgKGluY3JlYXNlZCBmcm9tIDMwMG1zIGZvciBjbGVhcmVyIGdyb3VuZCBmaXJlIGVmZmVjdClcbiAgICAgIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50ID0gbm93ICsgMi4wO1xuICAgICAgbGFzdFVwZGF0ZVRpbWUuY3VycmVudCA9IG5vdztcbiAgICAgIFxuICAgICAgLy8gRW1pdCBldmVudCBmb3IgY2FtZXJhIHRvIGZvbGxvdyByb2NrZXQgLSBpbmNsdWRlIHByZXNlcnZlUm90YXRpb24gZmxhZ1xuICAgICAgZW1pdExhdW5jaEV2ZW50KCdyb2NrZXRMYXVuY2hlZCcsIHsgXG4gICAgICAgIHBvc2l0aW9uOiBHUk9VTkRfUE9TSVRJT04sXG4gICAgICAgIHByZXNlcnZlUm90YXRpb246IHByZXNlcnZlUm90YXRpb25SZWYuY3VycmVudFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBmaXJlIHdoZW4gbm90IGxhdW5jaGVkXG4gICAgICBzZXRTaG93RmlyZShmYWxzZSk7XG4gICAgICBsYXVuY2hUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgbGFzdFVwZGF0ZVRpbWUuY3VycmVudCA9IDA7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB3ZSdyZSBleGFjdGx5IGF0IGdyb3VuZCBsZXZlbCB3aGVuIG5vdCBsYXVuY2hlZFxuICAgICAgc2V0UG9zaXRpb24oR1JPVU5EX1BPU0lUSU9OKTtcbiAgICAgIHBvc2l0aW9uUmVmLmN1cnJlbnQgPSBHUk9VTkRfUE9TSVRJT047XG4gICAgICBzZXRWZWxvY2l0eShbMCwgMCwgMF0pO1xuICAgICAgdmVsb2NpdHlSZWYuY3VycmVudCA9IFswLCAwLCAwXTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVsZWFzZSB0cmFuc2l0aW9uIGxvY2sgYWZ0ZXIgYSBicmllZiBkZWxheVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LCA1MCk7XG4gIH0sIFtpc0xhdW5jaGVkXSk7XG4gIFxuICAvLyBCYXNpYyBwaHlzaWNzIGNvbnN0YW50cyAtIGRyYW1hdGljYWxseSBpbmNyZWFzZWQgZm9yIGd1YXJhbnRlZWQgbW92ZW1lbnRcbiAgY29uc3QgZ3Jhdml0eSA9IC05Ljg7XG4gIGNvbnN0IG1heFRocnVzdCA9IDE1MCAqIHRocm90dGxlOyAvLyBJbmNyZWFzZWQgZnJvbSAxMDAgdG8gMTUwIGZvciBmYXN0ZXIgbW92ZW1lbnRcbiAgY29uc3QgYmFzZURyYWcgPSAwLjAxOyAvLyBGdXJ0aGVyIHJlZHVjZWQgZHJhZyBmb3IgZXZlbiBmYXN0ZXIgYXNjZW50XG4gIFxuICAvLyBTaW1wbGUgdHVyYnVsZW5jZSBlZmZlY3RcbiAgY29uc3QgdHVyYnVsZW5jZVJlZiA9IHVzZVJlZih7IHg6IDAsIHo6IDAsIHJvdFg6IDAsIHJvdFo6IDAgfSk7XG4gIFxuICAvLyBVcGRhdGUgcGFyZW50IHdpdGggZmxpZ2h0IGRhdGEgLSBlbnN1cmUgaXQgcHJvcGVybHkgcmVmbGVjdHMgYWN0dWFsIG1vdmVtZW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2FsY3VsYXRlIGFjdHVhbCBzcGVlZCBmcm9tIHZlbG9jaXR5XG4gICAgY29uc3QgY3VycmVudFNwZWVkID0gTWF0aC5zcXJ0KFxuICAgICAgdmVsb2NpdHlbMF0gKiB2ZWxvY2l0eVswXSArIHZlbG9jaXR5WzFdICogdmVsb2NpdHlbMV0gKyB2ZWxvY2l0eVsyXSAqIHZlbG9jaXR5WzJdXG4gICAgKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgYWx0aXR1ZGUgYXMgZGlzdGFuY2UgZnJvbSBncm91bmQgbGV2ZWxcbiAgICBjb25zdCBjdXJyZW50QWx0aXR1ZGUgPSBNYXRoLm1heCgwLCBwb3NpdGlvblsxXSAtIEdST1VORF9ZKTtcbiAgICBcbiAgICAvLyBJZiByb2NrZXQgaGFzIGNyb3NzZWQgdGhlIHRocmVzaG9sZCB0byBzdGFydCBtb3ZpbmcsIGVuc3VyZSB3ZSBzZW5kIG5vbi16ZXJvIHZhbHVlc1xuICAgIGlmIChpc0xhdW5jaGVkUmVmLmN1cnJlbnQgJiYgc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQgPiAwKSB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpLzEwMDA7XG4gICAgICBcbiAgICAgIGlmIChub3cgPCBzdGFydE1vdmluZ1RpbWUuY3VycmVudCkge1xuICAgICAgICAvLyBEdXJpbmcgcHJlLWxhdW5jaCBmaXJlLCBwYXNzIHBvc2l0aW9uIGJ1dCB3aXRoIHplcm8gdmVsb2NpdHlcbiAgICAgICAgc2V0RmxpZ2h0RGF0YShwb3NpdGlvbiwgWzAsIDAsIDBdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJQcmUtbGF1bmNoIGZpcmUgcGhhc2UgLSBzaG93aW5nIHplcm8gc3BlZWRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSdyZSBpbiBhY3R1YWwgZmxpZ2h0IHBoYXNlIC0gYWx3YXlzIGVuc3VyZSBtaW5pbXVtIHZhbHVlcyBpZiBsYXVuY2hlZFxuICAgICAgICAvLyBUaGlzIGd1YXJhbnRlZXMgdGhhdCB3aGVuIG1vdmVtZW50IHN0YXJ0cywgVUkgdXBkYXRlcyBpbW1lZGlhdGVseVxuICAgICAgICBjb25zdCBtaW5WZWxvY2l0eSA9IChwb3NpdGlvblsxXSA+IEdST1VORF9ZKSA/IE1hdGgubWF4KDAuMSwgY3VycmVudFNwZWVkKSA6IDA7XG4gICAgICAgIGNvbnN0IG1pbkFsdGl0dWRlID0gKHBvc2l0aW9uWzFdID4gR1JPVU5EX1kpID8gTWF0aC5tYXgoMC4xLCBjdXJyZW50QWx0aXR1ZGUpIDogMDtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBwb3NpdGlvbiBhbmQgdmVsb2NpdHkgdGhhdCBndWFyYW50ZWUgdmlzaWJsZSBkYXNoYm9hcmQgdmFsdWVzXG4gICAgICAgIGNvbnN0IGVmZmVjdGl2ZVBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbXG4gICAgICAgICAgcG9zaXRpb25bMF0sXG4gICAgICAgICAgLy8gRW5zdXJlIGFsdGl0dWRlIGlzIGF0IGxlYXN0IHNsaWdodGx5IGFib3ZlIGdyb3VuZFxuICAgICAgICAgIHBvc2l0aW9uWzFdID4gR1JPVU5EX1kgPyBNYXRoLm1heChwb3NpdGlvblsxXSwgR1JPVU5EX1kgKyAwLjEpIDogcG9zaXRpb25bMV0sXG4gICAgICAgICAgcG9zaXRpb25bMl1cbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGVmZmVjdGl2ZVZlbG9jaXR5OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbXG4gICAgICAgICAgdmVsb2NpdHlbMF0sXG4gICAgICAgICAgLy8gRW5zdXJlIHZlcnRpY2FsIHZlbG9jaXR5IGlzIGF0IGxlYXN0IHNsaWdodGx5IHBvc2l0aXZlXG4gICAgICAgICAgdmVsb2NpdHlbMV0gPiAwID8gTWF0aC5tYXgodmVsb2NpdHlbMV0sIDAuMSkgOiB2ZWxvY2l0eVsxXSxcbiAgICAgICAgICB2ZWxvY2l0eVsyXVxuICAgICAgICBdO1xuICAgICAgICBcbiAgICAgICAgLy8gU2VuZCB0aGVzZSBndWFyYW50ZWVkIHZhbHVlcyB0byB1cGRhdGUgVUlcbiAgICAgICAgc2V0RmxpZ2h0RGF0YShlZmZlY3RpdmVQb3NpdGlvbiwgZWZmZWN0aXZlVmVsb2NpdHkpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEZsaWdodCBkYXRhIHVwZGF0ZWQ6IEFsdD0ke21pbkFsdGl0dWRlLnRvRml4ZWQoMil9LCBTcGVlZD0ke21pblZlbG9jaXR5LnRvRml4ZWQoMil9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdCBsYXVuY2hlZCBvciByZXNldCBzdGF0ZVxuICAgICAgc2V0RmxpZ2h0RGF0YShwb3NpdGlvbiwgdmVsb2NpdHkpO1xuICAgIH1cbiAgfSwgW3Bvc2l0aW9uLCB2ZWxvY2l0eSwgc2V0RmxpZ2h0RGF0YSwgaXNMYXVuY2hlZFJlZl0pO1xuICBcbiAgLy8gUmVzZXQgcG9zaXRpb24gd2hlbiByZXF1ZXN0ZWQgLSBlbnN1cmUgYWJzb2x1dGUgY29uc2lzdGVuY3lcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVzZXRUcmlnZ2VyKSB7XG4gICAgICAvLyBMb2NrIHRyYW5zaXRpb25zIHRvIHByZXZlbnQgdmlzdWFsIGp1bXBzXG4gICAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IHRydWU7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIGFuIGltbWVkaWF0ZSBwb3NpdGlvbiB1cGRhdGUgdG8gZ3JvdW5kIHBvc2l0aW9uXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAvLyBJbW1lZGlhdGVseSBzdG9wIGFueSBtb3ZlbWVudFxuICAgICAgICBzZXRWZWxvY2l0eShbMCwgMCwgMF0pO1xuICAgICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0gWzAsIDAsIDBdO1xuICAgICAgICBcbiAgICAgICAgLy8gRW5zdXJlIHdlJ3JlIGV4YWN0bHkgYXQgZ3JvdW5kIHBvc2l0aW9uXG4gICAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICAgIHBvc2l0aW9uUmVmLmN1cnJlbnQgPSBHUk9VTkRfUE9TSVRJT047XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCByb3RhdGlvbiBzbW9vdGhseVxuICAgICAgICBzZXRSb3RhdGlvbihbMCwgMCwgMF0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVHVybiBvZmYgZmlyZVxuICAgICAgICBzZXRTaG93RmlyZShmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBhbGwgdGltZSByZWZlcmVuY2VzXG4gICAgICAgIGxhdW5jaFRpbWUuY3VycmVudCA9IDA7XG4gICAgICAgIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50ID0gMDtcbiAgICAgICAgbGFzdFVwZGF0ZVRpbWUuY3VycmVudCA9IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBOb3RpZnkgb3RoZXIgY29tcG9uZW50cyBhYm91dCByZXNldFxuICAgICAgICBlbWl0TGF1bmNoRXZlbnQoJ3JvY2tldFJlc2V0JywgeyBwb3NpdGlvbjogR1JPVU5EX1BPU0lUSU9OIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gS2VlcCBsb2NrZWQgZm9yIGxvbmcgZW5vdWdoIHRvIGVuc3VyZSBzbW9vdGggdHJhbnNpdGlvblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyBTZWNvbmQgcG9zaXRpb24gdXBkYXRlIHRvIGVuc3VyZSBjb25zaXN0ZW5jeVxuICAgICAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICAgICAgcG9zaXRpb25SZWYuY3VycmVudCA9IEdST1VORF9QT1NJVElPTjtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZWxlYXNlIHRyYW5zaXRpb24gbG9jayBhZnRlciBzdGFibGUgcG9zaXRpb24gaXMgY29uZmlybWVkXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfSwgNTApO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbcmVzZXRUcmlnZ2VyXSk7XG4gIFxuICAvLyBTaW1wbGUgcGh5c2ljcyBzaW11bGF0aW9uIC0gcnVucyBldmVyeSBmcmFtZSB3aXRoIHByb3RlY3Rpb25zIGFnYWluc3QgdmlzdWFsIGp1bXBzXG4gIHVzZUZyYW1lKChzdGF0ZSwgZGVsdGEpID0+IHtcbiAgICAvLyBTa2lwIGZyYW1lcyBkdXJpbmcgdHJhbnNpdGlvbnMgdG8gcHJldmVudCB2aXN1YWwganVtcHNcbiAgICBpZiAoaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lO1xuICAgIFxuICAgIC8vIElmIG5vdCBsYXVuY2hlZCwgZG8gbm90IGZvcmNpYmx5IHJlc2V0IHBvc2l0aW9uOyBhbGxvdyBmcmVlIG1vdmVtZW50XG4gICAgaWYgKCFpc0xhdW5jaGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIC8vIE5vIGZvcmNlZCBwb3NpdGlvbiByZXNldCBoZXJlXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENhcCBkZWx0YSB0byBwcmV2ZW50IHBoeXNpY3MgZ2xpdGNoZXNcbiAgICBjb25zdCBjYXBwZWREZWx0YSA9IE1hdGgubWluKGRlbHRhLCAwLjEpO1xuICAgIFxuICAgIC8vIEVuc3VyZSBjb25zaXN0ZW50IHRpbWluZyBldmVuIHdpdGggZnJhbWUgZHJvcHNcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0VXBkYXRlID0gbGFzdFVwZGF0ZVRpbWUuY3VycmVudCA+IDAgPyBcbiAgICAgIGN1cnJlbnRUaW1lIC0gbGFzdFVwZGF0ZVRpbWUuY3VycmVudCA6IGNhcHBlZERlbHRhO1xuICAgIGxhc3RVcGRhdGVUaW1lLmN1cnJlbnQgPSBjdXJyZW50VGltZTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgc3RhcnQgbW92aW5nIChhZnRlciBzaG93aW5nIGZpcmUgZm9yIGEgYml0KVxuICAgIC8vIEZvcmNlIGltbWVkaWF0ZSBtb3ZlbWVudCB0cmFja2luZyBldmVuIGlmIHZpc3VhbGx5IHdlIHdhaXRcbiAgICBjb25zdCBzaG91bGRNb3ZlID0gc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQgPiAwICYmIGN1cnJlbnRUaW1lID49IHN0YXJ0TW92aW5nVGltZS5jdXJyZW50O1xuICAgIFxuICAgIC8vIExvZyBtb3ZlbWVudCBzdGF0ZSBmb3IgZGVidWdnaW5nXG4gICAgY29uc3QgdyA9IHdpbmRvdyBhcyBhbnk7IC8vIFR5cGUgYXNzZXJ0aW9uIGZvciBjdXN0b20gcHJvcGVydHlcbiAgICBpZiAoc2hvdWxkTW92ZSAmJiAhdy5oYXNMb2dnZWRNb3ZlbWVudFN0YXJ0KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJPQ0tFVCBNT1ZFTUVOVCBTVEFSVElORyBOT1dcIik7XG4gICAgICB3Lmhhc0xvZ2dlZE1vdmVtZW50U3RhcnQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvLyBPbmx5IGFwcGx5IHVwd2FyZCBtb3ZlbWVudCBwaHlzaWNzIGFmdGVyIHRoZSBkZWxheVxuICAgIGlmIChzaG91bGRNb3ZlKSB7XG4gICAgICAvLyBDYWxjdWxhdGUgdGltZSBzaW5jZSBhY3R1YWwgbW92ZW1lbnQgc3RhcnRlZCBmb3Igc21vb3RoIGFjY2VsZXJhdGlvblxuICAgICAgY29uc3QgdGltZVNpbmNlTW92aW5nID0gY3VycmVudFRpbWUgLSBzdGFydE1vdmluZ1RpbWUuY3VycmVudDtcbiAgICAgIFxuICAgICAgLy8gR3VhcmFudGVlZCBtb3ZlbWVudCBhY2NlbGVyYXRpb24gY3VydmUgZm9yIHZpc2libGUgbGlmdG9mZlxuICAgICAgbGV0IHRocnVzdEZhY3RvcjtcbiAgICAgIC8vIEltbWVkaWF0ZSBmdWxsIHBvd2VyIGZvciBndWFyYW50ZWVkIG1vdmVtZW50XG4gICAgICB0aHJ1c3RGYWN0b3IgPSAxLjA7XG4gICAgICBcbiAgICAgIC8vIEV4dHJlbWUgdGhydXN0IG11bHRpcGxpZXIgZm9yIGd1YXJhbnRlZWQgdmlzaWJsZSBhc2NlbnRcbiAgICAgIGNvbnN0IGN1cnJlbnRUaHJ1c3QgPSBtYXhUaHJ1c3QgKiA0LjA7IC8vIEZpeGVkIGF0IG1heGltdW0gcG93ZXJcbiAgICAgIFxuICAgICAgLy8gVmlydHVhbGx5IG5vIGRyYWcgZm9yIGZpcnN0IDUgc2Vjb25kcyB0byBlbnN1cmUgdmlzaWJsZSBtb3ZlbWVudFxuICAgICAgY29uc3QgdGltZVNpbmNlTGlmdG9mZiA9IHRpbWVTaW5jZU1vdmluZztcbiAgICAgIGNvbnN0IGN1cnJlbnREcmFnID0gdGltZVNpbmNlTGlmdG9mZiA8IDUuMCA/IDAuMDEgOiBiYXNlRHJhZyAqIDAuMiAqIE1hdGguYWJzKHZlbG9jaXR5UmVmLmN1cnJlbnRbMV0pO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgYWNjZWxlcmF0aW9uIC0gZ3VhcmFudGVlZCB1cHdhcmQgZm9yY2VcbiAgICAgIGNvbnN0IG5ldEFjY2VsZXJhdGlvbiA9IGN1cnJlbnRUaHJ1c3QgKyBncmF2aXR5IC0gY3VycmVudERyYWc7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIGEgbWluaW11bSBhY2NlbGVyYXRpb24gdG8gZ3VhcmFudGVlIHVwd2FyZCBtb3ZlbWVudFxuICAgICAgY29uc3QgZ3VhcmFudGVlZEFjY2VsZXJhdGlvbiA9IE1hdGgubWF4KG5ldEFjY2VsZXJhdGlvbiwgMjAuMCk7IFxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdmVsb2NpdHkgd2l0aCBndWFyYW50ZWVkIG1pbmltdW0gdXB3YXJkIHZlbG9jaXR5XG4gICAgICBjb25zdCBuZXdWZWxvY2l0eTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50WzBdICogMC45OCwgLy8gRGFtcGVuIGhvcml6b250YWwgZHJpZnRcbiAgICAgICAgTWF0aC5tYXgodmVsb2NpdHlSZWYuY3VycmVudFsxXSArIGd1YXJhbnRlZWRBY2NlbGVyYXRpb24gKiB0aW1lU2luY2VMYXN0VXBkYXRlLCA1LjApLCAvLyBHdWFyYW50ZWUgbWluaW11bSB2ZWxvY2l0eVxuICAgICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50WzJdICogMC45OCAgLy8gRGFtcGVuIGhvcml6b250YWwgZHJpZnRcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIFZlcnkgbWlub3IgdHVyYnVsZW5jZSBmb3IgdmlzdWFsIGludGVyZXN0IChyZWR1Y2VkIGFtcGxpdHVkZSlcbiAgICAgICAgdHVyYnVsZW5jZVJlZi5jdXJyZW50ID0ge1xuICAgICAgICB4OiBNYXRoLnNpbihjdXJyZW50VGltZSAqIDQpICogMC4wMDIsXG4gICAgICAgIHo6IE1hdGguY29zKGN1cnJlbnRUaW1lICogMykgKiAwLjAwMixcbiAgICAgICAgcm90WDogTWF0aC5zaW4oY3VycmVudFRpbWUgKiAyKSAqIDAuMDAxLFxuICAgICAgICByb3RaOiBNYXRoLmNvcyhjdXJyZW50VGltZSAqIDIuNSkgKiAwLjAwMVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGN1cnJlbnQgcG9zaXRpb24gZnJvbSByZWYgdG8gZW5zdXJlIGxhdGVzdCB2YWx1ZVxuICAgICAgY29uc3QgY3VyclBvcyA9IHBvc2l0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiB3aXRoIEZPUkNFRCB1cHdhcmQgbW92ZW1lbnQgLSBkcmFtYXRpY2FsbHkgaW5jcmVhc2UgdGhlIGRlbHRhXG4gICAgICBjb25zdCBwb3NpdGlvbkRlbHRhID0gbmV3VmVsb2NpdHlbMV0gKiB0aW1lU2luY2VMYXN0VXBkYXRlO1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBhbiBFWFRSRU1FTFkgTEFSR0UgbWluaW11bSBwb3NpdGlvbiBjaGFuZ2UgZm9yIG11Y2ggZmFzdGVyIG1vdmVtZW50XG4gICAgICBjb25zdCBndWFyYW50ZWVkRGVsdGEgPSBNYXRoLm1heChwb3NpdGlvbkRlbHRhLCA1LjAgKiB0aW1lU2luY2VMYXN0VXBkYXRlKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBvc2l0aW9uIGFycmF5IHRvIGVuc3VyZSByZWZlcmVuY2UgaXMgYnJva2VuXG4gICAgICBjb25zdCBuZXdQb3NpdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgICAgICBjdXJyUG9zWzBdICsgbmV3VmVsb2NpdHlbMF0gKiB0aW1lU2luY2VMYXN0VXBkYXRlICsgdHVyYnVsZW5jZVJlZi5jdXJyZW50LngsXG4gICAgICAgIGN1cnJQb3NbMV0gKyBndWFyYW50ZWVkRGVsdGEsIC8vIEZvcmNlIG11Y2ggbGFyZ2VyIHVwd2FyZCBtb3ZlbWVudFxuICAgICAgICBjdXJyUG9zWzJdICsgbmV3VmVsb2NpdHlbMl0gKiB0aW1lU2luY2VMYXN0VXBkYXRlICsgdHVyYnVsZW5jZVJlZi5jdXJyZW50LnpcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB2ZWxvY2l0eSBhY3R1YWxseSByZWZsZWN0cyB0aGUgbW92ZW1lbnQgc3BlZWRcbiAgICAgIC8vIFRoaXMgZml4ZXMgdGhlIHNwZWVkb21ldGVyIHRvIG1hdGNoIGFjdHVhbCBtb3ZlbWVudFxuICAgICAgY29uc3QgYWN0dWFsVmVsb2NpdHk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFtcbiAgICAgICAgbmV3VmVsb2NpdHlbMF0sXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhY3R1YWwgdmVsb2NpdHkgYmFzZWQgb24gcG9zaXRpb24gY2hhbmdlXG4gICAgICAgIChuZXdQb3NpdGlvblsxXSAtIGN1cnJQb3NbMV0pIC8gdGltZVNpbmNlTGFzdFVwZGF0ZSxcbiAgICAgICAgbmV3VmVsb2NpdHlbMl1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBnbG9iYWwgdHJhY2tpbmcgdmFyaWFibGUgZm9yIGVtZXJnZW5jeSBiYWNrdXBcbiAgICAgIGdsb2JhbFJvY2tldFkgPSBNYXRoLm1heChnbG9iYWxSb2NrZXRZLCBuZXdQb3NpdGlvblsxXSk7XG4gICAgICBcbiAgICAgIC8vIExvZyBmb3JjZWQgcG9zaXRpb24gY2hhbmdlIGZvciBkZWJ1Z2dpbmdcbiAgICAgIGNvbnNvbGUubG9nKGBGT1JDSU5HIHBvc2l0aW9uIGNoYW5nZTogZGVsdGE9JHtndWFyYW50ZWVkRGVsdGEudG9GaXhlZCgyKX0sIG5ldyB5PSR7bmV3UG9zaXRpb25bMV0udG9GaXhlZCgyKX0sIGdsb2JhbD0ke2dsb2JhbFJvY2tldFkudG9GaXhlZCgyKX1gKTtcbiAgICAgIFxuICAgICAgLy8gR3JvdW5kIGNvbGxpc2lvbiBwcmV2ZW50aW9uIC0gZW5zdXJlIHdlIG5ldmVyIGdvIGJlbG93IGdyb3VuZFxuICAgICAgaWYgKG5ld1Bvc2l0aW9uWzFdIDwgR1JPVU5EX1kpIHtcbiAgICAgICAgbmV3UG9zaXRpb25bMV0gPSBHUk9VTkRfWTtcbiAgICAgICAgbmV3VmVsb2NpdHlbMV0gPSAwO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgY3VycmVudCByb3RhdGlvbiBmcm9tIHN0YXRlXG4gICAgICBjb25zdCBjdXJyUm90ID0gcm90YXRpb247XG4gICAgICBcbiAgICAgIC8vIFZlcnkgc2xpZ2h0IHJvdGF0aW9uIGJhc2VkIG9uIG1vdmVtZW50IChtaW5pbWFsLCByZWR1Y2VkIGFtcGxpdHVkZSlcbiAgICBjb25zdCBuZXdSb3RhdGlvbjogW251bWJlciwgbnVtYmVyLCBudW1iZXJdID0gW1xuICAgICAgICBUSFJFRS5NYXRoVXRpbHMubGVycChjdXJyUm90WzBdLCB0dXJidWxlbmNlUmVmLmN1cnJlbnQucm90WCwgMC4wMiksXG4gICAgICAgIGN1cnJSb3RbMV0sXG4gICAgICAgIFRIUkVFLk1hdGhVdGlscy5sZXJwKGN1cnJSb3RbMl0sIHR1cmJ1bGVuY2VSZWYuY3VycmVudC5yb3RaLCAwLjAyKVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gQWx3YXlzIHVwZGF0ZSBwb3NpdGlvbiB0byBlbnN1cmUgbW92ZW1lbnQgLSB1c2UgYWN0dWFsVmVsb2NpdHkgZm9yIHNwZWVkb21ldGVyXG4gICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0gYWN0dWFsVmVsb2NpdHk7IC8vIFVzZSB0aGUgY2FsY3VsYXRlZCBhY3R1YWwgdmVsb2NpdHlcbiAgICAgIHBvc2l0aW9uUmVmLmN1cnJlbnQgPSBuZXdQb3NpdGlvbjtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHdlJ3JlIHVwZGF0aW5nIHN0YXRlIHRvIHJlZmxlY3QgY2hhbmdlcyBpbiBVSVxuICAgICAgc2V0VmVsb2NpdHkoYWN0dWFsVmVsb2NpdHkpOyAvLyBVc2UgYWN0dWFsIHZlbG9jaXR5IGZvciBhY2N1cmF0ZSBzcGVlZG9tZXRlclxuICAgIHNldFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICBzZXRSb3RhdGlvbihuZXdSb3RhdGlvbik7XG4gICAgXG4gICAgICAvLyBMb2cgcG9zaXRpb24gZm9yIGRlYnVnZ2luZ1xuICAgICAgaWYgKHRpbWVTaW5jZU1vdmluZyAlIDEgPCAwLjEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJvY2tldCBwb3NpdGlvbjogJHtuZXdQb3NpdGlvblsxXS50b0ZpeGVkKDIpfSwgdmVsb2NpdHk6ICR7bmV3VmVsb2NpdHlbMV0udG9GaXhlZCgyKX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQmVmb3JlIGFjdHVhbCBtb3ZlbWVudCwgc2hvdyBmaXJlIHdpdGggcm9ja2V0IG9uIGdyb3VuZCAobWluaW1hbCBzaGFraW5nKVxuICAgIGVsc2UgaWYgKHNob3dGaXJlKSB7XG4gICAgICAvLyBObyBzaGFraW5nIGF0IGFsbCBkdXJpbmcgcHJlLWxhdW5jaCB0byBlbnN1cmUgdmlzdWFsIHN0YWJpbGl0eVxuICAgICAgaWYgKHBvc2l0aW9uUmVmLmN1cnJlbnRbMV0gIT09IEdST1VORF9ZIHx8IFxuICAgICAgICAgIE1hdGguYWJzKHBvc2l0aW9uUmVmLmN1cnJlbnRbMF0pID4gMC4wMDAxIHx8IFxuICAgICAgICAgIE1hdGguYWJzKHBvc2l0aW9uUmVmLmN1cnJlbnRbMl0pID4gMC4wMDAxKSB7XG4gICAgICAgIHNldFBvc2l0aW9uKEdST1VORF9QT1NJVElPTik7XG4gICAgICAgIHBvc2l0aW9uUmVmLmN1cnJlbnQgPSBHUk9VTkRfUE9TSVRJT047XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIERlYnVnIGxvZyB0aGUgcG9zaXRpb24gdmFsdWVzXG4gIGNvbnNvbGUubG9nKGBSRU5ERVIgLSBSb2NrZXQgcG9zaXRpb246IHk9JHtwb3NpdGlvblJlZi5jdXJyZW50WzFdLnRvRml4ZWQoMil9LCB0aHJ1c3Q9JHttYXhUaHJ1c3R9LCBkcmFnPSR7YmFzZURyYWd9YCk7XG4gIFxuICAvLyBBbHdheXMgdXNlIHRoZSBwb3NpdGlvblJlZi5jdXJyZW50IGZvciByZW5kZXJpbmcgdG8gYXZvaWQgc3RhdGUgbGFnXG4gIGNvbnN0IHJlbmRlclBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbXG4gICAgcG9zaXRpb25SZWYuY3VycmVudFswXSxcbiAgICBwb3NpdGlvblJlZi5jdXJyZW50WzFdLCBcbiAgICBwb3NpdGlvblJlZi5jdXJyZW50WzJdXG4gIF07IC8vIEV4cGxpY2l0IHR5cGVkIGFycmF5IHRvIGF2b2lkIFR5cGVTY3JpcHQgZXJyb3JzXG4gIFxuICAvLyBGb3IgZXhwbGljaXQgZGVidWdnaW5nIC0gYWRkIGEgeSBvZmZzZXQgaWYgd2UncmUgaW4gZmxpZ2h0IHRvIEVOU1VSRSBtb3ZlbWVudFxuICBpZiAoaXNMYXVuY2hlZCAmJiBzdGFydE1vdmluZ1RpbWUuY3VycmVudCA+IDApIHtcbiAgICAvLyBJTVBPUlRBTlQgQ0hBTkdFOiBXZSBjYWxjdWxhdGUgdmFsdWVzIGV2ZW4gZHVyaW5nIHByZS1sYXVuY2ggc3RhZ2VcbiAgICAvLyBUaGlzIGVuc3VyZXMgZGFzaGJvYXJkIHVwZGF0ZXMsIGJ1dCB2aXN1YWwgcG9zaXRpb24gb25seSBjaGFuZ2VzIGFmdGVyIHN0YXJ0TW92aW5nVGltZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCkvMTAwMDtcbiAgICBjb25zdCB0aW1lVW50aWxNb3ZlbWVudCA9IE1hdGgubWF4KDAsIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50IC0gbm93KTtcbiAgICBjb25zdCBzaG91bGRTaG93TW92ZW1lbnQgPSBub3cgPj0gc3RhcnRNb3ZpbmdUaW1lLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gQWRkIHRpbWUtYmFzZWQgY2FsY3VsYXRpb25zIGV2ZW4gZHVyaW5nIHByZS1sYXVuY2hcbiAgICAvLyBUaGlzIGVuc3VyZXMgZGFzaGJvYXJkIHJlZ2lzdGVycyBjaGFuZ2VzIGltbWVkaWF0ZWx5XG4gICAgbGV0IHRpbWVCYXNlZFZhbHVlID0gMDtcbiAgICBcbiAgICBpZiAoc2hvdWxkU2hvd01vdmVtZW50KSB7XG4gICAgICAvLyBBY3R1YWwgbW92ZW1lbnQgcGhhc2UgLSBhZnRlciBzdGFydE1vdmluZ1RpbWVcbiAgICAgIGNvbnN0IHRpbWVJbkZsaWdodCA9IG5vdyAtIHN0YXJ0TW92aW5nVGltZS5jdXJyZW50O1xuICAgICAgLy8gQWJzb2x1dGVseSBmb3JjZSBwb3NpdGlvbiB0byBpbmNyZWFzZSB3aXRoIHRpbWUgbm8gbWF0dGVyIHdoYXRcbiAgICAgIHRpbWVCYXNlZFZhbHVlID0gdGltZUluRmxpZ2h0ICogMjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RpbGwgaW4gcHJlLWxhdW5jaCBwaGFzZSAtIGNhbGN1bGF0ZSBhIHNtYWxsIHZhbHVlIHByb3BvcnRpb25hbCB0byB0aGUgY291bnRkb3duXG4gICAgICAvLyBUaGlzIHdvbid0IGJlIHVzZWQgZm9yIHZpc3VhbCByZW5kZXJpbmcgYnV0IHdpbGwgYmUgdXNlZCBmb3IgZGFzaGJvYXJkXG4gICAgICB0aW1lQmFzZWRWYWx1ZSA9IDAuMSAqICgxIC0gdGltZVVudGlsTW92ZW1lbnQvMi4wKTsgLy8gR3Jvd3MgZnJvbSAwIHRvIDAuMSBkdXJpbmcgdGhlIDItc2Vjb25kIGNvdW50ZG93blxuICAgIH1cbiAgICBcbiAgICAvLyBTdG9yZSBhY3R1YWwgdGltZUJhc2VkUG9zaXRpb24gZm9yIHBoeXNpY3MvVUkgY2FsY3VsYXRpb25cbiAgICBjb25zdCB0aW1lQmFzZWRQb3NpdGlvbiA9IEdST1VORF9ZICsgdGltZUJhc2VkVmFsdWU7XG4gICAgXG4gICAgLy8gRm9yIHZpc3VhbCByZW5kZXJpbmcsIG9ubHkgYXBwbHkgcG9zaXRpb24gY2hhbmdlIGFmdGVyIHN0YXJ0TW92aW5nVGltZVxuICAgIGlmIChzaG91bGRTaG93TW92ZW1lbnQpIHtcbiAgICAgIHJlbmRlclBvc2l0aW9uWzFdID0gTWF0aC5tYXgoXG4gICAgICAgIHJlbmRlclBvc2l0aW9uWzFdLCAgICAgICAgICAgLy8gQ3VycmVudCBjYWxjdWxhdGVkIHBvc2l0aW9uIFxuICAgICAgICB0aW1lQmFzZWRQb3NpdGlvbiwgICAgICAgICAgIC8vIFRpbWUtYmFzZWQgcG9zaXRpb25cbiAgICAgICAgZ2xvYmFsUm9ja2V0WSwgICAgICAgICAgICAgICAvLyBHbG9iYWwgdHJhY2tpbmcgcG9zaXRpb25cbiAgICAgICAgR1JPVU5EX1kgKyB0aW1lQmFzZWRWYWx1ZSAgICAvLyBNaW5pbXVtIGd1YXJhbnRlZWQgcG9zaXRpb25cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBPVkVSUklERTogRmxpZ2h0IHRpbWU9JHsobm93LXN0YXJ0TW92aW5nVGltZS5jdXJyZW50KS50b0ZpeGVkKDEpfXMsIHk9JHtyZW5kZXJQb3NpdGlvblsxXS50b0ZpeGVkKDIpfSwgZ2xvYmFsPSR7Z2xvYmFsUm9ja2V0WS50b0ZpeGVkKDIpfWApO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIChcbiAgICA8Z3JvdXAgcG9zaXRpb249e3JlbmRlclBvc2l0aW9ufSByb3RhdGlvbj17cm90YXRpb259PlxuICAgICAgPFJvY2tldE1vZGVsIFxuICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWR9XG4gICAgICAgIGlzTGF1bmNoZWQ9e2lzTGF1bmNoZWR9XG4gICAgICAgIHRocm90dGxlPXt0aHJvdHRsZX1cbiAgICAgICAgaGlnaGxpZ2h0ZWRQYXJ0PXtoaWdobGlnaHRlZFBhcnR9XG4gICAgICAgIHByZUxhdW5jaEZpcmU9e3Nob3dGaXJlfVxuICAgICAgICBjb3VudGRvd25TdGFnZT17M30gLy8gQWx3YXlzIG1heCBmbGFtZSBpbnRlbnNpdHlcbiAgICAgICAgcHJlc2VydmVSb3RhdGlvbj17cHJlc2VydmVSb3RhdGlvblJlZi5jdXJyZW50fSAvLyBQYXNzIHByZXNlcnZlUm90YXRpb24gZmxhZ1xuICAgICAgLz5cbiAgICA8L2dyb3VwPlxuICApO1xufVxuXG4vLyBWaWV3cG9ydENvbnRyb2xzIGNvbXBvbmVudCBmb3IgcmVwb3NpdGlvbmluZyBjYW1lcmEgdG8gZGVmYXVsdCB2aWV3XG5mdW5jdGlvbiBWaWV3cG9ydENvbnRyb2xzKHsgXG4gIHZpZXcsIFxuICBzZXRWaWV3LFxuICBpc01vYmlsZVxufTogeyBcbiAgdmlldzogJ3RvcCcgfCAnc2lkZScgfCAncGVyc3BlY3RpdmUnLCBcbiAgc2V0VmlldzogKHZpZXc6ICd0b3AnIHwgJ3NpZGUnIHwgJ3BlcnNwZWN0aXZlJykgPT4gdm9pZCxcbiAgaXNNb2JpbGU6IGJvb2xlYW5cbn0pIHtcbiAgLy8gQWRkIHN0YXRlIHRvIHRyYWNrIHRoZSByb3RhdGlvbiBvZiB0aGUgY29tcGFzcyBuZWVkbGVcbiAgY29uc3QgW2NvbXBhc3NSb3RhdGlvbiwgc2V0Q29tcGFzc1JvdGF0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBcbiAgLy8gTGlzdGVuIGZvciBjYW1lcmEvcm9ja2V0IHJvdGF0aW9uIGNoYW5nZXMgdG8gdXBkYXRlIGNvbXBhc3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgcm90YXRpb24gdXBkYXRlc1xuICAgIGNvbnN0IGhhbmRsZVJvY2tldFJvdGF0aW9uID0gKGU6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZS5kZXRhaWwgJiYgdHlwZW9mIGUuZGV0YWlsLnJvdGF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZXRDb21wYXNzUm90YXRpb24oZS5kZXRhaWwucm90YXRpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gTGlzdGVuIGZvciBjdXN0b20gcm9ja2V0IHJvdGF0aW9uIGV2ZW50c1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyb2NrZXRSb3RhdGlvbicgYXMgYW55LCBoYW5kbGVSb2NrZXRSb3RhdGlvbik7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyb2NrZXRSb3RhdGlvbicgYXMgYW55LCBoYW5kbGVSb2NrZXRSb3RhdGlvbik7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNvbXBsZXRlbHkgcmVzZXQgdGhlIHZpZXcgYW5kIHJvdGF0aW9uXG4gIGNvbnN0IHJlc2V0VmlldyA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgU2V0dGluZyB2aWV3IHRvIHBlcnNwZWN0aXZlIChjdXJyZW50OiAke3ZpZXd9KWApO1xuICAgIHNldFZpZXcoJ3BlcnNwZWN0aXZlJyk7XG4gICAgXG4gICAgLy8gUmVzZXQgY29tcGFzcyByb3RhdGlvblxuICAgIHNldENvbXBhc3NSb3RhdGlvbigwKTtcbiAgICBcbiAgICAvLyBSZXNldCBnbG9iYWwgcm90YXRpb24gdHJhY2tlclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgKHdpbmRvdyBhcyBhbnkpLmxhc3RSb2NrZXRSb3RhdGlvbiA9IDA7XG4gICAgfVxuICAgIFxuICAgIC8vIERpc3BhdGNoIGV2ZW50cyB0byByZXNldCBjYW1lcmEgYW5kIGNvbXBhc3NcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9ja2V0Um90YXRpb24nLCB7IFxuICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IDAgfSBcbiAgICAgIH0pKTtcbiAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHNtb290aGx5IHJlcG9zaXRpb24gdGhlIGNhbWVyYSBhbmQgcm9ja2V0XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Jlc2V0Q2FtZXJhVmlldycsIHt9KSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtOCByaWdodC0xMCB6LTUwIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHBvaW50ZXItZXZlbnRzLWF1dG9cIj5cbiAgICAgIDxtb3Rpb24uYnV0dG9uIFxuICAgICAgICBvbkNsaWNrPXtyZXNldFZpZXd9XG4gICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBteC0yXCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIlJlc2V0IENhbWVyYSB0byBEZWZhdWx0IFZpZXdcIlxuICAgICAgICB3aGlsZUhvdmVyPXt7IFxuICAgICAgICAgIHNjYWxlOiAxLjEsXG4gICAgICAgICAgeTogLTIsXG4gICAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSkpXCJcbiAgICAgICAgfX1cbiAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTUgfX1cbiAgICAgICAgdHJhbnNpdGlvbj17eyB0eXBlOiBcInNwcmluZ1wiLCBzdGlmZm5lc3M6IDQwMCwgZGFtcGluZzogMTUgfX1cbiAgICAgID5cbiAgICAgICAgPHN2ZyB3aWR0aD1cIjQ4XCIgaGVpZ2h0PVwiNDhcIiB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgey8qIERlZmluZSB0aGUgYmx1ciBmaWx0ZXIgKi99XG4gICAgICAgICAgPGRlZnM+XG4gICAgICAgICAgICA8ZmlsdGVyIGlkPVwicGlua1NoYWRvd1wiIHg9XCItMjAlXCIgeT1cIi0yMCVcIiB3aWR0aD1cIjE0MCVcIiBoZWlnaHQ9XCIxNDAlXCI+XG4gICAgICAgICAgICAgIDxmZU9mZnNldCBkeT1cIjJcIiAvPlxuICAgICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPVwiM1wiIC8+XG4gICAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHR5cGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCIwIDAgMCAwIDAuOTUgMCAwIDAgMCAwLjIgMCAwIDAgMCAwLjY1IDAgMCAwIDAuNiAwXCIgLz5cbiAgICAgICAgICAgIDwvZmlsdGVyPlxuICAgICAgICAgICAgey8qIE1ldGFsbGljIGdyYWRpZW50ICovfVxuICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibWV0YWxsaWNHcmFkaWVudFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcENvbG9yPVwiIzdEN0Q3RFwiIC8+XG4gICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjUwJVwiIHN0b3BDb2xvcj1cIiNBNUE1QTVcIiAvPlxuICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcENvbG9yPVwiIzVBNUE1QVwiIC8+XG4gICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxuICAgICAgICAgIDwvZGVmcz5cbiAgICAgICAgICB7LyogTmF2aWdhdGlvbiBhcnJvdyAtIGZhdHRlciBhbmQgbG9uZ2VyIHdpdGggcGlua2lzaCBzaGFkb3cgKi99XG4gICAgICAgICAgPGcgdHJhbnNmb3JtPXtgcm90YXRlKC0ke2NvbXBhc3NSb3RhdGlvbn0gMjQgMjQpYH0+XG4gICAgICAgICAgICB7LyogRW5oYW5jZWQgcGlua2lzaCBzaGFkb3cgKi99XG4gICAgICAgICAgICA8cGF0aCBcbiAgICAgICAgICAgICAgZD1cIk0yNCA2TDM3IDM4TDI0IDMwTDExIDM4TDI0IDZaXCIgXG4gICAgICAgICAgICAgIGZpbGw9XCIjRUM0ODk5XCJcbiAgICAgICAgICAgICAgb3BhY2l0eT1cIjAuN1wiXG4gICAgICAgICAgICAgIGZpbHRlcj1cInVybCgjcGlua1NoYWRvdylcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsvKiBCbGFjayBvdXRsaW5lIHRvIGNyZWF0ZSBjb250cmFzdCB3aXRoIHRoZSBzaGFkb3cgKi99XG4gICAgICAgICAgICA8cGF0aCBcbiAgICAgICAgICAgICAgZD1cIk0yNCA2TDM3IDM4TDI0IDMwTDExIDM4TDI0IDZaXCIgXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiYmxhY2tcIlxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjEuNVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgey8qIE1haW4gYXJyb3cgd2l0aCBtZXRhbGxpYyBncmFkaWVudCAqL31cbiAgICAgICAgICAgIDxwYXRoIFxuICAgICAgICAgICAgICBkPVwiTTI0IDZMMzcgMzhMMjQgMzBMMTEgMzhMMjQgNlpcIiBcbiAgICAgICAgICAgICAgZmlsbD1cInVybCgjbWV0YWxsaWNHcmFkaWVudClcIlxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjAuNzVcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJyZ2JhKDAsMCwwLDAuNSlcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsvKiBTdWJ0bGUgaGlnaGxpZ2h0IGZvciBtZXRhbGxpYyBlZmZlY3QgKi99XG4gICAgICAgICAgICA8cGF0aCBcbiAgICAgICAgICAgICAgZD1cIk0yNCA2TDMwLjUgMjJMMjQgNlpcIiBcbiAgICAgICAgICAgICAgZmlsbD1cIndoaXRlXCJcbiAgICAgICAgICAgICAgb3BhY2l0eT1cIjAuMlwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIEN1c3RvbSBPcmJpdENvbnRyb2xzIHdyYXBwZXIgY29tcG9uZW50IHRoYXQgaGFuZGxlcyByb2NrZXQgcm9sbCByb3RhdGlvblxuZnVuY3Rpb24gQ3VzdG9tT3JiaXRDb250cm9scyh7IHBvc2l0aW9uLCB2aWV3IH06IHsgcG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgdmlldzogJ3RvcCcgfCAnc2lkZScgfCAncGVyc3BlY3RpdmUnIH0pIHtcbiAgY29uc3Qgb3JiaXRSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCB7IGNhbWVyYSwgZ2wsIHNjZW5lIH0gPSB1c2VUaHJlZSgpXG4gIGNvbnN0IHByZXZWaWV3UmVmID0gdXNlUmVmKHZpZXcpXG4gIFxuICAvLyBDcmVhdGUgc3RhdGUgZm9yIHRyYWNraW5nIGludGVyYWN0aW9uXG4gIGNvbnN0IFtpc0RyYWdnaW5nUm9ja2V0LCBzZXRJc0RyYWdnaW5nUm9ja2V0XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNSb2NrZXRIb3ZlcmVkLCBzZXRJc1JvY2tldEhvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpIC8vIFRyYWNrIGlmIHJvY2tldCBpcyBiZWluZyBob3ZlcmVkXG4gIGNvbnN0IGlzRHJhZ2dpbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG4gIGNvbnN0IHN0YXJ0RHJhZ1Bvc2l0aW9uID0gdXNlUmVmKHsgeDogMCwgeTogMCB9KVxuICBjb25zdCBzdGFydERyYWdUaW1lc3RhbXAgPSB1c2VSZWYoMCkgLy8gVHJhY2sgdGltZSBmb3Igc3BlZWQgY2FsY3VsYXRpb25cbiAgY29uc3QgY2FtZXJhUm9sbCA9IHVzZVJlZigwKVxuICBcbiAgLy8gQ3JlYXRlIGEgcmF5Y2FzdGVyIGZvciBkZXRlY3Rpbmcgcm9ja2V0IGludGVyYWN0aW9uc1xuICBjb25zdCByYXljYXN0ZXIgPSB1c2VSZWYobmV3IFRIUkVFLlJheWNhc3RlcigpKVxuICBjb25zdCBtb3VzZSA9IHVzZVJlZihuZXcgVEhSRUUuVmVjdG9yMigpKVxuICBjb25zdCBpc0ludGVyYWN0aW5nID0gdXNlUmVmKGZhbHNlKSAvLyBUcmFjayBib3RoIG1vdXNlIGFuZCB0b3VjaCBpbnRlcmFjdGlvbnNcbiAgXG4gIC8vIFNldCB1cCBjYW1lcmEgdXAgdmVjdG9ycyBmb3IgZGlmZmVyZW50IHZpZXdzXG4gIGNvbnN0IGNhbWVyYXNVcCA9IHVzZVJlZjx7W2tleTogc3RyaW5nXTogVEhSRUUuVmVjdG9yM30+KHtcbiAgICB0b3A6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC0xKSwgICAgIC8vIExvb2tpbmcgZG93biwgXCJ1cFwiIGlzIC1aXG4gICAgc2lkZTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCksICAgICAvLyBMb29raW5nIGZyb20gc2lkZSwgXCJ1cFwiIGlzIFlcbiAgICBwZXJzcGVjdGl2ZTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCkgLy8gU3RhbmRhcmQgXCJ1cFwiIGlzIFlcbiAgfSk7XG5cbiAgLy8gU3RvcmUgdGhlIGxhc3Qgcm90YXRpb24gdmFsdWUgZ2xvYmFsbHkgc28gaXQgY2FuIGJlIGFjY2Vzc2VkIGJ5IG90aGVyIGNvbXBvbmVudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIHRoZSBnbG9iYWwgdmFyaWFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIEluaXRpYWxpemUgd2l0aCBjdXJyZW50IHZhbHVlIGlmIGl0IGV4aXN0c1xuICAgICAgKHdpbmRvdyBhcyBhbnkpLmxhc3RSb2NrZXRSb3RhdGlvbiA9IGNhbWVyYVJvbGwuY3VycmVudDtcbiAgICB9XG4gIH0sIFtdKTtcbiAgXG4gIC8vIExpc3RlbiBmb3IgcmVzZXQgZXZlbnRzIHRvIGNvbXBsZXRlbHkgcmVzZXQgdGhlIGNhbWVyYVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2V0Q2FtZXJhID0gKCkgPT4ge1xuICAgICAgLy8gUmVzZXQgY2FtZXJhIHJvbGxcbiAgICAgIGNhbWVyYVJvbGwuY3VycmVudCA9IDA7XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IGdsb2JhbCByb3RhdGlvbiB0cmFja2VyXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmxhc3RSb2NrZXRSb3RhdGlvbiA9IDA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IGNhbWVyYSB1cCB2ZWN0b3IgYmFzZWQgb24gdmlldyB0eXBlXG4gICAgICBjYW1lcmEudXAuY29weShjYW1lcmFzVXAuY3VycmVudFt2aWV3XSk7XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IG9yYml0IGNvbnRyb2xzIHBvc2l0aW9uXG4gICAgICBpZiAob3JiaXRSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBTZXQgdGFyZ2V0IGJhY2sgdG8gdGhlIHJvY2tldCBwb3NpdGlvblxuICAgICAgICBvcmJpdFJlZi5jdXJyZW50LnRhcmdldC5zZXQocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCB0aGUgcG9zaXRpb24gYmFzZWQgb24gdGhlIHZpZXdcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0ge1xuICAgICAgICAgIHRvcDogWzAsIDE1LCAwXSwgICAgICAgICAgLy8gRGlyZWN0bHkgYWJvdmVcbiAgICAgICAgICBzaWRlOiBbMTUsIDAsIDBdLCAgICAgICAgIC8vIFB1cmUgc2lkZSB2aWV3XG4gICAgICAgICAgcGVyc3BlY3RpdmU6IFsxMCwgMTAsIDEwXSAgLy8gSXNvbWV0cmljIHZpZXdcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uc1t2aWV3XTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldChwb3NbMF0sIHBvc1sxXSwgcG9zWzJdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgY29udHJvbHNcbiAgICAgICAgb3JiaXRSZWYuY3VycmVudC51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNldENhbWVyYVZpZXcnLCBoYW5kbGVSZXNldENhbWVyYSBhcyBFdmVudExpc3RlbmVyKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2V0Q2FtZXJhVmlldycsIGhhbmRsZVJlc2V0Q2FtZXJhIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH07XG4gIH0sIFtjYW1lcmEsIHZpZXcsIHBvc2l0aW9uXSk7XG4gIFxuICAvLyBPbiBjb21wb25lbnQgbW91bnQsIHNldCB1cCBldmVudCBsaXN0ZW5lcnNcbiAgLy8gQWRkIGN1cnNvciBjaGFuZ2Ugd2hlbiBob3ZlcmluZyBvdmVyIHJvY2tldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1JvY2tldEhvdmVyZWQgfHwgaXNEcmFnZ2luZ1JvY2tldCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnbW92ZScgLy8gQ2hhbmdlIGN1cnNvciB0byBpbmRpY2F0ZSByb3RhdGFibGUgb2JqZWN0XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2F1dG8nIC8vIFJlc2V0IGN1cnNvclxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnYXV0bycgLy8gRW5zdXJlIGN1cnNvciBpcyByZXNldCBvbiB1bm1vdW50XG4gICAgfVxuICB9LCBbaXNSb2NrZXRIb3ZlcmVkLCBpc0RyYWdnaW5nUm9ja2V0XSlcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZG9tRWxlbWVudCA9IGdsLmRvbUVsZW1lbnRcbiAgICBcbiAgICAvLyBDb21tb24gZnVuY3Rpb24gZm9yIHJheWNhc3RpbmcgdG8gZGV0ZWN0IHJvY2tldFxuICAgIGNvbnN0IGNoZWNrUm9ja2V0SW50ZXJzZWN0aW9uID0gKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKSA9PiB7XG4gICAgICAvLyBHZXQgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIG1vdXNlLmN1cnJlbnQueCA9ICgoY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDIgLSAxXG4gICAgICBtb3VzZS5jdXJyZW50LnkgPSAtKChjbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQpICogMiArIDFcbiAgICAgIFxuICAgICAgLy8gU2V0IHVwIHJheWNhc3RlclxuICAgICAgcmF5Y2FzdGVyLmN1cnJlbnQuc2V0RnJvbUNhbWVyYShtb3VzZS5jdXJyZW50LCBjYW1lcmEpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoZSByYXkgaW50ZXJzZWN0cyB3aXRoIHRoZSByb2NrZXRcbiAgICAgIGNvbnN0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuY3VycmVudC5pbnRlcnNlY3RPYmplY3RzKHNjZW5lLmNoaWxkcmVuLCB0cnVlKVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igbm9zZSBjb25lIHNwZWNpZmljYWxseSBmb3Igc3BlY2lhbCBoYW5kbGluZ1xuICAgICAgY29uc3Qgbm9zZUNvbmVJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3RzLmZpbmQoaW50ZXJzZWN0ID0+IFxuICAgICAgICBpbnRlcnNlY3Qub2JqZWN0ICYmIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnbm9zZWNvbmUnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gSWYgbm9zZSBjb25lIGlzIGNsaWNrZWQsIHJlc2V0IGNhbWVyYSB0byBwZXJzcGVjdGl2ZSB2aWV3IHBvaW50aW5nIHVwXG4gICAgICBpZiAobm9zZUNvbmVJbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgLy8gRGlzcGF0Y2ggYW4gZXZlbnQgdG8gbm90aWZ5IHRoYXQgbm9zZSBjb25lIHdhcyBjbGlja2VkXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm9zZSBjb25lIGNsaWNrZWQgLSByZXNldHRpbmcgY2FtZXJhIHZpZXdcIik7XG4gICAgICAgICAgLy8gUmVzZXQgY29tcGFzcyBhbmQgY2FtZXJhXG4gICAgICAgICAgY2FtZXJhUm9sbC5jdXJyZW50ID0gMDtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JvY2tldFJvdGF0aW9uJywge1xuICAgICAgICAgICAgZGV0YWlsOiB7IHJvdGF0aW9uOiAwIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyZXNldENhbWVyYVZpZXcnLCB7fSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBvdXQgbm9uLW1lc2ggb2JqZWN0cyBhbmQgY2hlY2sgaWYgYW55IGludGVyc2VjdGlvbnMgaGF2ZSByb2NrZXQgcGFydHNcbiAgICAgIHJldHVybiBpbnRlcnNlY3RzLnNvbWUoaW50ZXJzZWN0ID0+IHtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3Qub2JqZWN0KSByZXR1cm4gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBvYmplY3QgaXMgcGFydCBvZiB0aGUgcm9ja2V0IChieSBuYW1lIG9yIGhpZXJhcmNoeSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2FpcmZyYW1lJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ25vc2Vjb25lJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2VuZ2luZScpIHx8XG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdmaW5zJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ3BhcmFjaHV0ZScpIHx8XG4gICAgICAgICAgaW50ZXJzZWN0Lm9iamVjdC5uYW1lLmluY2x1ZGVzKCdlbGVjdHJvbmljcycpXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIENhbGN1bGF0ZSByb2xsIGZhY3RvciBiYXNlZCBvbiBkcmFnIHNwZWVkIGZvciBhZGFwdGl2ZSBzZW5zaXRpdml0eVxuICAgIGNvbnN0IGNhbGN1bGF0ZVJvbGxGYWN0b3IgPSAoZGVsdGFYOiBudW1iZXIsIGRlbHRhVGltZTogbnVtYmVyKSA9PiB7XG4gICAgICAvLyBDYWxjdWxhdGUgZHJhZyBzcGVlZCAocGl4ZWxzIHBlciBtaWxsaXNlY29uZClcbiAgICAgIGNvbnN0IGRyYWdTcGVlZCA9IE1hdGguYWJzKGRlbHRhWCkgLyBNYXRoLm1heChkZWx0YVRpbWUsIDEpO1xuICAgICAgXG4gICAgICAvLyBCYXNlIHNlbnNpdGl2aXR5IC0gYWRqdXN0ZWQgbG93ZXIgZm9yIGEgbW9yZSBzdWJ0bGUgcm90YXRpb25cbiAgICAgIGNvbnN0IGJhc2VTZW5zaXRpdml0eSA9IDAuMDAzOyAgLy8gUmVkdWNlZCBmcm9tIDAuMDFcbiAgICAgIGNvbnN0IG1pblNlbnNpdGl2aXR5ID0gMC4wMDE1OyAgLy8gUmVkdWNlZCBmcm9tIDAuMDA1IC0gTW9yZSBwcmVjaXNpb24gZm9yIHNsb3cgZHJhZ3NcbiAgICAgIGNvbnN0IG1heFNlbnNpdGl2aXR5ID0gMC4wMDY7ICAgLy8gUmVkdWNlZCBmcm9tIDAuMDIgLSBGYXN0ZXIgcm90YXRpb24gZm9yIHF1aWNrIGRyYWdzXG4gICAgICBcbiAgICAgIC8vIEV4cG9uZW50aWFsIHNjYWxpbmcgYmFzZWQgb24gZHJhZyBzcGVlZFxuICAgICAgLy8gVGhpcyBwcm92aWRlcyBmaW5lIGNvbnRyb2wgZm9yIHNsb3cgZHJhZ3MgYW5kIHF1aWNrZXIgcm90YXRpb24gZm9yIGZhc3QgZHJhZ3NcbiAgICAgIGxldCBzZW5zaXRpdml0eTtcbiAgICAgIGlmIChkcmFnU3BlZWQgPCAwLjA1KSB7XG4gICAgICAgIC8vIFNsb3cgZHJhZyAtIGZpbmUgY29udHJvbFxuICAgICAgICBzZW5zaXRpdml0eSA9IG1pblNlbnNpdGl2aXR5ICsgKGJhc2VTZW5zaXRpdml0eSAtIG1pblNlbnNpdGl2aXR5KSAqIChkcmFnU3BlZWQgLyAwLjA1KTtcbiAgICAgIH0gZWxzZSBpZiAoZHJhZ1NwZWVkID4gMC4yKSB7XG4gICAgICAgIC8vIEZhc3QgZHJhZyAtIHF1aWNrIHJvdGF0aW9uXG4gICAgICAgIHNlbnNpdGl2aXR5ID0gYmFzZVNlbnNpdGl2aXR5ICsgKG1heFNlbnNpdGl2aXR5IC0gYmFzZVNlbnNpdGl2aXR5KSAqIE1hdGgubWluKDEsIChkcmFnU3BlZWQgLSAwLjIpIC8gMC4zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1lZGl1bSBzcGVlZCAtIG5vcm1hbCBzZW5zaXRpdml0eVxuICAgICAgICBzZW5zaXRpdml0eSA9IGJhc2VTZW5zaXRpdml0eTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXBwbHkgdGhlIGNhbGN1bGF0ZWQgc2Vuc2l0aXZpdHkgdG8gdGhlIGRlbHRhXG4gICAgICAvLyBJTVBPUlRBTlQ6IEludmVydCB0aGUgc2lnbiB0byBmaXggcm90YXRpb24gZGlyZWN0aW9uIChuZWdhdGl2ZSBiZWNvbWVzIHBvc2l0aXZlIGFuZCB2aWNlIHZlcnNhKVxuICAgICAgcmV0dXJuIC1kZWx0YVggKiBzZW5zaXRpdml0eTtcbiAgICB9XG4gICAgXG4gICAgLy8gTW91c2UgZXZlbnQgaGFuZGxlcnNcbiAgICBjb25zdCBvbk1vdXNlRG93biA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgaWYgKCFvcmJpdFJlZi5jdXJyZW50KSByZXR1cm5cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgY2xpY2tpbmcgb24gcm9ja2V0XG4gICAgICBjb25zdCBpc1JvY2tldCA9IGNoZWNrUm9ja2V0SW50ZXJzZWN0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpXG4gICAgICBcbiAgICAgIC8vIElmIGNsaWNraW5nIG9uIHJvY2tldCwgc3RhcnQgcm9ja2V0LXNwZWNpZmljIGRyYWdnaW5nXG4gICAgICBpZiAoaXNSb2NrZXQpIHtcbiAgICAgICAgc2V0SXNEcmFnZ2luZ1JvY2tldCh0cnVlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbml0aWFsIGRyYWcgcG9zaXRpb24gYW5kIHRpbWVzdGFtcCBmb3IgY2FsY3VsYXRpbmcgZGVsdGFzIGFuZCBzcGVlZFxuICAgICAgICBzdGFydERyYWdQb3NpdGlvbi5jdXJyZW50ID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH1cbiAgICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICBcbiAgICAgICAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZSBPcmJpdENvbnRyb2xzIHRvIGhhbmRsZSBvdXIgb3duIHJvdGF0aW9uXG4gICAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgb3JiaXRSZWYuY3VycmVudC5lbmFibGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSB0cnVlXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uTW91c2VNb3ZlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpbmcuY3VycmVudCB8fCAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSByZXR1cm5cbiAgICAgIFxuICAgICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGltZSBlbGFwc2VkIGZvciBzcGVlZCBjYWxjdWxhdGlvblxuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnRcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCByYXcgZGVsdGEgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICAgIGNvbnN0IHJhd0RlbHRhWCA9IGV2ZW50LmNsaWVudFggLSBzdGFydERyYWdQb3NpdGlvbi5jdXJyZW50LnhcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhZGFwdGl2ZSByb2xsIGZhY3RvciBiYXNlZCBvbiBkcmFnIHNwZWVkXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IGNhbGN1bGF0ZVJvbGxGYWN0b3IocmF3RGVsdGFYLCBkZWx0YVRpbWUpXG4gICAgICAgIFxuICAgICAgICAvLyBBcHBseSByb2xsIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmFcbiAgICAgICAgLy8gVGhpcyByb3RhdGVzIHRoZSBjYW1lcmEgYXJvdW5kIHRoZSBsaW5lIGZyb20gdGhlIGNhbWVyYSB0byB0aGUgdGFyZ2V0XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pXG4gICAgICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uLmNsb25lKClcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5zdWJWZWN0b3JzKHRhcmdldCwgY2FtZXJhUG9zaXRpb24pLm5vcm1hbGl6ZSgpXG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSByb3RhdGlvbiBtYXRyaXggZm9yIHJvbGxpbmcgYXJvdW5kIHRoZSB2aWV3IGRpcmVjdGlvblxuICAgICAgICBjb25zdCByb2xsTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25BeGlzKGRpcmVjdGlvbiwgZGVsdGFYKVxuICAgICAgICBcbiAgICAgICAgLy8gQXBwbHkgdGhlIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmEgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdXAgPSBjYW1lcmEudXAuY2xvbmUoKVxuICAgICAgICB1cC5hcHBseU1hdHJpeDQocm9sbE1hdHJpeClcbiAgICAgICAgY2FtZXJhLnVwLmNvcHkodXApXG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIG9yYml0IGNvbnRyb2xzIHRvIG1haW50YWluIGNvbnNpc3RlbmN5XG4gICAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgb3JiaXRSZWYuY3VycmVudC51cGRhdGUoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgc3RhcnQgcG9zaXRpb24gYW5kIHRpbWVzdGFtcCBmb3IgbmV4dCBmcmFtZVxuICAgICAgICBzdGFydERyYWdQb3NpdGlvbi5jdXJyZW50ID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH1cbiAgICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBjdXJyZW50VGltZVxuICAgICAgICBcbiAgICAgICAgLy8gVHJhY2sgdG90YWwgcm9sbCBhbW91bnRcbiAgICAgICAgY2FtZXJhUm9sbC5jdXJyZW50ICs9IGRlbHRhWFxuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgcm9sbCB2YWx1ZSBnbG9iYWxseVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAod2luZG93IGFzIGFueSkubGFzdFJvY2tldFJvdGF0aW9uID0gY2FtZXJhUm9sbC5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBFbWl0IGFuIGV2ZW50IHdpdGggdGhlIGN1cnJlbnQgY2FtZXJhIHJvdGF0aW9uIHRvIHVwZGF0ZSB0aGUgY29tcGFzc1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlcyBhbmQgZW5zdXJlIHZhbHVlcyBhcmUgd2l0aGluIDAtMzYwIHJhbmdlXG4gICAgICAgICAgY29uc3Qgcm90YXRpb25EZWdyZWVzID0gKChjYW1lcmFSb2xsLmN1cnJlbnQgKiAxODAgLyBNYXRoLlBJKSAlIDM2MCArIDM2MCkgJSAzNjA7XG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRSb3RhdGlvbicsIHsgXG4gICAgICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IHJvdGF0aW9uRGVncmVlcyB9IFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBvbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFJlLWVuYWJsZSBvcmJpdCBjb250cm9sc1xuICAgICAgICBpZiAob3JiaXRSZWYuY3VycmVudCkge1xuICAgICAgICAgIG9yYml0UmVmLmN1cnJlbnQuZW5hYmxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuICAgICAgICBzZXRJc0RyYWdnaW5nUm9ja2V0KGZhbHNlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSBmYWxzZVxuICAgIH1cbiAgICBcbiAgICAvLyBUb3VjaCBldmVudCBoYW5kbGVycyBmb3IgbW9iaWxlXG4gICAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIW9yYml0UmVmLmN1cnJlbnQgfHwgZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDApIHJldHVyblxuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIGZpcnN0IHRvdWNoXG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdG91Y2hpbmcgcm9ja2V0XG4gICAgICBjb25zdCBpc1JvY2tldCA9IGNoZWNrUm9ja2V0SW50ZXJzZWN0aW9uKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpXG4gICAgICBcbiAgICAgIC8vIElmIHRvdWNoaW5nIG9uIHJvY2tldCwgc3RhcnQgcm9ja2V0LXNwZWNpZmljIGRyYWdnaW5nXG4gICAgICBpZiAoaXNSb2NrZXQpIHtcbiAgICAgICAgc2V0SXNEcmFnZ2luZ1JvY2tldCh0cnVlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSBpbml0aWFsIGRyYWcgcG9zaXRpb24gYW5kIHRpbWVzdGFtcCBmb3IgY2FsY3VsYXRpbmcgZGVsdGFzIGFuZCBzcGVlZFxuICAgICAgICBzdGFydERyYWdQb3NpdGlvbi5jdXJyZW50ID0geyB4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZIH1cbiAgICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICBcbiAgICAgICAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZSBPcmJpdENvbnRyb2xzIHRvIGhhbmRsZSBvdXIgb3duIHJvdGF0aW9uXG4gICAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgb3JiaXRSZWYuY3VycmVudC5lbmFibGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSB0cnVlXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVG91Y2hNb3ZlID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpbmcuY3VycmVudCB8fCAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50IHx8IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSByZXR1cm5cbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBmaXJzdCB0b3VjaFxuICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSB0aW1lIGVsYXBzZWQgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBjb25zdCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0RHJhZ1RpbWVzdGFtcC5jdXJyZW50XG4gICAgICBcbiAgICAgIC8vIEdldCByYXcgZGVsdGEgZm9yIHNwZWVkIGNhbGN1bGF0aW9uXG4gICAgICBjb25zdCByYXdEZWx0YVggPSB0b3VjaC5jbGllbnRYIC0gc3RhcnREcmFnUG9zaXRpb24uY3VycmVudC54XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBhZGFwdGl2ZSByb2xsIGZhY3RvciBiYXNlZCBvbiBkcmFnIHNwZWVkXG4gICAgICBjb25zdCBkZWx0YVggPSBjYWxjdWxhdGVSb2xsRmFjdG9yKHJhd0RlbHRhWCwgZGVsdGFUaW1lKVxuICAgICAgXG4gICAgICAvLyBBcHBseSByb2xsIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmFcbiAgICAgIC8vIFRoaXMgcm90YXRlcyB0aGUgY2FtZXJhIGFyb3VuZCB0aGUgbGluZSBmcm9tIHRoZSBjYW1lcmEgdG8gdGhlIHRhcmdldFxuICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSlcbiAgICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uLmNsb25lKClcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuc3ViVmVjdG9ycyh0YXJnZXQsIGNhbWVyYVBvc2l0aW9uKS5ub3JtYWxpemUoKVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSByb3RhdGlvbiBtYXRyaXggZm9yIHJvbGxpbmcgYXJvdW5kIHRoZSB2aWV3IGRpcmVjdGlvblxuICAgICAgY29uc3Qgcm9sbE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uQXhpcyhkaXJlY3Rpb24sIGRlbHRhWClcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgdGhlIHJvdGF0aW9uIHRvIHRoZSBjYW1lcmEgcG9zaXRpb25cbiAgICAgIGNvbnN0IHVwID0gY2FtZXJhLnVwLmNsb25lKClcbiAgICAgIHVwLmFwcGx5TWF0cml4NChyb2xsTWF0cml4KVxuICAgICAgY2FtZXJhLnVwLmNvcHkodXApXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgb3JiaXQgY29udHJvbHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3lcbiAgICAgIGlmIChvcmJpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgIG9yYml0UmVmLmN1cnJlbnQudXBkYXRlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXJ0IHBvc2l0aW9uIGFuZCB0aW1lc3RhbXAgZm9yIG5leHQgZnJhbWVcbiAgICAgIHN0YXJ0RHJhZ1Bvc2l0aW9uLmN1cnJlbnQgPSB7IHg6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFkgfVxuICAgICAgc3RhcnREcmFnVGltZXN0YW1wLmN1cnJlbnQgPSBjdXJyZW50VGltZVxuICAgICAgXG4gICAgICAvLyBUcmFjayB0b3RhbCByb2xsIGFtb3VudFxuICAgICAgY2FtZXJhUm9sbC5jdXJyZW50ICs9IGRlbHRhWFxuICAgICAgXG4gICAgICAvLyBTdG9yZSByb2xsIHZhbHVlIGdsb2JhbGx5XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmxhc3RSb2NrZXRSb3RhdGlvbiA9IGNhbWVyYVJvbGwuY3VycmVudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW1pdCBhbiBldmVudCB3aXRoIHRoZSBjdXJyZW50IGNhbWVyYSByb3RhdGlvbiB0byB1cGRhdGUgdGhlIGNvbXBhc3NcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBDb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlcyBhbmQgZW5zdXJlIHZhbHVlcyBhcmUgd2l0aGluIDAtMzYwIHJhbmdlXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uRGVncmVlcyA9ICgoY2FtZXJhUm9sbC5jdXJyZW50ICogMTgwIC8gTWF0aC5QSSkgJSAzNjAgKyAzNjApICUgMzYwO1xuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JvY2tldFJvdGF0aW9uJywgeyBcbiAgICAgICAgICBkZXRhaWw6IHsgcm90YXRpb246IHJvdGF0aW9uRGVncmVlcyB9IFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9uVG91Y2hFbmQgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFJlLWVuYWJsZSBvcmJpdCBjb250cm9sc1xuICAgICAgICBpZiAob3JiaXRSZWYuY3VycmVudCkge1xuICAgICAgICAgIG9yYml0UmVmLmN1cnJlbnQuZW5hYmxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgZHJhZyBzdGF0ZVxuICAgICAgICBzZXRJc0RyYWdnaW5nUm9ja2V0KGZhbHNlKVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgfVxuICAgICAgXG4gICAgICBpc0ludGVyYWN0aW5nLmN1cnJlbnQgPSBmYWxzZVxuICAgIH1cbiAgICBcbiAgICAvLyBNb3VzZSBob3ZlciBkZXRlY3Rpb24gZm9yIGN1cnNvciBjaGFuZ2VcbiAgICBjb25zdCBvbk1vdXNlSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHJldHVybiAvLyBTa2lwIGhvdmVyIGRldGVjdGlvbiBkdXJpbmcgZHJhZ1xuICAgICAgXG4gICAgICAvLyBHZXQgbW91c2UgcG9zaXRpb25cbiAgICAgIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBtb3VzZS5jdXJyZW50LnggPSAoKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkgKiAyIC0gMVxuICAgICAgbW91c2UuY3VycmVudC55ID0gLSgoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0KSAqIDIgKyAxXG4gICAgICBcbiAgICAgIC8vIENhc3QgcmF5IHRvIGNoZWNrIGZvciByb2NrZXRcbiAgICAgIHJheWNhc3Rlci5jdXJyZW50LnNldEZyb21DYW1lcmEobW91c2UuY3VycmVudCwgY2FtZXJhKVxuICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5jdXJyZW50LmludGVyc2VjdE9iamVjdHMoc2NlbmUuY2hpbGRyZW4sIHRydWUpXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGhvdmVyaW5nIG92ZXIgcm9ja2V0XG4gICAgICBjb25zdCBpc1JvY2tldCA9IGludGVyc2VjdHMuc29tZShpbnRlcnNlY3QgPT4ge1xuICAgICAgICBpZiAoIWludGVyc2VjdC5vYmplY3QpIHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnYWlyZnJhbWUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnbm9zZWNvbmUnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygnZW5naW5lJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2ZpbnMnKSB8fFxuICAgICAgICAgIGludGVyc2VjdC5vYmplY3QubmFtZS5pbmNsdWRlcygncGFyYWNodXRlJykgfHxcbiAgICAgICAgICBpbnRlcnNlY3Qub2JqZWN0Lm5hbWUuaW5jbHVkZXMoJ2VsZWN0cm9uaWNzJylcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGhvdmVyIHN0YXRlXG4gICAgICBzZXRJc1JvY2tldEhvdmVyZWQoaXNSb2NrZXQpXG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICAvLyBNb3VzZSBldmVudHNcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcClcbiAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VIb3ZlcikgLy8gQWRkIGhvdmVyIGRldGVjdGlvblxuICAgIFxuICAgIC8vIFRvdWNoIGV2ZW50c1xuICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZClcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBldmVudCBsaXN0ZW5lcnMgb24gdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBNb3VzZSBldmVudHNcbiAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcClcbiAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZUhvdmVyKSAvLyBSZW1vdmUgaG92ZXIgZGV0ZWN0aW9uXG4gICAgICBcbiAgICAgIC8vIFRvdWNoIGV2ZW50c1xuICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZClcbiAgICB9XG4gIH0sIFtjYW1lcmEsIGdsLCBzY2VuZSwgcG9zaXRpb25dKVxuICBcbiAgLy8gUmVzZXQgY29udHJvbHMgd2hlbiB2aWV3IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob3JiaXRSZWYuY3VycmVudCAmJiBwcmV2Vmlld1JlZi5jdXJyZW50ICE9PSB2aWV3KSB7XG4gICAgICAvLyBTZXQgdXAgdmVjdG9ycyBmb3IgZGlmZmVyZW50IHZpZXdzXG4gICAgICBjb25zdCB1cFZlY3RvcnMgPSB7XG4gICAgICAgIHRvcDogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpLCAgICAvLyBMb29raW5nIGRvd24sIFwidXBcIiBpcyAtWlxuICAgICAgICBzaWRlOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSwgICAgLy8gTG9va2luZyBmcm9tIHNpZGUsIFwidXBcIiBpcyBZXG4gICAgICAgIHBlcnNwZWN0aXZlOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSAvLyBTdGFuZGFyZCBcInVwXCIgaXMgWVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGNhbWVyYSdzIHVwIHZlY3RvclxuICAgICAgY2FtZXJhLnVwLmNvcHkodXBWZWN0b3JzW3ZpZXddKTtcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgYW5kIHVwZGF0ZSBvcmJpdCBjb250cm9sc1xuICAgICAgb3JiaXRSZWYuY3VycmVudC50YXJnZXQuc2V0KHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pO1xuICAgICAgb3JiaXRSZWYuY3VycmVudC51cGRhdGUoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByZXZpb3VzIHZpZXdcbiAgICAgIHByZXZWaWV3UmVmLmN1cnJlbnQgPSB2aWV3O1xuICAgIH1cbiAgfSwgW3ZpZXcsIGNhbWVyYSwgcG9zaXRpb25dKTtcbiAgXG4gIC8vIE1ha2Ugc3VyZSBPcmJpdENvbnRyb2xzIHRhcmdldCBzdGF5cyB1cGRhdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9yYml0UmVmLmN1cnJlbnQpIHtcbiAgICAgIG9yYml0UmVmLmN1cnJlbnQudGFyZ2V0LnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKVxuICAgICAgb3JiaXRSZWYuY3VycmVudC51cGRhdGUoKVxuICAgIH1cbiAgfSwgW3Bvc2l0aW9uXSlcbiAgXG4gIHJldHVybiAoXG4gICAgPE9yYml0Q29udHJvbHNcbiAgICAgIHJlZj17b3JiaXRSZWZ9XG4gICAgICBlbmFibGVEYW1waW5nPXt0cnVlfVxuICAgICAgZGFtcGluZ0ZhY3Rvcj17MC4yfVxuICAgICAgbWluRGlzdGFuY2U9ezJ9XG4gICAgICBtYXhEaXN0YW5jZT17MTAwfVxuICAgICAgcm90YXRlU3BlZWQ9ezAuOH1cbiAgICAgIGVuYWJsZWQ9e3RydWV9XG4gICAgICBlbmFibGVab29tPXt0cnVlfVxuICAgICAgZW5hYmxlUm90YXRlPXt0cnVlfVxuICAgICAgZW5hYmxlUGFuPXt0cnVlfVxuICAgICAgcGFuU3BlZWQ9ezEuMH1cbiAgICAgIHNjcmVlblNwYWNlUGFubmluZz17dHJ1ZX1cbiAgICAgIHRhcmdldD17W3Bvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl1dfVxuICAgICAgdG91Y2hlcz17e1xuICAgICAgICBPTkU6IFRIUkVFLlRPVUNILlJPVEFURSxcbiAgICAgICAgVFdPOiBUSFJFRS5UT1VDSC5ET0xMWV9QQU5cbiAgICAgIH19XG4gICAgICBtb3VzZUJ1dHRvbnM9e3tcbiAgICAgICAgTEVGVDogVEhSRUUuTU9VU0UuUk9UQVRFLFxuICAgICAgICBNSURETEU6IFRIUkVFLk1PVVNFLkRPTExZLFxuICAgICAgICBSSUdIVDogVEhSRUUuTU9VU0UuUEFOXG4gICAgICB9fVxuICAgIC8+XG4gIClcbn1cblxuLy8gT3B0aW1pemVkIGxhdW5jaCBkYXRhIGRpc3BsYXlcbmZ1bmN0aW9uIExhdW5jaERhdGEoe1xuICBpc0xhdW5jaGVkLFxuICBzZXRJc0xhdW5jaGVkLFxuICB0aHJvdHRsZSxcbiAgc2V0VGhyb3R0bGUsXG4gIHJlc2V0Um9ja2V0LFxuICBsYXVuY2hSb2NrZXQsXG4gIHNwZWVkLFxuICBhbHRpdHVkZSxcbiAgbWF4U3BlZWQsXG4gIG1heEFsdGl0dWRlLFxuICBpc01vYmlsZVxufToge1xuICBpc0xhdW5jaGVkOiBib29sZWFuLFxuICBzZXRJc0xhdW5jaGVkOiAobGF1bmNoZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gIHRocm90dGxlOiBudW1iZXIsXG4gIHNldFRocm90dGxlOiAodGhyb3R0bGU6IG51bWJlcikgPT4gdm9pZCxcbiAgcmVzZXRSb2NrZXQ6ICgpID0+IHZvaWQsXG4gIGxhdW5jaFJvY2tldDogKCkgPT4gdm9pZCxcbiAgc3BlZWQ6IG51bWJlcixcbiAgYWx0aXR1ZGU6IG51bWJlcixcbiAgbWF4U3BlZWQ6IG51bWJlcixcbiAgbWF4QWx0aXR1ZGU6IG51bWJlcixcbiAgaXNNb2JpbGU6IGJvb2xlYW5cbn0pIHtcbiAgLy8gUHJldmVudCBtdWx0aXBsZSBjbGlja3NcbiAgY29uc3QgaXNUcmFuc2l0aW9uaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgbGF1bmNoVGltZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZvcmNlZFNwZWVkLCBzZXRGb3JjZWRTcGVlZF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2ZvcmNlZEFsdGl0dWRlLCBzZXRGb3JjZWRBbHRpdHVkZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2lzU2FmYXJpLCBzZXRJc1NhZmFyaV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Nocm9tZSwgc2V0SXNDaHJvbWVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNJT1MsIHNldElzSU9TXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWFjT1MsIHNldElzTWFjT1NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gRW5oYW5jZWQgYnJvd3Nlci9kZXZpY2UgZGV0ZWN0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgaXNTYWZhcmlCcm93c2VyID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgY29uc3QgaXNDaHJvbWVCcm93c2VyID0gL2Nocm9tZS9pLnRlc3QodXNlckFnZW50KSAmJiAhL2VkZ2V8ZWRnL2kudGVzdCh1c2VyQWdlbnQpO1xuICAgICAgY29uc3QgaXNJT1NEZXZpY2UgPSAvaXBob25lfGlwYWR8aXBvZHxpb3MvaS50ZXN0KHVzZXJBZ2VudCk7XG4gICAgICBjb25zdCBpc01hY09TRGV2aWNlID0gL21hY2ludG9zaHxtYWMgb3MgeC9pLnRlc3QodXNlckFnZW50KSAmJiAhaXNJT1NEZXZpY2U7XG4gICAgICBcbiAgICAgIHNldElzU2FmYXJpKGlzU2FmYXJpQnJvd3Nlcik7XG4gICAgICBzZXRJc0Nocm9tZShpc0Nocm9tZUJyb3dzZXIpO1xuICAgICAgc2V0SXNJT1MoaXNJT1NEZXZpY2UpO1xuICAgICAgc2V0SXNNYWNPUyhpc01hY09TRGV2aWNlKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYEJyb3dzZXIgZGV0ZWN0aW9uIC0gU2FmYXJpOiAke2lzU2FmYXJpQnJvd3Nlcn0sIENocm9tZTogJHtpc0Nocm9tZUJyb3dzZXJ9LCBpT1M6ICR7aXNJT1NEZXZpY2V9LCBtYWNPUzogJHtpc01hY09TRGV2aWNlfWApO1xuICAgIH1cbiAgfSwgW10pO1xuICBcbiAgLy8gQ09NUExFVEVMWSBORVcgQVBQUk9BQ0g6IEdlbmVyYXRlIHN5bnRoZXRpYyBkaXNwbGF5IHZhbHVlc1xuICAvLyBUaGlzIHJ1bnMgaW5kZXBlbmRlbnRseSBvZiB0aGUgcGh5c2ljcyBlbmdpbmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uIHdoZW4gbGF1bmNoZWRcbiAgICBpZiAoaXNMYXVuY2hlZCAmJiAhbGF1bmNoVGltZVJlZi5jdXJyZW50KSB7XG4gICAgICBsYXVuY2hUaW1lUmVmLmN1cnJlbnQgPSBEYXRlLm5vdygpIC8gMTAwMDtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgYW4gYW5pbWF0aW9uIGZyYW1lIGxvb3AgdG8gdXBkYXRlIHZhbHVlc1xuICAgICAgY29uc3QgdXBkYXRlRGlzcGxheVZhbHVlcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFpc0xhdW5jaGVkKSB7XG4gICAgICAgICAgbGF1bmNoVGltZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICBzZXRGb3JjZWRTcGVlZCgwKTtcbiAgICAgICAgICBzZXRGb3JjZWRBbHRpdHVkZSgwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gKGxhdW5jaFRpbWVSZWYuY3VycmVudCB8fCBub3cpO1xuICAgICAgICBcbiAgICAgICAgLy8gR3VhcmFudGVlZCBpbmNyZWFzaW5nIHZhbHVlcyBiYXNlZCBvbiBlbGFwc2VkIHRpbWVcbiAgICAgICAgLy8gU3BlZWQgc3RheXMgYXQgZXhhY3RseSAwLjAgZHVyaW5nIHByZS1sYXVuY2gsIHRoZW4gc3RhcnRzIGluY3JlYXNpbmdcbiAgICAgICAgbGV0IG5ld1NwZWVkID0gZWxhcHNlZCA8IDIgXG4gICAgICAgICAgPyAwLjAgIC8vIFN0YXkgZXhhY3RseSBhdCB6ZXJvIGR1cmluZyBwcmUtbGF1bmNoXG4gICAgICAgICAgOiAoZWxhcHNlZCAtIDIpICogMTA7IC8vIFN0YXJ0IGZyb20gemVybyBhdCBpZ25pdGlvbiwgdGhlbiBhY2NlbGVyYXRlXG4gICAgICAgIFxuICAgICAgICAvLyBBbHRpdHVkZSBzdGFydHMgYXQgMCB0aGVuIGluY3JlYXNlcyB3aXRoIGFjY2VsZXJhdGlvblxuICAgICAgICBsZXQgbmV3QWx0aXR1ZGUgPSBlbGFwc2VkIDwgMiBcbiAgICAgICAgICA/IDAgIC8vIFN0YXkgYXQgMCBkdXJpbmcgcHJlLWxhdW5jaFxuICAgICAgICAgIDogTWF0aC5wb3coZWxhcHNlZCAtIDIsIDIpICogMjsgLy8gUXVhZHJhdGljIGluY3JlYXNlIGFmdGVyXG4gICAgICAgICAgXG4gICAgICAgIC8vIENhcCBhdCByZWFzb25hYmxlIHZhbHVlc1xuICAgICAgICBuZXdTcGVlZCA9IE1hdGgubWluKG5ld1NwZWVkLCAxMDAwKTtcbiAgICAgICAgbmV3QWx0aXR1ZGUgPSBNYXRoLm1pbihuZXdBbHRpdHVkZSwgNTAwMCk7XG4gICAgICAgIFxuICAgICAgICBzZXRGb3JjZWRTcGVlZChuZXdTcGVlZCk7XG4gICAgICAgIHNldEZvcmNlZEFsdGl0dWRlKG5ld0FsdGl0dWRlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbnRpbnVlIGFuaW1hdGlvblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlRGlzcGxheVZhbHVlcyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uIGxvb3BcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVEaXNwbGF5VmFsdWVzKTtcbiAgICB9IGVsc2UgaWYgKCFpc0xhdW5jaGVkKSB7XG4gICAgICAvLyBSZXNldCBvbiBsYXVuY2ggZW5kXG4gICAgICBsYXVuY2hUaW1lUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0Rm9yY2VkU3BlZWQoMCk7XG4gICAgICBzZXRGb3JjZWRBbHRpdHVkZSgwKTtcbiAgICB9XG4gIH0sIFtpc0xhdW5jaGVkXSk7XG4gIFxuICAvLyBVc2Ugb3VyIGZvcmNlZCB2YWx1ZXMgZHVyaW5nIGZsaWdodCwgZmFsbCBiYWNrIHRvIHBoeXNpY3MgdmFsdWVzIGlmIG5lZWRlZFxuICBjb25zdCBkaXNwbGF5U3BlZWQgPSBpc0xhdW5jaGVkID8gKGZvcmNlZFNwZWVkID4gMCA/IGZvcmNlZFNwZWVkIDogc3BlZWQpIDogbWF4U3BlZWQ7XG4gIGNvbnN0IGRpc3BsYXlBbHRpdHVkZSA9IGlzTGF1bmNoZWQgPyAoZm9yY2VkQWx0aXR1ZGUgPiAwID8gZm9yY2VkQWx0aXR1ZGUgOiBhbHRpdHVkZSkgOiBtYXhBbHRpdHVkZTtcblxuICAvLyBGb3JtYXQgZGlzcGxheSB2YWx1ZXMgdG8gcHJldmVudCBOYU5cbiAgY29uc3QgZ2V0RGlzcGxheVZhbHVlID0gKHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gXCIwLjBcIjtcbiAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKTtcbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBidXR0b24gY2xpY2sgd2l0aCBkZWJvdW5jZVxuICBjb25zdCBoYW5kbGVCdXR0b25DbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgLy8gUHJldmVudCBhbnkgVUkgcmVwb3NpdGlvbmluZ1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIFxuICAgIC8vIFByZXZlbnQgcmFwaWQgY2xpY2tzXG4gICAgaWYgKGlzVHJhbnNpdGlvbmluZy5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgLy8gTG9jayBkdXJpbmcgdHJhbnNpdGlvbiAtIGxvbmdlciBmb3IgcmVzZXQgdHJhbnNpdGlvbnNcbiAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IHRydWU7XG4gICAgXG4gICAgaWYgKGlzTGF1bmNoZWQpIHtcbiAgICAgIC8vIFNpZ25hbCBhbmltYXRpb24gdG8gc3RvcCBpbW1lZGlhdGVseVxuICAgICAgbGF1bmNoVGltZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHNldEZvcmNlZFNwZWVkKDApO1xuICAgICAgc2V0Rm9yY2VkQWx0aXR1ZGUoMCk7XG4gICAgICBcbiAgICAgIC8vIEZvciByZXNldCwgbmVlZCBhIGxvbmdlciB0cmFuc2l0aW9uIGxvY2tcbiAgICAgIHJlc2V0Um9ja2V0KCk7XG4gICAgICBcbiAgICAgIC8vIFNldCBhIGxvbmdlciB0aW1lb3V0IGZvciByZXNldCB0cmFuc2l0aW9uc1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9LCA1MDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMYXVuY2ggdHJhbnNpdGlvbnMgYXJlIGZhc3RlclxuICAgICAgbGF1bmNoUm9ja2V0KCk7XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVmaW5lZCBkYXNoYm9hcmQgcG9zaXRpb24gYmFzZWQgb24gZGV2aWNlIGFuZCBicm93c2VyIHNwZWNpZmljc1xuICBjb25zdCBnZXREYXNoYm9hcmRQb3NpdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIC8vIE1vYmlsZSBkZXZpY2UgZGV0ZWN0aW9uXG4gICAgICBpZiAoaXNJT1MgJiYgaXNTYWZhcmkpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tWzEyJV0nOyAvLyBNb2JpbGUgaU9TIFNhZmFyaSBuZWVkcyBleHRyYSBzcGFjZSBmb3IgYm90dG9tIGJhclxuICAgICAgfSBlbHNlIGlmIChpc0Nocm9tZSkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1bMTglXSc7IC8vIE1vYmlsZSBDaHJvbWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLVsxNSVdJzsgLy8gT3RoZXIgbW9iaWxlIGJyb3dzZXJzXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlc2t0b3AgaGFuZGxpbmdcbiAgICAgIGlmIChpc01hY09TICYmIGlzU2FmYXJpKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLTQnOyAvLyBEZXNrdG9wIFNhZmFyaSBvbiBNYWNPUyAtIG5vIG5lZWQgZm9yIGV4dHJhIG1hcmdpblxuICAgICAgfSBlbHNlIGlmIChpc1NhZmFyaSkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS01JzsgLy8gT3RoZXIgU2FmYXJpIGluc3RhbmNlc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tNCc7IC8vIERlc2t0b3AgQ2hyb21lIGFuZCBvdGhlcnNcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGFzaGJvYXJkUG9zaXRpb24gPSBnZXREYXNoYm9hcmRQb3NpdGlvbigpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBsZWZ0LTAgcmlnaHQtMCBteC1hdXRvIHotMjAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgXG4gICAgICAke2lzTW9iaWxlID8gYHctZnVsbCAke2Rhc2hib2FyZFBvc2l0aW9ufWAgOiBgdy1bMzIwcHhdICR7ZGFzaGJvYXJkUG9zaXRpb259YH1gfVxuICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnMTEwcHgnIH19IC8vIEZpeGVkIGhlaWdodCB0byBwcmV2ZW50IGxheW91dCBzaGlmdHNcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy14cyBiZy1ibGFjay8zMCBiYWNrZHJvcC1ibHVyLXhsIHJvdW5kZWQtM3hsIHAtMyBzaGFkb3ctbWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LW1vbm8gdHJhY2tpbmctd2lkZXIgdGV4dC13aGl0ZS85MFwiPntnZXREaXNwbGF5VmFsdWUoZGlzcGxheVNwZWVkKX08c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG1sLTEgdGV4dC13aGl0ZS82MFwiPm0vczwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICB7IWlzTGF1bmNoZWQgJiYgbWF4U3BlZWQgPiAwICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS82MFwiPm1heDwvc3Bhbj59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTQgaC0xNCByb3VuZGVkLWZ1bGwgYmctYmxhY2svNDAgc2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMGB9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCdXR0b25DbGlja31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzTGF1bmNoZWQgPyBcIlJlc2V0IFJvY2tldFwiIDogXCJMYXVuY2ggUm9ja2V0XCJ9XG4gICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjA1LCBib3hTaGFkb3c6IFwiMCAwIDE1cHggcmdiYSgyNTUsMjU1LDI1NSwwLjMpXCIgfX1cbiAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICB0cmFuc2l0aW9uPXt7IHR5cGU6IFwic3ByaW5nXCIsIHN0aWZmbmVzczogNTAwLCBkYW1waW5nOiAxNSB9fVxuICAgICAgICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgycHgpJyB9fSAvLyBTbGlnaHQgc2hpZnQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzTGF1bmNoZWQgPyAoXG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTcuNjUgNi4zNUMxNi4yIDQuOSAxNC4yMSA0IDEyIDRDNy41OCA0IDQuMDEgNy41OCA0LjAxIDEyQzQuMDEgMTYuNDIgNy41OCAyMCAxMiAyMEMxNS43MyAyMCAxOC44NCAxNy40NSAxOS43MyAxNEgxNy42NUMxNi44MyAxNi4zMyAxNC42MSAxOCAxMiAxOEM4LjY5IDE4IDYgMTUuMzEgNiAxMkM2IDguNjkgOC42OSA2IDEyIDZDMTMuNjYgNiAxNS4xNCA2LjY5IDE2LjIyIDcuNzhMMTMgMTFIMjBWNEwxNy42NSA2LjM1WlwiIGZpbGw9XCJ3aGl0ZVwiIGZpbGxPcGFjaXR5PVwiMC45XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyOFwiIGhlaWdodD1cIjI4XCIgdmlld0JveD1cIjAgMCAyOCAyOFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTQgM0wxNyAxNS41SDExTDE0IDNaXCIgZmlsbD1cIiNGRkZGRkZcIiBmaWxsT3BhY2l0eT1cIjAuOVwiLz5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTRcIiBjeT1cIjIxXCIgcj1cIjNcIiBmaWxsPVwiI0ZGRkZGRlwiIGZpbGxPcGFjaXR5PVwiMC45XCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtbW9ubyB0cmFja2luZy13aWRlciB0ZXh0LXdoaXRlLzkwXCI+e2dldERpc3BsYXlWYWx1ZShkaXNwbGF5QWx0aXR1ZGUpfTxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgbWwtMSB0ZXh0LXdoaXRlLzYwXCI+bTwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICB7IWlzTGF1bmNoZWQgJiYgbWF4QWx0aXR1ZGUgPiAwICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS82MFwiPm1heDwvc3Bhbj59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMy80IG10LTIgZmxleCBpdGVtcy1jZW50ZXIgbXgtYXV0byBoLTZcIiBzdHlsZT17eyBtaW5IZWlnaHQ6ICcyNHB4JyB9fT5cbiAgICAgICAgeyFpc0xhdW5jaGVkICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLTYgZmxleCBpdGVtcy1jZW50ZXIgcHgtMVwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhyb3R0bGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0VGhyb3R0bGUocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbCBhcHBlYXJhbmNlLW5vbmUgYmctdHJhbnNwYXJlbnQgY3Vyc29yLXBvaW50ZXIgei0xMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICBXZWJraXRBcHBlYXJhbmNlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxLjVyZW0nXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIGxlZnQtMSByaWdodC0xIGZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAge1swLCAwLjI1LCAwLjUsIDAuNzUsIDFdLm1hcCgobWFyaykgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e21hcmt9IGNsYXNzTmFtZT1cInctMC41IGgtMS41IGJnLXdoaXRlLzMwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNzAgbWwtMiB3LThcIj57TWF0aC5yb3VuZCh0aHJvdHRsZSAqIDEwMCl9JTwvc3Bhbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNaWRkbGVQYW5lbCh7IGlzTW9iaWxlID0gZmFsc2UsIGlzU21hbGxEZXNrdG9wID0gZmFsc2UgfSkge1xuICAvLyBTdGF0ZSBtYW5hZ2VtZW50XG4gIGNvbnN0IFt2aWV3LCBzZXRWaWV3XSA9IHVzZVN0YXRlPCd0b3AnIHwgJ3NpZGUnIHwgJ3BlcnNwZWN0aXZlJz4oJ3BlcnNwZWN0aXZlJyk7XG4gIGNvbnN0IFtzZWxlY3RlZFBhcnQsIHNldFNlbGVjdGVkUGFydF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTGF1bmNoZWQsIHNldElzTGF1bmNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGhyb3R0bGUsIHNldFRocm90dGxlXSA9IHVzZVN0YXRlKDAuOCk7XG4gIGNvbnN0IFtyZXNldFRyaWdnZXIsIHNldFJlc2V0VHJpZ2dlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBGaXhlZCBncm91bmQgcG9zaXRpb24gdGhhdCBwbGFjZXMgcm9ja2V0IG9uIHRvcCBvZiBncmlkXG4gIGNvbnN0IEdST1VORF9ZID0gLTIuODsgLy8gVXBkYXRlZCB0byBtYXRjaCB0aGUgZ3JpZCBwb3NpdGlvblxuICBjb25zdCBHUk9VTkRfUE9TSVRJT046IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFswLCBHUk9VTkRfWSwgMF07XG4gIFxuICBjb25zdCBbcG9zaXRpb24sIHNldFBvc2l0aW9uXSA9IHVzZVN0YXRlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXT4oR1JPVU5EX1BPU0lUSU9OKTtcbiAgY29uc3QgW3ZlbG9jaXR5LCBzZXRWZWxvY2l0eV0gPSB1c2VTdGF0ZTxbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0+KFswLCAwLCAwXSk7XG4gIGNvbnN0IFttYXhBbHRpdHVkZSwgc2V0TWF4QWx0aXR1ZGVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFttYXhTcGVlZCwgc2V0TWF4U3BlZWRdID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBVcGRhdGUgZmxpZ2h0IGRhdGEgZnJvbSBzaW11bGF0aW9uXG4gIGNvbnN0IHVwZGF0ZUZsaWdodERhdGEgPSAocG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sIHZlbDogW251bWJlciwgbnVtYmVyLCBudW1iZXJdKSA9PiB7XG4gICAgLy8gRW5zdXJlIHdlJ3JlIG5vdCBnZXR0aW5nIE5hTiB2YWx1ZXNcbiAgICBpZiAocG9zLnNvbWUoaXNOYU4pIHx8IHZlbC5zb21lKGlzTmFOKSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIExvZyBldmVyeSBwb3NpdGlvbiB1cGRhdGVcbiAgICBjb25zb2xlLmxvZyhgUEFSRU5UIHVwZGF0ZTogcG9zPSR7cG9zWzFdLnRvRml4ZWQoMil9LCB2ZWw9JHt2ZWxbMV0udG9GaXhlZCgyKX1gKTtcbiAgICBcbiAgICAvLyBDbG9uZSB0aGUgYXJyYXlzIHRvIGVuc3VyZSB3ZSBicmVhayByZWZlcmVuY2VzXG4gICAgY29uc3QgbmV3UG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPSBbLi4ucG9zXTtcbiAgICBjb25zdCBuZXdWZWw6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFsuLi52ZWxdO1xuICAgIFxuICAgIC8vIFNldCB0aGUgbmV3IHBvc2l0aW9uIGFuZCB2ZWxvY2l0eSBpbW1lZGlhdGVseSAtIHJlbW92ZWQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgc2V0UG9zaXRpb24obmV3UG9zKTtcbiAgICBzZXRWZWxvY2l0eShuZXdWZWwpO1xuICB9O1xuICBcbiAgLy8gUmVzZXQgcm9ja2V0IGZ1bmN0aW9uIC0gZW5zdXJlcyBncmlkIHN0YXlzIGluIHBsYWNlXG4gIGNvbnN0IHJlc2V0Um9ja2V0ID0gKCkgPT4ge1xuICAgIC8vIFNldCBhIGZsYWcgdG8gcHJldmVudCBVSSB1cGRhdGVzIGR1cmluZyB0cmFuc2l0aW9uXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRSZXNldFByZXBhcmUnLCB7IGRldGFpbDogeyB0cmFuc2l0aW9uaW5nOiB0cnVlIH0gfSkpO1xuICAgIFxuICAgIC8vIEltcG9ydGFudDogVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBzeW5jIHdpdGggcmVuZGVyIGN5Y2xlXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIC8vIEZpcnN0IHN0b3AgbGF1bmNoIHN0YXRlICh0aGlzIG11c3QgaGFwcGVuIGJlZm9yZSBwb3NpdGlvbiBjaGFuZ2VzKVxuICAgIHNldElzTGF1bmNoZWQoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBUaGVuIGluIHRoZSBuZXh0IGZyYW1lIChhZnRlciBSZWFjdCBoYXMgcHJvY2Vzc2VkIHRoZSBzdGF0ZSBjaGFuZ2UpXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAvLyBTZXQgcG9zaXRpb24gZXhhY3RseSBhdCBncm91bmQgbGV2ZWxcbiAgICAgICAgc2V0UG9zaXRpb24oR1JPVU5EX1BPU0lUSU9OKTtcbiAgICAgICAgc2V0VmVsb2NpdHkoWzAsIDAsIDBdKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyaWdnZXIgcmVzZXQgYW5pbWF0aW9uIGluIHJvY2tldFxuICAgICAgICBzZXRSZXNldFRyaWdnZXIodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciByZXNldCB0byBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0UmVzZXRUcmlnZ2VyKGZhbHNlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEb3VibGUtY2hlY2sgcG9zaXRpb24gYWZ0ZXIgcmVzZXRcbiAgICAgICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgICAgIHNldFZlbG9jaXR5KFswLCAwLCAwXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTm90aWZ5IHRoYXQgdHJhbnNpdGlvbiBoYXMgY29tcGxldGVkXG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRSZXNldENvbXBsZXRlJywgeyBkZXRhaWw6IHsgcG9zaXRpb246IEdST1VORF9QT1NJVElPTiB9IH0pKTtcbiAgICB9LCA1MCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8vIExhdW5jaCByb2NrZXQgd2l0aCBpbW1lZGlhdGUgcmVzcG9uc2VcbiAgY29uc3QgbGF1bmNoUm9ja2V0ID0gKCkgPT4ge1xuICAgIC8vIElmIGFscmVhZHkgbGF1bmNoZWQsIHJlc2V0IGZpcnN0IHRvIHByZXZlbnQgYW55IHZpc3VhbCBqdW1wc1xuICAgIGlmIChpc0xhdW5jaGVkKSB7XG4gICAgICByZXNldFJvY2tldCgpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBhIGZldyBmcmFtZXMgdG8gZW5zdXJlIHNtb290aCB2aXN1YWwgdHJhbnNpdGlvblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluaXRpYXRlQWN0dWFsTGF1bmNoKCk7XG4gICAgICB9LCA1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdCBsYXVuY2hlZCwgc28gd2UgY2FuIHN0YXJ0IGRpcmVjdGx5XG4gICAgICBpbml0aWF0ZUFjdHVhbExhdW5jaCgpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBoYW5kbGUgYWN0dWFsIGxhdW5jaCBzZXF1ZW5jZVxuICBjb25zdCBpbml0aWF0ZUFjdHVhbExhdW5jaCA9ICgpID0+IHtcbiAgICAvLyBJbXBvcnRhbnQ6IFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gc3luYyB3aXRoIHJlbmRlciBjeWNsZVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAvLyBGaXJzdCBlbnN1cmUgZXhhY3QgZ3JvdW5kIHBvc2l0aW9uXG4gICAgICBzZXRQb3NpdGlvbihHUk9VTkRfUE9TSVRJT04pO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB3aXRoIHplcm8gdmVsb2NpdHlcbiAgICAgIHNldFZlbG9jaXR5KFswLCAwLCAwXSk7XG4gICAgICBcbiAgICAgIC8vIFRoZW4gc2V0IGxhdW5jaCBzdGF0ZVxuICAgICAgc2V0SXNMYXVuY2hlZCh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVHJpZ2dlciBhbiBpbW1lZGlhdGUgZGFzaGJvYXJkIHVwZGF0ZSBmb3IgdXNlciBmZWVkYmFja1xuICAgICAgLy8gVGhpcyB3aWxsIG1ha2UgdGhlIGRhc2hib2FyZCByZXNwb25kIHJpZ2h0IGF3YXlcbiAgICAgIGNvbnN0IGluaXRpYWxTcGVlZERpc3BsYXk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFswLCAwLjAxLCAwXTtcbiAgICAgIHVwZGF0ZUZsaWdodERhdGEoR1JPVU5EX1BPU0lUSU9OLCBpbml0aWFsU3BlZWREaXNwbGF5KTtcbiAgICAgIFxuICAgICAgLy8gTm90aWZ5IGFueSBjb21wb25lbnRzIHRoYXQgbmVlZCB0byByZXNwb25kIHRvIGxhdW5jaFxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdyb2NrZXRMYXVuY2hJbml0aWF0ZWQnLCB7IFxuICAgICAgICBkZXRhaWw6IHsgcG9zaXRpb246IEdST1VORF9QT1NJVElPTiwgdGhyb3R0bGUgfVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuICBcbiAgLy8gTGlzdGVuIGZvciBjb21wb25lbnQgaGlnaGxpZ2h0IGV2ZW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUhpZ2hsaWdodCA9IChlOiBDdXN0b21FdmVudCkgPT4gc2V0U2VsZWN0ZWRQYXJ0KGUuZGV0YWlsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGlnaGxpZ2h0Q29tcG9uZW50JyBhcyBhbnksIGhhbmRsZUhpZ2hsaWdodCk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoaWdobGlnaHRDb21wb25lbnQnIGFzIGFueSwgaGFuZGxlSGlnaGxpZ2h0KTtcbiAgfSwgW10pO1xuXG4gIC8vIExpc3RlbiBmb3Igbm9zZSBjb25lIGNsaWNrIGV2ZW50cyB0byByZXNldCBjYW1lcmEgdmlld1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2V0Q2FtZXJhVmlldyA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSGFuZGxpbmcgcmVzZXQgY2FtZXJhIHZpZXcgZXZlbnRcIik7XG4gICAgICBzZXRWaWV3KCdwZXJzcGVjdGl2ZScpO1xuICAgICAgLy8gUmVzZXQgY29tcGFzcyB3aGVuIGNhbWVyYSB2aWV3IGlzIHJlc2V0XG4gICAgICBoYW5kbGVWaWV3UmVzZXQoKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEFsc28gcmVzZXQgY29tcGFzcyB3aGVuIHJlc2V0IGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgY29uc3QgaGFuZGxlVmlld1Jlc2V0ID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9ja2V0Um90YXRpb24nLCB7IFxuICAgICAgICAgIGRldGFpbDogeyByb3RhdGlvbjogMCB9IFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXRDYW1lcmFWaWV3JywgaGFuZGxlUmVzZXRDYW1lcmFWaWV3IGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzZXRDYW1lcmFWaWV3JywgaGFuZGxlUmVzZXRDYW1lcmFWaWV3IGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBDYWxjdWxhdGUgc3BlZWQgYW5kIGFsdGl0dWRlXG4gIC8vIFVwZGF0ZWQgYWx0aXR1ZGUgY2FsY3VsYXRpb24gdG8gdXNlIHN0YW5kYXJkaXplZCBHUk9VTkRfWVxuICBjb25zdCBhbHRpdHVkZSA9IE1hdGgubWF4KDAsIHBvc2l0aW9uWzFdIC0gR1JPVU5EX1kpO1xuICBjb25zdCBzcGVlZCA9IE1hdGguc3FydChcbiAgICB2ZWxvY2l0eVswXSAqIHZlbG9jaXR5WzBdICsgdmVsb2NpdHlbMV0gKiB2ZWxvY2l0eVsxXSArIHZlbG9jaXR5WzJdICogdmVsb2NpdHlbMl1cbiAgKTtcbiAgXG4gIC8vIFVwZGF0ZSBtYXggdmFsdWVzIGR1cmluZyBmbGlnaHRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMYXVuY2hlZCAmJiAhaXNOYU4oc3BlZWQpICYmICFpc05hTihhbHRpdHVkZSkpIHtcbiAgICAgIGlmIChzcGVlZCA+IG1heFNwZWVkKSBzZXRNYXhTcGVlZChzcGVlZCk7XG4gICAgICBpZiAoYWx0aXR1ZGUgPiBtYXhBbHRpdHVkZSkgc2V0TWF4QWx0aXR1ZGUoYWx0aXR1ZGUpO1xuICAgIH0gZWxzZSBpZiAocmVzZXRUcmlnZ2VyKSB7XG4gICAgICBzZXRNYXhTcGVlZCgwKTtcbiAgICAgIHNldE1heEFsdGl0dWRlKDApO1xuICAgIH1cbiAgfSwgW3NwZWVkLCBhbHRpdHVkZSwgaXNMYXVuY2hlZCwgcmVzZXRUcmlnZ2VyLCBtYXhTcGVlZCwgbWF4QWx0aXR1ZGVdKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgey8qIENhbnZhcyBmaXJzdCAtIGZpeGVkIHNpemUgYW5kIHBvc2l0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIDxDYW52YXMgc2hhZG93cz5cbiAgICAgICAgICA8RHluYW1pY0NhbWVyYSBcbiAgICAgICAgICAgIGlzTGF1bmNoZWQ9e2lzTGF1bmNoZWR9XG4gICAgICAgICAgICB0YXJnZXQ9e3Bvc2l0aW9ufVxuICAgICAgICAgICAgdmlldz17dmlld31cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBDdXN0b20gT3JiaXRDb250cm9scyB3aXRoIHJvY2tldCByb2xsIHJvdGF0aW9uICovfVxuICAgICAgICAgIDxDdXN0b21PcmJpdENvbnRyb2xzIHBvc2l0aW9uPXtwb3NpdGlvbn0gdmlldz17dmlld30gLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogU2NlbmUgbGlnaHRpbmcgKi99XG4gICAgICAgICAgPGFtYmllbnRMaWdodCBpbnRlbnNpdHk9ezAuMjV9IC8+IFxuICAgICAgICAgIDxkaXJlY3Rpb25hbExpZ2h0IFxuICAgICAgICAgICAgcG9zaXRpb249e1s4LCAxMCwgNV19IFxuICAgICAgICAgICAgaW50ZW5zaXR5PXswLjd9IFxuICAgICAgICAgICAgY2FzdFNoYWRvdyBcbiAgICAgICAgICAgIHNoYWRvdy1tYXBTaXplPXtbMTAyNCwgMTAyNF19XG4gICAgICAgICAgICBzaGFkb3ctY2FtZXJhLWZhcj17NTB9XG4gICAgICAgICAgICBzaGFkb3ctY2FtZXJhLWxlZnQ9ey0xMH1cbiAgICAgICAgICAgIHNoYWRvdy1jYW1lcmEtcmlnaHQ9ezEwfVxuICAgICAgICAgICAgc2hhZG93LWNhbWVyYS10b3A9ezEwfVxuICAgICAgICAgICAgc2hhZG93LWNhbWVyYS1ib3R0b209ey0xMH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXJlY3Rpb25hbExpZ2h0IHBvc2l0aW9uPXtbLTYsIDMsIC01XX0gaW50ZW5zaXR5PXswLjI1fSAvPlxuICAgICAgICAgIDxzcG90TGlnaHQgXG4gICAgICAgICAgICBwb3NpdGlvbj17WzAsIC0yLCAxMF19IFxuICAgICAgICAgICAgaW50ZW5zaXR5PXswLjR9IFxuICAgICAgICAgICAgYW5nbGU9ezAuNn0gXG4gICAgICAgICAgICBwZW51bWJyYT17MC41fSBcbiAgICAgICAgICAgIGRpc3RhbmNlPXsyMH1cbiAgICAgICAgICAgIGNvbG9yPVwiIzVlZWFkNFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogTGF1bmNoIGxpZ2h0IC0gYWRqdXN0ZWQgdG8gbWF0Y2ggZ3JvdW5kIHBvc2l0aW9uICovfVxuICAgICAgICAgIHtpc0xhdW5jaGVkICYmIChcbiAgICAgICAgICAgIDxwb2ludExpZ2h0IFxuICAgICAgICAgICAgICBwb3NpdGlvbj17WzAsIEdST1VORF9ZLCAwXX0gXG4gICAgICAgICAgICAgIGludGVuc2l0eT17Mn0gXG4gICAgICAgICAgICAgIGRpc3RhbmNlPXsxNX0gXG4gICAgICAgICAgICAgIGNvbG9yPVwiI2ZmODg2NlwiXG4gICAgICAgICAgICAgIGRlY2F5PXsyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIDxFbnZpcm9ubWVudCBwcmVzZXQ9XCJuaWdodFwiIC8+XG4gICAgICAgICAgey8qIEZpeGVkIGNvbnRhY3Qgc2hhZG93cyBhdCBleGFjdGx5IGdyb3VuZCBsZXZlbCAqL31cbiAgICAgICAgICA8Q29udGFjdFNoYWRvd3MgXG4gICAgICAgICAgICBwb3NpdGlvbj17WzAsIEdST1VORF9ZICsgMC4wMSwgMF19IFxuICAgICAgICAgICAgb3BhY2l0eT17MC40fSAgXG4gICAgICAgICAgICBzY2FsZT17MTV9IFxuICAgICAgICAgICAgYmx1cj17Mi41fSBcbiAgICAgICAgICAgIGZhcj17NX0gXG4gICAgICAgICAgICByZXNvbHV0aW9uPXs1MTJ9XG4gICAgICAgICAgICBjb2xvcj1cIiMwMDExMzNcIlxuICAgICAgICAgICAgZnJhbWVzPXsxfSAvLyBSZW5kZXIgb25jZSBhbmQgY2FjaGUgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEFic29sdXRlbHkgZml4ZWQgZ3JpZCB0aGF0IG5ldmVyIG1vdmVzICovfVxuICAgICAgICAgIDxHcmlkIFxuICAgICAgICAgICAgaW5maW5pdGVHcmlkIFxuICAgICAgICAgICAgY2VsbFNpemU9ezAuNX0gXG4gICAgICAgICAgICBjZWxsVGhpY2tuZXNzPXswLjV9IFxuICAgICAgICAgICAgc2VjdGlvblNpemU9ezJ9IFxuICAgICAgICAgICAgc2VjdGlvblRoaWNrbmVzcz17MX0gXG4gICAgICAgICAgICBmYWRlRGlzdGFuY2U9ezMwfSBcbiAgICAgICAgICAgIGZhZGVTdHJlbmd0aD17MS41fVxuICAgICAgICAgICAgY2VsbENvbG9yPVwiIzAwZWFmZlwiIFxuICAgICAgICAgICAgc2VjdGlvbkNvbG9yPVwiI2VjNDg5OVwiXG4gICAgICAgICAgICBwb3NpdGlvbj17WzAsIEdST1VORF9ZLCAwXX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+XG4gICAgICAgICAgICB7LyogRm9yY2UgcmUtY3JlYXRpb24gb2YgUm9ja2V0U2ltdWxhdGlvbiB3aGVuIGxhdW5jaCBzdGF0ZSBjaGFuZ2VzICovfVxuICAgICAgICAgICAgPFJvY2tldFNpbXVsYXRpb24gXG4gICAgICAgICAgICAgIGtleT17YHJvY2tldC0ke2lzTGF1bmNoZWQgPyAnbGF1bmNoZWQnIDogJ2lkbGUnfS0ke3Jlc2V0VHJpZ2dlciA/ICdyZXNldCcgOiAnbm9ybWFsJ31gfVxuICAgICAgICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWRQYXJ0ICE9PSBudWxsfSBcbiAgICAgICAgICAgICAgaXNMYXVuY2hlZD17aXNMYXVuY2hlZH1cbiAgICAgICAgICAgICAgdGhyb3R0bGU9e3Rocm90dGxlfVxuICAgICAgICAgICAgICByZXNldFRyaWdnZXI9e3Jlc2V0VHJpZ2dlcn1cbiAgICAgICAgICAgICAgc2V0RmxpZ2h0RGF0YT17dXBkYXRlRmxpZ2h0RGF0YX1cbiAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRQYXJ0PXtzZWxlY3RlZFBhcnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvU3VzcGVuc2U+XG4gICAgICAgIDwvQ2FudmFzPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBVSSBlbGVtZW50cyAtIGFic29sdXRlbHkgcG9zaXRpb25lZCBvdmVyIHRoZSBjYW52YXMgKi99XG4gICAgICA8Vmlld3BvcnRDb250cm9scyB2aWV3PXt2aWV3fSBzZXRWaWV3PXtzZXRWaWV3fSBpc01vYmlsZT17aXNNb2JpbGV9IC8+XG4gICAgICBcbiAgICAgIDxMYXVuY2hEYXRhXG4gICAgICAgIGlzTGF1bmNoZWQ9e2lzTGF1bmNoZWR9XG4gICAgICAgIHNldElzTGF1bmNoZWQ9e3NldElzTGF1bmNoZWR9XG4gICAgICAgIHRocm90dGxlPXt0aHJvdHRsZX1cbiAgICAgICAgc2V0VGhyb3R0bGU9e3NldFRocm90dGxlfVxuICAgICAgICByZXNldFJvY2tldD17cmVzZXRSb2NrZXR9XG4gICAgICAgIGxhdW5jaFJvY2tldD17bGF1bmNoUm9ja2V0fVxuICAgICAgICBzcGVlZD17aXNOYU4oc3BlZWQpID8gMCA6IHNwZWVkfVxuICAgICAgICBhbHRpdHVkZT17aXNOYU4oYWx0aXR1ZGUpID8gMCA6IGFsdGl0dWRlfVxuICAgICAgICBtYXhTcGVlZD17aXNOYU4obWF4U3BlZWQpID8gMCA6IG1heFNwZWVkfVxuICAgICAgICBtYXhBbHRpdHVkZT17aXNOYU4obWF4QWx0aXR1ZGUpID8gMCA6IG1heEFsdGl0dWRlfVxuICAgICAgICBpc01vYmlsZT17aXNNb2JpbGV9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbIlN1c3BlbnNlIiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJDYW52YXMiLCJ1c2VGcmFtZSIsInVzZVRocmVlIiwiT3JiaXRDb250cm9scyIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiR3JpZCIsIkVudmlyb25tZW50IiwiQ29udGFjdFNoYWRvd3MiLCJUSFJFRSIsIm1vdGlvbiIsIlJvY2tldEZsYW1lIiwiaXNMYXVuY2hlZCIsInRocm90dGxlIiwicHJlTGF1bmNoRmlyZSIsImNvdW50ZG93blN0YWdlIiwiZmxhbWVSZWYiLCJmbGFtZVZhcmlhdGlvbiIsInNjYWxlWSIsInNjYWxlWCIsInNjYWxlWiIsImxhdW5jaFRpbWUiLCJzdGF0ZSIsImN1cnJlbnQiLCJ0aW1lIiwiY2xvY2siLCJnZXRFbGFwc2VkVGltZSIsImVmZmVjdGl2ZVRocm90dGxlIiwidGltZVNpbmNlTGF1bmNoIiwiTWF0aCIsInNpbiIsImZsYW1lRnJlcXVlbmN5IiwiTWF0aFV0aWxzIiwibGVycCIsImJhc2VTY2FsZU11bHRpcGxpZXIiLCJzY2FsZSIsInkiLCJ4elZhcmlhdGlvbiIsIm5ld1NjYWxlWCIsIm5ld1NjYWxlWiIsImNvcyIsIngiLCJ6IiwiZ3JvdXAiLCJyZWYiLCJwb3NpdGlvbiIsIm1lc2giLCJjb25lR2VvbWV0cnkiLCJhcmdzIiwibWVzaEJhc2ljTWF0ZXJpYWwiLCJjb2xvciIsInRyYW5zcGFyZW50Iiwib3BhY2l0eSIsInBvaW50TGlnaHQiLCJpbnRlbnNpdHkiLCJkaXN0YW5jZSIsIlJvY2tldE1vZGVsIiwic2VsZWN0ZWQiLCJoaWdobGlnaHRlZFBhcnQiLCJwcmVzZXJ2ZVJvdGF0aW9uIiwicm9ja2V0UmVmIiwiYm9keVJhZGl1cyIsIl8iLCJkZWx0YSIsInJvdGF0aW9uIiwiaGlnaGxpZ2h0RW1pc3NpdmUiLCJoaWdobGlnaHRJbnRlbnNpdHkiLCJnZXRFbWlzc2l2ZSIsInBhcnQiLCJnZXRFbWlzc2l2ZUludGVuc2l0eSIsIm5hbWUiLCJjeWxpbmRlckdlb21ldHJ5IiwibWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJlbWlzc2l2ZSIsImVtaXNzaXZlSW50ZW5zaXR5IiwidG9ydXNHZW9tZXRyeSIsIm1hcCIsImkiLCJQSSIsImJveEdlb21ldHJ5IiwiRHluYW1pY0NhbWVyYSIsInRhcmdldCIsInZpZXciLCJpbml0aWFsUG9zaXRpb25zIiwidG9wIiwiVmVjdG9yMyIsInNpZGUiLCJwZXJzcGVjdGl2ZSIsImNhbWVyYXNVcCIsInByZXNlcnZlUm90YXRpb25SZWYiLCJpbml0aWFsQ2FtZXJhUG9zaXRpb24iLCJzdGF0aWNHcm91bmRZIiwibGFzdFJvY2tldFkiLCJjYW1lcmFMYWciLCJwcmV2Vmlld1JlZiIsImNvbnNvbGUiLCJsb2ciLCJwb3NpdGlvbnMiLCJwb3NpdGlvblZlY3RvciIsImNsb25lIiwiY29weSIsInVwIiwibG9va0F0IiwiaGFuZGxlUm9ja2V0TGF1bmNoZWQiLCJlIiwiZGV0YWlsIiwidW5kZWZpbmVkIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyb2NrZXRYIiwicm9ja2V0WSIsInJvY2tldFoiLCJyb2NrZXRWZWxvY2l0eVkiLCJtYXgiLCJhbHRpdHVkZSIsIm1pbiIsImluaXRpYWxQb3MiLCJob3JpekRpc3QiLCJzcXJ0IiwiYW5nbGUiLCJhdGFuMiIsImRpc3RhbmNlU2NhbGUiLCJzY2FsZWRIb3JpekRpc3QiLCJ0YXJnZXRZIiwiZm9sbG93U3BlZWQiLCJhYnMiLCJoZWlnaHRTY2FsZSIsInRvcEhlaWdodCIsInNpZGVEaXN0YW5jZSIsInRhcmdldEZPViIsImZvdiIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJjYW1lcmFQb3NpdGlvbnMiLCJtYWtlRGVmYXVsdCIsImdsb2JhbFJvY2tldFkiLCJSb2NrZXRTaW11bGF0aW9uIiwicmVzZXRUcmlnZ2VyIiwic2V0RmxpZ2h0RGF0YSIsImVtaXRMYXVuY2hFdmVudCIsInR5cGUiLCJkYXRhIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiR1JPVU5EX1kiLCJHUk9VTkRfUE9TSVRJT04iLCJzZXRQb3NpdGlvbiIsInZlbG9jaXR5Iiwic2V0VmVsb2NpdHkiLCJzZXRSb3RhdGlvbiIsInBvc2l0aW9uUmVmIiwidmVsb2NpdHlSZWYiLCJpc0xhdW5jaGVkUmVmIiwiaGFuZGxlUmVzZXRDYW1lcmFWaWV3Iiwic2hvd0ZpcmUiLCJzZXRTaG93RmlyZSIsInN0YXJ0TW92aW5nVGltZSIsImxhc3RVcGRhdGVUaW1lIiwiaXNUcmFuc2l0aW9uaW5nIiwibGFzdFJvY2tldFJvdGF0aW9uIiwibm93IiwiRGF0ZSIsInNldFRpbWVvdXQiLCJncmF2aXR5IiwibWF4VGhydXN0IiwiYmFzZURyYWciLCJ0dXJidWxlbmNlUmVmIiwicm90WCIsInJvdFoiLCJjdXJyZW50U3BlZWQiLCJjdXJyZW50QWx0aXR1ZGUiLCJtaW5WZWxvY2l0eSIsIm1pbkFsdGl0dWRlIiwiZWZmZWN0aXZlUG9zaXRpb24iLCJlZmZlY3RpdmVWZWxvY2l0eSIsInRvRml4ZWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50VGltZSIsImVsYXBzZWRUaW1lIiwiY2FwcGVkRGVsdGEiLCJ0aW1lU2luY2VMYXN0VXBkYXRlIiwic2hvdWxkTW92ZSIsInciLCJoYXNMb2dnZWRNb3ZlbWVudFN0YXJ0IiwidGltZVNpbmNlTW92aW5nIiwidGhydXN0RmFjdG9yIiwiY3VycmVudFRocnVzdCIsInRpbWVTaW5jZUxpZnRvZmYiLCJjdXJyZW50RHJhZyIsIm5ldEFjY2VsZXJhdGlvbiIsImd1YXJhbnRlZWRBY2NlbGVyYXRpb24iLCJuZXdWZWxvY2l0eSIsImN1cnJQb3MiLCJwb3NpdGlvbkRlbHRhIiwiZ3VhcmFudGVlZERlbHRhIiwibmV3UG9zaXRpb24iLCJhY3R1YWxWZWxvY2l0eSIsImN1cnJSb3QiLCJuZXdSb3RhdGlvbiIsInJlbmRlclBvc2l0aW9uIiwidGltZVVudGlsTW92ZW1lbnQiLCJzaG91bGRTaG93TW92ZW1lbnQiLCJ0aW1lQmFzZWRWYWx1ZSIsInRpbWVJbkZsaWdodCIsInRpbWVCYXNlZFBvc2l0aW9uIiwiVmlld3BvcnRDb250cm9scyIsInNldFZpZXciLCJpc01vYmlsZSIsImNvbXBhc3NSb3RhdGlvbiIsInNldENvbXBhc3NSb3RhdGlvbiIsImhhbmRsZVJvY2tldFJvdGF0aW9uIiwicmVzZXRWaWV3IiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJ3aGlsZUhvdmVyIiwiZmlsdGVyIiwid2hpbGVUYXAiLCJ0cmFuc2l0aW9uIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsInN2ZyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJ4bWxucyIsImRlZnMiLCJpZCIsImZlT2Zmc2V0IiwiZHkiLCJmZUdhdXNzaWFuQmx1ciIsInN0ZERldmlhdGlvbiIsImZlQ29sb3JNYXRyaXgiLCJ2YWx1ZXMiLCJsaW5lYXJHcmFkaWVudCIsIngxIiwieTEiLCJ4MiIsInkyIiwic3RvcCIsIm9mZnNldCIsInN0b3BDb2xvciIsImciLCJ0cmFuc2Zvcm0iLCJwYXRoIiwiZCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwiQ3VzdG9tT3JiaXRDb250cm9scyIsIm9yYml0UmVmIiwiY2FtZXJhIiwiZ2wiLCJzY2VuZSIsImlzRHJhZ2dpbmdSb2NrZXQiLCJzZXRJc0RyYWdnaW5nUm9ja2V0IiwiaXNSb2NrZXRIb3ZlcmVkIiwic2V0SXNSb2NrZXRIb3ZlcmVkIiwiaXNEcmFnZ2luZ1JlZiIsInN0YXJ0RHJhZ1Bvc2l0aW9uIiwic3RhcnREcmFnVGltZXN0YW1wIiwiY2FtZXJhUm9sbCIsInJheWNhc3RlciIsIlJheWNhc3RlciIsIm1vdXNlIiwiVmVjdG9yMiIsImlzSW50ZXJhY3RpbmciLCJoYW5kbGVSZXNldENhbWVyYSIsInNldCIsInBvcyIsInVwZGF0ZSIsImRvY3VtZW50IiwiYm9keSIsInN0eWxlIiwiY3Vyc29yIiwiZG9tRWxlbWVudCIsImNoZWNrUm9ja2V0SW50ZXJzZWN0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInNldEZyb21DYW1lcmEiLCJpbnRlcnNlY3RzIiwiaW50ZXJzZWN0T2JqZWN0cyIsImNoaWxkcmVuIiwibm9zZUNvbmVJbnRlcnNlY3Rpb24iLCJmaW5kIiwiaW50ZXJzZWN0Iiwib2JqZWN0IiwiaW5jbHVkZXMiLCJzb21lIiwiY2FsY3VsYXRlUm9sbEZhY3RvciIsImRlbHRhWCIsImRlbHRhVGltZSIsImRyYWdTcGVlZCIsImJhc2VTZW5zaXRpdml0eSIsIm1pblNlbnNpdGl2aXR5IiwibWF4U2Vuc2l0aXZpdHkiLCJzZW5zaXRpdml0eSIsIm9uTW91c2VEb3duIiwiZXZlbnQiLCJpc1JvY2tldCIsInBlcmZvcm1hbmNlIiwiZW5hYmxlZCIsIm9uTW91c2VNb3ZlIiwicmF3RGVsdGFYIiwiY2FtZXJhUG9zaXRpb24iLCJkaXJlY3Rpb24iLCJzdWJWZWN0b3JzIiwibm9ybWFsaXplIiwicm9sbE1hdHJpeCIsIk1hdHJpeDQiLCJtYWtlUm90YXRpb25BeGlzIiwiYXBwbHlNYXRyaXg0Iiwicm90YXRpb25EZWdyZWVzIiwib25Nb3VzZVVwIiwib25Ub3VjaFN0YXJ0IiwidG91Y2hlcyIsImxlbmd0aCIsInRvdWNoIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Nb3VzZUhvdmVyIiwidXBWZWN0b3JzIiwiZW5hYmxlRGFtcGluZyIsImRhbXBpbmdGYWN0b3IiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwicm90YXRlU3BlZWQiLCJlbmFibGVab29tIiwiZW5hYmxlUm90YXRlIiwiZW5hYmxlUGFuIiwicGFuU3BlZWQiLCJzY3JlZW5TcGFjZVBhbm5pbmciLCJPTkUiLCJUT1VDSCIsIlJPVEFURSIsIlRXTyIsIkRPTExZX1BBTiIsIm1vdXNlQnV0dG9ucyIsIkxFRlQiLCJNT1VTRSIsIk1JRERMRSIsIkRPTExZIiwiUklHSFQiLCJQQU4iLCJMYXVuY2hEYXRhIiwic2V0SXNMYXVuY2hlZCIsInNldFRocm90dGxlIiwicmVzZXRSb2NrZXQiLCJsYXVuY2hSb2NrZXQiLCJzcGVlZCIsIm1heFNwZWVkIiwibWF4QWx0aXR1ZGUiLCJsYXVuY2hUaW1lUmVmIiwiZm9yY2VkU3BlZWQiLCJzZXRGb3JjZWRTcGVlZCIsImZvcmNlZEFsdGl0dWRlIiwic2V0Rm9yY2VkQWx0aXR1ZGUiLCJpc1NhZmFyaSIsInNldElzU2FmYXJpIiwiaXNDaHJvbWUiLCJzZXRJc0Nocm9tZSIsImlzSU9TIiwic2V0SXNJT1MiLCJpc01hY09TIiwic2V0SXNNYWNPUyIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsInRvTG93ZXJDYXNlIiwiaXNTYWZhcmlCcm93c2VyIiwidGVzdCIsImlzQ2hyb21lQnJvd3NlciIsImlzSU9TRGV2aWNlIiwiaXNNYWNPU0RldmljZSIsInVwZGF0ZURpc3BsYXlWYWx1ZXMiLCJlbGFwc2VkIiwibmV3U3BlZWQiLCJuZXdBbHRpdHVkZSIsInBvdyIsImRpc3BsYXlTcGVlZCIsImRpc3BsYXlBbHRpdHVkZSIsImdldERpc3BsYXlWYWx1ZSIsInZhbHVlIiwiaXNOYU4iLCJoYW5kbGVCdXR0b25DbGljayIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZ2V0RGFzaGJvYXJkUG9zaXRpb24iLCJkYXNoYm9hcmRQb3NpdGlvbiIsInNwYW4iLCJib3hTaGFkb3ciLCJmaWxsT3BhY2l0eSIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwibWluSGVpZ2h0IiwiaW5wdXQiLCJzdGVwIiwib25DaGFuZ2UiLCJwYXJzZUZsb2F0IiwiV2Via2l0QXBwZWFyYW5jZSIsImFwcGVhcmFuY2UiLCJtYXJrIiwicm91bmQiLCJNaWRkbGVQYW5lbCIsImlzU21hbGxEZXNrdG9wIiwic2VsZWN0ZWRQYXJ0Iiwic2V0U2VsZWN0ZWRQYXJ0Iiwic2V0UmVzZXRUcmlnZ2VyIiwic2V0TWF4QWx0aXR1ZGUiLCJzZXRNYXhTcGVlZCIsInVwZGF0ZUZsaWdodERhdGEiLCJ2ZWwiLCJuZXdQb3MiLCJuZXdWZWwiLCJ0cmFuc2l0aW9uaW5nIiwiaW5pdGlhdGVBY3R1YWxMYXVuY2giLCJpbml0aWFsU3BlZWREaXNwbGF5IiwiaGFuZGxlSGlnaGxpZ2h0IiwiaGFuZGxlVmlld1Jlc2V0Iiwic2hhZG93cyIsImFtYmllbnRMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQiLCJjYXN0U2hhZG93Iiwic2hhZG93LW1hcFNpemUiLCJzaGFkb3ctY2FtZXJhLWZhciIsInNoYWRvdy1jYW1lcmEtbGVmdCIsInNoYWRvdy1jYW1lcmEtcmlnaHQiLCJzaGFkb3ctY2FtZXJhLXRvcCIsInNoYWRvdy1jYW1lcmEtYm90dG9tIiwic3BvdExpZ2h0IiwicGVudW1icmEiLCJkZWNheSIsInByZXNldCIsImJsdXIiLCJmYXIiLCJyZXNvbHV0aW9uIiwiZnJhbWVzIiwiaW5maW5pdGVHcmlkIiwiY2VsbFNpemUiLCJjZWxsVGhpY2tuZXNzIiwic2VjdGlvblNpemUiLCJzZWN0aW9uVGhpY2tuZXNzIiwiZmFkZURpc3RhbmNlIiwiZmFkZVN0cmVuZ3RoIiwiY2VsbENvbG9yIiwic2VjdGlvbkNvbG9yIiwiZmFsbGJhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/panels/MiddlePanel.tsx\n");

/***/ })

};
;